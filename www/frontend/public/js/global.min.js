"use strict";define("global:collection:dictionary",[],function(){var e=Backbone.Collection.extend({model:Backbone.Model.extend({idAttribute:"ID",defaults:{DicCode:"",DicType:0,ID:null,Importance:null,Title:""}}),url:"/api/sources/types"}),t=new e,i={done:function(e,n){this.callback=e,n&&(this.context=n),t.models.length?this.callback.call(i.context,t):t.fetch({reset:!0,success:function(e){i.callback.call(i.context,e)}})}};return i}),define("storage",["i18n!nls/resources.min"],function(e){return new(Backbone.Model.extend({defaults:{Trees:{},Players:[],ConnectUrl:""},initialize:function(){this.Current=null,Backbone.on("storage:addTree",this.addTree,this),Backbone.on("storage:addPlayer",this.addPlayer,this),Backbone.on("storage:clearPlayers",this.clearPlayers,this),Backbone.on("storage:check-add",this.addChecking,this),Backbone.on("storage:check-clear",this.clearChecking,this),Backbone.on("storage:temp-object",this.setCurrent,this)},setCurrent:function(e){this.Current=e},clearChecking:function(e){var t=this.checkCollection.get(e);this.checkCollection.remove(t)},addChecking:function(e){this.checkCollection||(this.checkCollection=new Backbone.Collection),this.checkCollection.add(e)},getTree:function(e,t,i,n){return new Promise(function(o,s){var l=this.get("Trees");if(!l[e]||t){var a=this.getModelForTree(e);require(["g/tree/TreeView"],function(t){var s=n||{};s.model=a,s.api=function(){return"/api/"+e+(i||"")},s.markCurrent=!0,l[e]=new t(s),this.set("Trees",l),o(l[e])}.bind(this))}else l[e].operation=this.getModelForTree(e).get("present").operation,o(l[e])}.bind(this))},getModelForTree:function(e){if($.trim(e))return this.buts||this.getButs(),new Backbone.Model(_.findWhere(this.buts,{id:e}))},getButs:function(){var t=e.QueryButtonsData,i=[];return _.each(t,function(e){i.push(e);var t=e.addButtons;t&&(i=_.union(i,t))},this),this.buts=i,i},addPlayer:function(e,t){this.get("Players").push(e)},clearPlayers:function(){var e=this.get("Players");_.each(e,function(e){e.pause(),e.src="",e.load(),e={}},this)}}))}),define("global.behaviors.input",[],function(){return Mn.Behavior.extend({ui:{input:"input[type=text].g-form--input",clear:"i.clear",switchEdit:"#switch-edit",help:"i.help"},events:{"click .g-tip kbd":function(e){$(e.target).closest(".g-tip").hide()},"click @ui.help":function(e){$(e.target).next(".g-tip").show().delay(3e3).fadeOut()},"click @ui.clear":function(e){$(event.target).prevAll("input").val("").removeClass("filled")},'focus @ui.input:not(".disabled")':"filled",'blur @ui.input:not(".disabled")':"filled","click @ui.switchEdit":function(e){var t=$(e.target),i="off"===t.attr("mode");t.attr("mode",i?"on":"off"),this.$form.toggleClass("readonly"),i?this.$form.find(".inquiry-form--controls .row div:last").show():this.$form.find(".inquiry-form--controls .row div:last").hide(),_.each(this.ui.input,function(e){var t=$(e);this.$form.hasClass("readonly")?t.prop("disabled",!0):t.prop("disabled",!1)},this)}},filled:function(e){var t=$(e.target);$.trim(t.val())?(t.addClass("filled"),this.ui.clear.show()):t.removeClass("filled")},onRender:function(){this.$form=null,_.each(this.ui.input,function(e){var t=$(e);$.trim(t.val())&&t.addClass("filled"),t.closest(".readonly").get(0)&&!this.$form&&(this.$form=t.closest(".readonly").eq(0)),this.$form&&t.prop("disabled",!0)},this),_.each(this.ui.help,function(e){$.trim($(e).next(".g-tip").text())||$(e).hide()}),this.$form||(this.ui.switchEdit.hide(),this.ui.switchEdit.siblings("label").hide())}})}),define("global.radio.dialog",["i18n!nls/resources.min","global.model.dialog","global.view.dialog"],function(e,t,i){return new(Mn.Object.extend({channelName:"Notify",radioRequests:{"show:overlay":function(){var e=$("body").find(".g-dialog--overlay");e.get(0)||(e=$('<div class="g-dialog--overlay"></div>'),$("body").append(e)),e.show()},"hide:overlay":function(){$("body").find(".g-dialog--overlay").hide()},"uniq:dialog":function(e){throw"uniq:dialog, - see to callstack"},"once:dialog":function(e){var t=this.initDialog(e);return this.dialog=new i({model:t}),this.getChannel().request("add:dialog",this.dialog),this.listenTo(this.dialog,"toolbar:item:click",this.callToolsDialog),this.listenTo(this.dialog,"toolbar:input:keyup",this.callFilterDialog),this.listenTo(this.dialog,"container:select:item",this.treeSelectItem),this.dialog}},initDialog:function(e){var i=new t;return _.each(e,function(e,t){switch(t){case"tools":case"toolbar":i.get("toolbar").set(e);break;case"controls":case"footer":i.get("footer").set(e);break;default:i.set(t,e)}}),i},treeSelectItem:function(e){if(!this.dialog.getChildView("toolbar"))return this;this.editableView=e;var t=this.dialog.getChildView("toolbar");if(t.collection.length){var i=t.collection.get("add"),n=t.collection.get("rename"),o=t.collection.get("clear");t.children.findByModel(i).$("span").removeClass("disabled"),"-1"!==e.model.id?(t.children.findByModel(n).$("span").removeClass("disabled"),t.children.findByModel(o).$("span").removeClass("disabled")):(t.children.findByModel(n).$("span").addClass("disabled"),t.children.findByModel(o).$("span").addClass("disabled"))}},callToolsDialog:function(t){if(this.editableView)switch(t.model.id){case"add":this.editableView.showAddTemplate();break;case"rename":this.editableView.model.set("isEdit",!0);break;case"clear":if("-1"===this.editableView.model)return;Backbone.trigger("message:confirm",{title:e.askyousure,message:$.Format(e.deltext,"",this.editableView.model.get("title")),fx:function(){this.editableView.model.destroy()},ctx:this})}},callFilterDialog:function(e){var t=e.$("input").val().toLowerCase(),i=this.dialog.model.get("content").children?this.dialog.model.get("content"):this.dialog.model.get("content").getChildView("tree");!function e(i){i.children.each(function(i){var n=i.model;-1!==parseInt(n.id)&&(-1!==n.get("title").toLowerCase().indexOf(t)||n.has("nodes")?i.$el.show():i.$el.hide()),n.has("nodes")&&e(i.getChildView("tree"))})}(i)}}))}),define("global.radio.sideBar",[],function(){var e=Backbone.Model.extend({defaults:{view:null,nameView:"",title:""}}),t=Mn.CollectionView.extend({tagName:"ul",childView:Mn.View.extend({tagName:"li",template:_.template('<span class="<%- icon %>" title="<%- title %>"><%- title %></span>'),triggers:{click:"menu:item"}}),childViewTriggers:{"menu:item":"menu:item"}}),i=Mn.View.extend({el:".sidebar",template:!1,ui:{title:".current-title",name:".title"},regions:{list:{el:".list",replaceElement:!0}},events:{"click .control":function(){this.$el.toggleClass("expanded",function(e){this.isHide=!$(e).hasClass("expanded")}.bind(this))}},initialize:function(){this.model=new e,this.collection=new Backbone.Collection},modelEvents:{change:function(e){this.ui.name.text(this.model.get("title")),this.ui.title.text(this.model.get("nameView"))}},childViewEvents:{"menu:item":function(e){this.model.has("view")&&this.model.get("view").sideBarTrigger(e.model)}},collectionEvents:{reset:function(){}},onRender:function(){this.showChildView("list",new t({collection:this.collection}))}}),n=void 0;new(Mn.Object.extend({channelName:"sidebar",radioRequests:{open:function(e,t){return n.model.set(e),n.collection.reset(t),n}},radioEvents:{show:function(){n||(n=(new i).render()),n.$el.show()},reset:function(){n.model.set(n.model.defaults),n.collection.reset()},hide:function(){n||(n=(new i).render()),n.$el.hide()},close:function(){n.$el.removeClass("expanded")}}}))}),define("global.radio.loader",[],function(){var e=$('<i class="loading" size="xl" speed="medium"></i>'),t=$('<div class="g-dialog--overlay" style="display:block"></div>');return new(Mn.Object.extend({channelName:"loader",radioEvents:{show:function(i,n){var o=this;this.$el=i,this.$el.find(".loading").get(0)||(e.css("display","block"),n&&(_.has(n,"size")&&e.attr("size",n.size),_.has(n,"speed")&&e.attr("speed",n.speed),n.overlay&&i.append(t)),i.append(e),this.timeout=setTimeout(function(){var e=o.$el;e&&(e.find(".loading").remove(),e.find(".g-dialog--overlay").remove())},12e4))},hide:function(){var e=this.$el;e&&(e.find(".loading").remove(),e.find(".g-dialog--overlay").remove()),clearTimeout(this.timeout)}}}))}),define("app",["i18n!nls/resources.min"],function(e){return{Select:new(Backbone.Model.extend({defaults:function(){return{present:"3",query:null,list:null,page:1,detail:null,tab:0,sub:0,params:{id:-1}}},data:["query","list","page","detail","tab","sub"],initialize:function(){this.on("change:query",this.query,this),this.on("change:list",this.list,this),this.on("change:detail",this.detail,this),this.on("change:tab",this.detail,this),this.on("change:sub",this.detail,this),Backbone.on("balance:start",function(e){this.tickBalance=e},this),this.on("change",this.change,this)},fill:function(e){if(e)for(var t=e.split("/"),i=0;i<this.data.length;i++)this.set(this.data[i],t[i]||this.get(this.data[i]))},fullpath:function(){return this.get("present")+"|"+this.getpath()},getpath:function(){for(var e=[],t=0;t<this.data.length;t++){var i=this.get(this.data[t]);if(!$.trim(i))break;e.push(i)}return e.join("/")},query:function(){this.set("list",null)},list:function(){this.get("list")&&-1!==this.get("list").indexOf("=")?this.set("params",this.getObjectByParam(this.get("list"))):this.set("params",null),this.set({page:1})},detail:function(){this.checkMonitoring(),this.tickBalance&&(clearTimeout(this.tickBalance),this.tickBalance=null)},monitoring:{o:-1,f:null},checkMonitoring:function(){var e=parseInt(this.get("detail")),t=this.monitoring,i=(4===parseInt(this.get("tab"))||2===parseInt(this.get("tab")))&&0===parseInt(this.get("sub")),n=t.f!==i;t.o!==e&&(t.o=e,n=!0),n&&(t.f=i,require(["signalR"],function(){require(["/signalr/hubs"],function(){require(["/scripts/IWC-SignalR-master/signalr-patch.js","/scripts/IWC-SignalR-master/iwc-signalr.js"],function(){var t=SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}});e&&setTimeout(function(){i?t.server.startMonitoringTasks($.ajaxSettings.url,e):t.server.stopMonitoringTasks($.ajaxSettings.url,e)},1e3)})})}))},change:function(){},getObjectByParam:function(e){if(!$.trim(e))return null;for(var t={},i=e.split("&"),n=0;n<i.length;n++){var o=i[n],s=o.split("=");t.hasOwnProperty(s[0])||(t[s[0]]=s[1])}return t}})),link:function(){var e=arguments[0],t=arguments[1]||"details",i=e.id;return location.pathname+"/files/"+t+"/"+i},prepare:function(e,t,i){var n=[],o=t||"systemName";return e.href,$.isArray(e)||(e=[e]),Array.from(e,function(e){var t={propType:{}};Array.from(e.data,function(e){t[e[o]]=e.value,t.propType[e[o]]=e.propType},this),t.href=e.href,n.push(t)},this),n},parse:function(t,i,n){var o=t;switch(i){case 2:o=n?new Date(t).toLocaleString():new Date(t).toLocaleDateString(e.Lang)}return o},Get:function(e){var t=e.items,i=t.length,n=new Backbone.Collection({data:[{name:"Display_Name",value:"Not found"}]});return i&&(n=new Backbone.Collection(t)),n},_param:function(e){var t="",i=[];for(var n in e)n&&(t=n+"="+e[n],i.push(t));return i.join("&")},check:function(e,t,i){if(this.access){var n="string"===$.type(e)?e:e.attr("data-id");if(!n)return!1;var o=-1!==this.access.indexOf(n);if(!t||!o)return o;$.cookie("hia")?t.call(i,$.cookie("hia")):$.ajax({url:"/api/common/0/"+n}).done(function(e){e&&(parseInt(e.data[0].value)&&t.call(i,e.data[1].value),$.cookie("hia",e.data[1].value,{expires:30,path:"/"}))}).fail(function(){$.Error(arguments[0])})}},show:function(e){var t=this;e.each(function(e,i){t.check($(i).attr("data-id"))?$(i).show():$(i).hide()})},navigate:function(e,t){var i=this.router||new Backbone.Router,n=!!t;i.navigate(e,{trigger:n})},get:function(){var e=location.hash,t=e.split("|"),i=t[1].split("?"),n=i[0],o=n.split("/");return this.fill(o)},collectUrl:function(e,t){var i=this.addParams(e,t,!0);if(-1===i[0].indexOf("?")&&-1===i[0].indexOf("=")){var n=i[1];i.splice(1,1),i[0]=i[0]+"?"+n}return i.join("&")},getContext:function(){return{key:$.ajaxSettings.url}},addParams:function(e,t){var i="";if(t&&-1!==t.indexOf("?")){var n=t.split("?");i=n[0],t=n[1]}var o=t?t.split("&"):[];for(var s in e){var l=s+"="+e[s];if(n=this.getParam(s,t)){var a=s+"="+n;o[o.indexOf(a)]=l}else o.push(l)}return(i?i+"?":"")+o.join("&")},getParams:function(e,t){var i=[e,""];if(t)for(var n=t.split("&"),o=0;o<n.length;o++){var s=n[o],l=s.split("=");if(l[0]===e)return l}return i},getParam:function(e,t){return this.getParams(e,t)[1]},parseHash:function(){var e={};if(location.hash){var t=location.hash,i=t.split("?");if(i.length>=2)for(var n=i[1].split("&"),o=0;o<n.length;o++){var s=n[o],l=s.split("=");e[l[0]]=l[1]}}return e}}}),define(["i18n!nls/resources.min"],function(e){function t(){new Date-n<s?setTimeout(t,s):(o=!1,Backbone.trigger("window:resizeend"))}function i(e){var t="ui-icon-info";switch(e){case"unknown":t="ui-icon-info";break;case"stopped":t="ui-icon-lightbulb";break;case"complited":t="ui-icon-check";break;case"created":t="ui-icon-pencil";break;case"processing":t="ui-icon-clock";break;case"invalid":t="ui-icon-trash"}return t}$.ajaxSetup({headers:{key:window.location.origin+window.location.pathname+window.location.search+encodeURIComponent(window.location.hash)},timeout:12e4,error:function(e,t){t},beforeSend:function(e,t){},complete:function(e){}}),$.xhrPool=[],$.xhrAbortAll=function(){$.xhrPool.map(function(e){e.abort()}),$.xhrPool=[]};var n=new Date(1,1,2e3,12,"00","00"),o=!1,s=200;$(window).resize(function(e,i){i&&$(i.element).hasClass("anbr-widget")||(n=new Date,!1===o&&(o=!0,setTimeout(t,s)))}),function(t){t.prepare=function(e,i){if(!e)return[];var n=[],o=i||"systemName";e.href;return t.isArray(e)||(e=[e]),Array.from(e,function(e){var t={propType:{}};Array.from(e.data,function(e){t[e[o]]=e.value,t.propType[e[o]]=e.propType},this),t.href=e.href,t.links=e.links,n.push(t)},this),n},t.Format=function(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];if(0===t)e=i;else{var n="{"+(t-1)+"}";e=e.replace(n,i)}}return e},t.fn.showIndicator=function(){var e="_"+(new Date).getTime(),i=this.get(0)?{left:this.offset().left+this.width()/2,top:this.offset().top+this.height()/2}:{left:t(window).width()/2,top:t(window).height()/2};this.attr("loaderid")&&this.hideIndicator(),this.attr("loaderid",e),t("#Rotor").clone().attr("id",e).addClass("loader-indicator").appendTo("body").css(i).show(),setTimeout(function(){this.hideIndicator()}.bind(this),6e4)},t.fn.hideIndicator=function(e){t("#"+this.attr("loaderid")).remove(),this.removeAttr("loaderid")},t.mergeUrlParam=function(e,t){if(-1===e.indexOf("#")){var i=e.split("?"),n=[],o=i[1]?_.chain(i[1].split("&")).map(function(e){if(e)return e.split("=")}).compact().object().value():{},s=_.chain(o).extend(t).map(function(e,t){return t+"="+e}).value();return i[0]+"?"+s.join("&")}return i=e.split("#"),n=i[0].split("?"),o=n[1]?_.chain(n[1].split("&")).map(function(e){if(e&&-1!==e.indexOf("="))return e.split("=")}).compact().object().value():{},s=_.chain(o).extend(t).map(function(e,t){return t+"="+e}).value(),n[0]+"?"+s.join("&")+"#"+i[1]},t.Error=function(e){},t.GetData=function(e){var i={};return e.find("input:not(.ignore)").each(function(){if(t(this).attr("name"))if("checkbox"===t(this).attr("type"))i[t(this).attr("name")]=t(this).prop("checked");else if("radio"===t(this).attr("type"))t(this).prop("checked")&&(i[t(this).attr("name")]=t(this).val());else if(t(this).hasClass("Timepicker")||t(this).hasClass("datepicker")){var e=t(this).datetimepicker("getDate");i[t(this).attr("name")]=null!==e?e.toISOString():null}else t(this).hasClass("ejdatepicker")?i[t(this).attr("name")]=t.ToISO(t(this).data("ejDatePicker").getValue()):t(this).hasClass("ejtimepicker")?i[t(this).attr("name")]=t.ToISO(t(this).data("ejTimePicker").getValue()):i[t(this).attr("name")]=t(this).val()}),e.find("select:not(.ignore)").each(function(){t(this).is(":visible")&&(i[t(this).attr("name")]=t(this).val())}),e.find("textarea:not(.ignore)").each(function(){t(this).is(":visible")&&(i[t(this).attr("name")]=t(this).val())}),i},t.MarkErrorForm=function(e,t){this.$el.hideIndicator(),this.$("#info").text(""),this.$("input").css("border-color",""),_.each(t,function(e){e.text&&this.$("#info").text(e.text),this.$("[name='"+e.name+"']").css("border-color","red")},this)},t.GenQuery=function(e,i,n){var o={"ё":"е","и":"й","е":"ё","й":"и"},s=function(e){for(var t="",i=0;i<e.length;i++)t+=o[e.charAt(i)]||e.charAt(i);return t},l=new RegExp("^"+t.ui.autocomplete.escapeRegex(e.term),"i"),a={lit:e.term,name:n};t.ajax({url:"/api/Dictionary/ByName/",dataType:"json",data:a,error:function(e,i){t.Error(i)},success:function(e){i(t.grep(e.data,function(e){return e=e.label||e.value||e,l.test(e)||l.test(s(e))}))}})},t.addIcon=function(e,n){var o=e.closest("div").find("span.TreeElementTitle span"),s=i(n.status),l="severity"+n.severity;if(o.get(0)){if(o.attr("title")!==n.state){var a=e.closest("div").find("span.TreeElementTitle"),c="severity"+n.severity;l=a.attr("data-pc"),nicon_class=i(n.status),o.removeClass(s).addClass(nicon_class).attr("data-ic",nicon_class).attr("title",n.state),s=o.attr("data-ic"),a.removeClass(l).addClass(c)}}else o=t("<span class='ui-icon ui-corner-all "+s+"' title='"+n.state+"' data-ic='"+s+"'></span><span>"+n.state+"</span>"),e.closest("div").find("span.TreeElementTitle").addClass(l).attr("data-pc",l).append(o)},t.ToISODateOnly=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T00:00:00Z"},t.ToISO=function(t){if(t){if(!isNaN(Date.parse(t))&&new Date(t).toISOString()===t)return t;if(-1!==t.indexOf(":")){var i=t.split(":"),n=new Date;return n.setHours(parseInt(i[0])),n.setMinutes(parseInt(i[1])),n.toISOString()}if("ru-RU"!==e.Lang)return new Date(t).toISOString();var o=t.split("."),s=o[1]+"/"+o[0]+"/"+o[2];return isNaN(Date.parse(s))?(console.error("Дата ["+t+"] не валидна! - "+s),t):new Date(s).toISOString()}},t.parseDate=function(t){var i=t.split(" ");return Date.parse(i[0])?new Date(i[0]).toLocaleDateString(e.Lang):i[0]}}(jQuery)}),define("c/EdgeView",["includeModules","i18n!nls/resources.min"],function(e,t){function i(e){var t=location.pathname.split("/").filter(function(t){return-1!==t.indexOf(e)});if(t.length)return t[0];var i=location.search.substring(1).replace(/%2f/g,"/");return-1!==i.indexOf("returnUrl")&&(t=i.split("/").filter(function(t){return-1!==t.indexOf(e)})),t.length?t[0]:(t=i.split("&").filter(function(t){return-1!==t.indexOf(e)}),t.length?t[0].split("=")[1]:0)}function n(e){var t=i("lang")||"lang-ru-RU",n=i("db")||"db0",o=e.get("Url");if(-1===o.indexOf("http")||-1===o.indexOf("https")){var s=o.replace("{lang}",t);s=-1===o.indexOf("{db}")?s+"?db="+n:s.replace("{db}",n),e.set("Url",s)}}var o=Mn.CollectionView.extend({className:"default-start-tabs",childView:Mn.View.extend({tagName:"a",template:_.template("<%= GroupTitle %>"),triggers:{click:"change:module"},onRender:function(){this.model.has("active")&&this.$el.addClass("active"),this.$el.attr("href","#"),this.model.get("Edges")&&this.triggerMethod("add:edges",this.model.get("Edges"))}}),childViewOptions:function(e,t){t||e.set("active",!0)},childViewTriggers:{"add:edges":"add:edges","change:module":"change:module"}}),s=Mn.CollectionView.extend({tagName:"ul",childView:Mn.View.extend({tagName:"li",template:_.template('<a href="<%= Url %>" class="btn-start btn-start--<%= Code %>" target="_blank"><%= Title %></a>'),triggers:{"click a":{event:"edge:collapse",preventDefault:!1}}}),childViewOptions:function(e){n(e)},childViewTriggers:{"edge:collapse":"edge:collapse"}});return Mn.View.extend({className:"default-start-nav collapsed",template:"#edge-block-template",templateContext:{Resources:t},events:{"touchstart .default-start-nav-path":"defaultNav","click .default-start-nav-path":"defaultNav","touchstart .default-start-nav-close":"startNav","click .default-start-nav-close":"startNav"},defaultNav:function(){var e=i("lang")||"lang-ru-RU",t=i("db")||"db0";location.href="db0"===t?"/"+e+"/home/main":"/"+e+"/"+t+"/home/main"},startNav:function(){if("ABS\\Demo01"==$("#InfoUser").text())return void(location.href="/");this.$el.hasClass("collapsed")?this.$el.animate({height:376,width:570},150,function(e){this.$el.addClass("expanded").removeClass("collapsed"),$("header").prepend('<div class="overlay"></div>')}.bind(this)):this.$el.hasClass("expanded")&&this._collapse()},regions:{tabs:{el:".default-start-tabs",replaceElement:!0},modules:".default-start-tabs-inner"},onRender:function(){this.showChildView("tabs",new o({collection:this.collection}))},_collapse:function(){this.$el.animate({height:44,width:44},150,function(e){this.$el.addClass("collapsed").removeClass("expanded"),$("div.overlay").remove()}.bind(this))},childViewEvents:{"edge:collapse":function(){this._collapse()},"add:edges":function(t){var i=_.filter(t,function(t){return t.Enabled&&-1!==e.indexOf(t.Code)});this.getRegion("modules").hasView()?this.getRegion("modules").attachHtml(new s({collection:new Backbone.Collection(i)}).render()):this.showChildView("modules",new s({collection:new Backbone.Collection(i)}))},"change:module":function(e){this.$(".default-start-tabs a.active").removeClass("active"),e.$el.addClass("active");var t=492*e._index;this.$(".default-start-tabs-inner").animate({left:t?"-"+t:0},400,"easeInOutBack")}}})});var ScheduleModel=Backbone.Model.extend({idAttribute:"UID",defaults:{UID:null,Title:"",TimeStartExecution:null,PointDateForSelection:null,Periodicity:1,WhichDaysOfWeek:[],Subscribers:"",SchedulingTaskType:0,State:1,EmailTopic:"",EmailBody:""},validate:function(e){var t=[];if($.trim(e.Title)||t.push("Title"),$.trim(e.TimeStartExecution)||t.push("TimeStartExecution"),$.trim(e.Subscribers)||t.push("Subscribers"),"3"===e.Periodicity){var i=[];for(var n in e)-1!==n.indexOf("Day_")&&e[n]&&i.push(parseInt(n.split("_")[1]));this.set("WhichDaysOfWeek",i)}if(this.set("Periodicity",parseInt(e.Periodicity)),t.length)return t}}),scheduleCollection=Backbone.Collection.extend({model:ScheduleModel,url:"/api/autoexecscheduling/items"});define("schedule",["RU","i18n!nls/resources.min"],function(e,t){var i=Mn.CollectionView.extend({childView:Mn.View.extend({template:_.template('<input type="checkbox" name="Day_<%- name %>" value="<%- id %>" id="d<%- id %>" class="g-form--checkbox"><label for="d<%- id %>"><%- title %></label>'),onRender:function(){this.$el.css({float:"left",width:"120px"}),this.$("input").prop("checked",this.model.get("checked"))}}),childViewOptions:function(e){e.set({checked:-1!==this.model.get("value").indexOf(e.id)})}}),n=Mn.CollectionView.extend({childView:Mn.View.extend({template:_.template('<input type="radio" name="<%- name %>" value="<%- id %>" class="g-form--radio" id="r<%- id %>" /><label for="r<%- id %>"><%- title %></label>'),onRender:function(){this.$("input").prop("checked",this.model.id===this.model.get("value"))},events:{"click input":function(){this.triggerMethod("click:radio",this.model)}}}),childViewOptions:function(e){e.set({name:this.model.get("name"),value:parseInt(this.model.get("value"))})}});return Mn.View.extend({template:"#case-schedule-item-template",templateContext:{Resources:t},regions:{period:".period",days:".days-block"},events:{"click .cancel, .close":function(){this.$el.hide()},"click .save":function(e){var t=$.GetData(this.$(".ScheForm:not(.digest)")),i=$.GetData(this.$(".digest")),n=JSON.parse(this.model.get("Data"));this.model.set("Data",JSON.stringify(Object.assign(n,i))),$(e.target).showIndicator(),this.model.save(t,{wait:!0,success:function(){$(e.target).hideIndicator()}})}},onChildviewClickRadio:function(e){if(3===e.id){var n=t.setlocal(),o=_.map([0,1,2,3,4,5,6],function(e){return{id:e,title:n.dayNames[e]}});this.showChildView("days",new i({model:new Backbone.Model({value:this.model.get("WhichDaysOfWeek")}),collection:new Backbone.Collection(o)}))}else this.getRegion("days").empty()},onRender:function(e){this.showChildView("period",new n({model:new Backbone.Model({name:"Periodicity",value:this.model.get("Periodicity")}),collection:new Backbone.Collection([{title:t.everyhour,id:1},{title:t.everyday,id:2},{title:t.everyweek,id:3}])}));var i=this.model.get("TimeStartExecution")?new Date(this.model.get("TimeStartExecution")):new Date;this.$(".ejtimepicker").ejTimePicker({locale:t.Lang,width:"100px",interval:10,value:i})}})}),define("export",["i18n!nls/resources.min"],function(e){return Mn.View.extend({template:"#case-export-template",templateContext:{Resources:e},save:function(e){e.$el.addClass("disabled").attr("data-icon","icon-loader");var t=$.GetData(this.$el),i=_.map(this.options.selected,function(e){return e.id});t.list=i,$.post({url:"/api/Export",data:$.param(t)}).always(function(t){e.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",t)}.bind(this))}})}),define("import",["i18n!nls/resources.min","global.view.dropDown"],function(e,t){return Mn.View.extend({template:"#case-import-template",templateContext:{Resources:e},regions:{dd:"#exp-items"},initialize:function(){this.collection=new Backbone.Collection,this.collection.url="/api/Export"},onRender:function(){this.showChildView("dd",new t({collection:new Backbone.Collection})),this.collection.fetch({reset:!0})},collectionEvents:{reset:function(){this.getChildView("dd").collection.reset(this.collection.map(function(e){return{title:e.get("CDate"),id:e.get("ID")}}))}},save:function(e){var t=this.getChildView("dd").current;t.has("id")&&(e.$el.removeClass("disabled").attr("data-icon","icon-loader"),$.post({url:"/api/export/transferdata",data:$.param({ID:t.id,CDate:t.get("title")})}).always(function(t){e.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",t)}.bind(this)))}})}),define("factdigest",["i18n!nls/resources.min","schedule","RU"],function(e,t,i){var n=Backbone.Model.extend({defaults:{id:null,TitleTop:"",TitleMiddle:"",TitleBottom:"",PointDateForSelection:(new Date).toString()}});return Mn.View.extend({template:"#case-factdigests-template",templateContext:{Resources:e},events:{"change #show-sche":function(e){$(e.target).prop("checked")?this.showChildView("sche",new t({model:new ScheduleModel})):this.getRegion("sche").empty()},"blur input":function(){if(this.getRegion("sche").hasView()){var e=this.getChildView("sche").model;e.set($.GetData(this.$(".sche-container"))),e.isValid()&&(this.$("input").each(function(){$(this).css("border-color","")}),this.$(".next").removeClass("disabled"),this.$(".next").find("span.loader").remove())}}},regions:{sche:".sche-container"},initialize:function(){this.model=new n},onRender:function(){this.$("input[name='PointDateForSelection']").ejDatePicker({locale:e.Lang,buttonText:e.Today,value:new Date(this.model.get("PointDateForSelection")).toLocaleDateString(e.Lang)});var t=this.options.selected[0];t?this.$("#objForFactDigest").html(t.get("display_name")+"&nbsp;-&nbsp;<i>"+t.get("typename")+"</i>"):this.triggerMethod("show:message",e.noselect)},save:function(e){if(this.$("input").each(function(){$(this).css("border-color","")}),this.model.set($.GetData(this.$el)),this.getRegion("sche").hasView()){var t=this.getChildView("sche").model;if(t.set($.GetData(this.$(".sche-container"))),!t.isValid())return _.each(t.validationError,function(e){this.$("input[name='"+e+"']").css("border-color","red")},this),this;t.set("SchedulingTaskType",2),this.model.set("SchedulingTaskData",t.toJSON())}e.$el.addClass("disabled").attr("data-icon","icon-loader"),$.ajax({method:"POST",contentType:"application/json; charset=utf-8",url:"/api/export/genfactdigest/"+this.options.selected[0].id,data:JSON.stringify(this.model.toJSON())}).always(function(t){e.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",t)}.bind(this))}})}),define("docdigest",["i18n!nls/resources.min","schedule","g/tree","c/searchPanel","global.view.dialog"],function(e,t,i,n,o){var s=Backbone.Model.extend({defaults:{id:null,TitleTop:"",TitleMiddle:"",TitleBottom:"",SelectedObjectsForKeyPhrases:[],Sources:[]}});return Mn.View.extend({template:"#case-docdigest-template",templateContext:{Resources:e},ui:{req:"#sel-request",keys:".selected-key-obj"},regions:{sche:".sche-container",sd:"#choose-dialog"},initialize:function(){this.model=new s({Sources:this.collection.pluck("object_id")})},onRender:function(){},events:{"change #show-sche":function(e){$(e.target).prop("checked")?this.showChildView("sche",new t({model:new ScheduleModel})):this.getRegion("sche").empty()},"click input[value=a]":function(){this.model.set("Sources",this.collection.pluck("id")),this.ui.req.html("")},"click input[value=b]":function(){var t={title:e.selectRequest,color:"blue",controls:[],tools:[],content:new i({collection:new Backbone.Collection,node:{checkbox:!1}}),zindex:1e3};t.content.collection.url="/api/request",t.content.collection.fetch({reset:!0});var n=Backbone.Radio.channel("Notify").request("once:dialog",t);this.listenTo(n,"container:select:item",function(e){e.model.get("isdoc")&&(this.model.set("Sources",[e.model.id]),this.ui.req.html(" - [ <b>"+e.model.get("title")+"</b> ]"),n.$el.hide())}.bind(this))},"blur input":function(){if(this.getRegion("sche").hasView()){var e=this.getChildView("sche").model;e.set($.GetData(this.$(".sche-container"))),e.isValid()&&(this.$("input").each(function(){$(this).css("border-color","")}),this.$(".next").removeClass("disabled"),this.$(".next").find("span.loader").remove())}},"click .choose":function(){var t={title:e.selectingObj,color:"blue",toolbar:new Backbone.Collection([{id:"searchObj",className:"search",template:'<span class="g-form--input input-data"><input type="text" name="search-name" value="" class="g-form--input" placeholder="Enter keyword"/><i class="search rtl-1" name="search"></i></span>'},{id:"filterByType",className:"filter"}]),footer:new Backbone.Collection([{id:"save",title:e.save,className:"right blue"}]),content:new n({rig:this.options.rid,collection:new Backbone.Collection}),zindex:1e3};this.showChildView("sd",new o(t)),this.listenTo(o,"footer:button:click",function(i){if("save"===i.model.id){var n=t.view.collection;n.length?(this.model.set("SelectedObjectsForKeyPhrases",n.pluck("id")),this.ui.keys.html(n.pluck("title").join("; "))):this.ui.keys.html(e.noselect)}o.close()})}},save:function(t){if(this.$("input").each(function(){$(this).css("border-color","")}),this.model.set($.GetData(this.$el)),this.getRegion("sche").hasView()){var i=this.getChildView("sche").model;if(i.set($.GetData(this.$(".sche-container"))),!i.isValid())return Array.from(i.validationError,function(e){this.$("input[name='"+e+"']").css("border-color","red")},this),null;i.set("SchedulingTaskType",1),this.model.set("SchedulingTaskData",i.toJSON())}if(!this.model.get("Sources").length)return this.triggerMethod("show:message",e.warning+": <br/><small>"+e.notselected+" "+e.source.toLowerCase()+"</small>"),this;t.$el.addClass("disabled").attr("data-icon","icon-loader"),$.ajax({method:"post",contentType:"application/json; charset=utf-8",url:"/api/export/gendocsdigest",data:JSON.stringify(this.model.toJSON())}).always(function(i){t.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",500===i.status?e.warning+": <br/><small>"+i.statusText+"</small>":i)}.bind(this))}})}),define("schetasks",["i18n!nls/resources.min","schedule","c/SimpleTableView","factdigest","docdigest"],function(e,t,i,n,o){return Mn.View.extend({template:"#case-schedules-template",templateContext:{Resources:e},regions:{list:".list-tasks",schedule:".item-sche",digest:".item-digest"},start:function(t){$.get("/api/autoexecscheduling/items/"+t.id+"/execute").done(function(){this.triggerMethod("show:message",e.success)}.bind(this))},clear:function(t){this.triggerMethod("show:message:confirm",{text:e.askyousure+"<br/><small>"+$.Format(e.deltext,e.scheTasks,t.get("Title"))+"</small>",fx:function(){t.destroy({wait:!0})},ctx:this})},enable:function(e){var t=e.collection.url+"/"+e.id+"/activate";e.set("State",1),$.ajax({method:"PUT",url:t,data:$.param({State:1})})},disable:function(e){var t=e.collection.url+"/"+e.id+"/deactivate";e.set("State",0),$.ajax({method:"PUT",url:t,data:$.param({State:0})})},
digest:function(e){this.curent!==e.id&&this.getRegion("schedule").empty(),1===e.get("SchedulingTaskType")?this.showChildView("digest",new o({model:new Backbone.Model(JSON.parse(e.get("Data"))),collection:this.collection})):this.showChildView("digest",new n({model:new Backbone.Model(JSON.parse(e.get("Data"))),collection:this.collection}))},schedule:function(e){this.curent!==e.id&&this.getRegion("digest").empty(),this.showChildView("schedule",new t({model:e}))},onChildviewTableRowCmd:function(e){this[$(event.target).attr("data-cmd")].call(this,e.model),this.curent=e.model.id},initialize:function(){this.collection=new scheduleCollection},onRender:function(){var t=new Backbone.Collection([{id:0,title:""},{id:1,title:e.title,width:"30%"},{id:2,title:e.type},{id:3,title:e.send},{id:4,title:e.tosend},{id:5,title:e.status},{id:7,title:""}]);this.showChildView("list",new i({collection:this.collection,rowTemplate:'<td><span data-cmd="start" data-icon="icon-next" title="<%= Resources.run %>"></span></td><td><span class="link" data-cmd="digest"><%= Title %></span>&nbsp;&nbsp;<span data-icon="icon-clock" data-cmd="schedule"></span></td><td><%= SchedulingTaskType==1?Resources.typeTask1:Resources.typeTask2 %></td><td><%= LastStartDateTime?new Date(LastStartDateTime).toLocaleString():"" %></td><td><%= NextStartDateTime?new Date(NextStartDateTime).toLocaleString():"" %></td><td><%= State?Resources.state1:Resources.state2 %>&nbsp;<% if(State){ %><span data-icon="icon-status--green" data-cmd="disable" title="<%= Resources.tostate1 %>"></span><% } else { %><span data-icon="icon-status--grey" data-cmd="enable" title="<%= Resources.tostate2 %>"></span><% } %></td><td><span data-cmd="clear" data-icon="icon-trash"></span></td>',head:t})),this.collection.fetch({reset:!0})}})}),define("c/BasketView",["i18n!nls/resources.min","global.model.dialog","global.view.dialog","global.grid.dataItemsView"],function(e,t,i,n){return i.extend({initialize:function(){Backbone.on("basket:add",this.add,this),this.collection=new Backbone.Collection,this.collection.url="/api/Cart/",this.model=new t({size:"full",header:{icon:"icon-case",manage:[{id:"close"}]},autoOpen:!1,title:e.basket,toolbar:new Backbone.Collection([{id:"export",className:"export",title:e.export},{id:"import",className:"import",title:e.import},{id:"factdigest",className:"fact",title:e.wizarddigest+" : "+e.factDigest},{id:"docdigest",className:"doc",title:e.wizarddigest+" : "+e.docDigest},{id:"schetasks",className:"task",title:e.scheTasks},{id:"clear",className:"clear",title:e.clearSelected},{id:"erase",className:"erase right",title:e.clearBasket}]),content:new n({collection:this.collection,hideButton:!0})})},onBeforeRender:function(){this.collection.fetch({reset:!0})},onChildviewAfterLoad:function(t){this.model.set("title",e.basket+" ("+t+")"),this.triggerMethod("update:case",t)},onChildviewToolbarItemClick:function(t){var n=t.model.id,o=this.getChildView("content").getChildView("table");_.isFunction(this[n])?this[n]():o.modelsSelected||"export"!==n&&"factdigest"!==n?require([n],function(n){var s=new i({title:t.model.get("title"),content:new n({collection:o.getChildView("body").collection,selected:o.modelsSelected}),toolbar:new Backbone.Collection,footer:new Backbone.Collection([{title:e.next,id:"save",className:"right next"}])});this.hasRegion("action")||(this.ui.content.append('<div class="action-container"></div>'),this.addRegion("action",".action-container")),this.showChildView("action",s)}.bind(this)):this.getChildView("notify").showNotify(e.selectobj)},onChildviewFooterButtonClick:function(e){var t=this.getChildView("action").model.get("content"),i=t[e.model.id];i&&"function"==typeof i&&i.call(t,e)},erase:function(){var t=this.getChildView("content").getChildView("table").getChildView("body").collection,i=this.getChildView("notify");t.length?i.showConfirm(e.sure+"<br/><small>"+e.clearall+"?</small>",function(){this.getRegion("action").empty(),$.get("/api/Cart/Clear/0").done(function(){this.collection.fetch({reset:!0})}.bind(this))}.bind(this)):i.showNotify(e.selectobj)},clear:function(){var t=this.getChildView("content").getChildView("table").modelsSelected,i=this.getChildView("notify");t&&t.length?i.showConfirm(e.sure+"<br/><small>"+e.confirmObjDelete.replace("{0}",t.length)+"</small>",function(){this.getRegion("action").empty();var e=_.map(t,function(e){return e.id});$.ajax({method:"DELETE",url:"/api/Cart",contentType:"application/json; charset=utf-8",data:JSON.stringify({IDs:e})}).done(function(){this.collection.fetch({reset:!0})}.bind(this))}.bind(this)):i.showNotify(e.selectobj)},add:function(e){var t=this.getChildView("content").getChildView("table").getChildView("body").collection,i=_.filter(e,function(e){return!t.get(e.toString())},this),n=new Backbone.Model({id:null,IDs:[]});n.url="/api/Cart",i.length&&n.save({IDs:i},{success:function(){this.collection.fetch({reset:!0})}.bind(this)})}})}),define("MessageView",["app","i18n!nls/resources.min"],function(e,t){var i="<b><%= title %></b><div><%= message %></div>",n=["86056534-0DCB-48CF-B06D-3E8D23FD5001"];return new(Backbone.View.extend({el:$("#message-area"),events:{"click .icon-close":"close","click .btn-exec":"_execConfirm","click .btn-cancel":"close"},initialize:function(){Backbone.on("message:hide",this.hide,this),Backbone.on("message:modal",this.modal,this),Backbone.on("message:warning",this.warning,this),Backbone.on("message:success",this.success,this),Backbone.on("message:exec",this.exec,this),Backbone.on("message:confirm",this.confirm,this),this.render()},render:function(){return this.$el.html('<div id="info"></div><div id="sho"><div class="container"></div></div>'),$("body").on("click",function(){this.$("#info").hide()}.bind(this)),this},close:function(){this.$("#sho").hide()},exec:function(e){if(-1!==n.indexOf(e.sid)){var i=t.confirmObjDelete.replace("{0}",e.amount);this.confirm({title:t.warning,message:i,fx:e.fx,ctx:e.ctx})}else{var o=e.fx.call(e.ctx);o&&this.success({title:o.title,message:o.message})}return this},show:function(e,t){switch(e){case"modal":t.cancelBtn||(t.cancelBtn=!1),this.$(".container").html(_.template('<div class="message"><% if(cancelBtn) { %><span class="dropdown-menu_close"><svg class="icon icon-close"><use xlink: href="#icon-close"></use></svg></span><% } %><b><%= title %></b><p class="message-text"><%= message %></p><div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class ="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class ="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class ="sk-cube sk-cube9"></div></div></div>')(t)),this.$("#sho").removeClass("nobg"),this.$("#sho").show();break;case"confirm":this.confirm(t);break;case"success":this.success(t);break;case"warning":this.warning(t)}return this},modal:function(e){e||(e={title:t.wait2,message:t.message}),this.show("modal",e)},warning:function(e){this.success(e),this.$("#info b").addClass("state-error")},success:function(e){e.title||(e.title=t.alert);var n=this.storage!==e.message;n&&(this.storage=e.message),this.$("#info").is(":hidden")?(n&&this.$("#info").html(_.template(i)(e)),this.$("#info").show("slide",{direction:"right"}),this.$("#info").delay(7e3).hide("slide",{direction:"right"})):n&&this.$("#info").append(_.template(i)(e))},_execConfirm:function(){this.execConfirm.call(this.contextConfirm),this.hide()},confirm:function(e){var i=$("body").children().last();return this.$el.insertAfter(i),this.$(".container").html(_.template('<div class="message"><span class="dropdown-menu_close"><svg class="icon icon-close"><use xlink:href="#icon-close"></use></svg></span><b><%= title %></b><div class="message-text"><%= message %></div><div><button class="btn-exec"><%= textBtnExec %></button>&nbsp;<button class="btn-cancel"><%= Resources.cancel %></button></div></div>')({Resources:t,title:e.title,message:e.message,textBtnExec:e.titleExec||t.deleteItem})),this.$("#sho").addClass("nobg").show(),this.execConfirm=e.fx,this.contextConfirm=e.ctx,!1},hide:function(){return this.$("#sho").hide(),this}}))}),define("ModeInfoView",["i18n!nls/resources.min","access"],function(e,t){t.data.Points;return Mn.View.extend({template:!1,onRender:function(){}})}),define("global.view.headerView",["access","i18n!nls/resources.min","MessageView","c/AlertsView","c/EdgeView","c/BasketView","global.radio.dialog"],function(e,t,i,n,o,s){var l=Mn.Object.extend({initialize:function(){this.collection=new Backbone.Collection,this.collection.url="/api/common/0/"+this.options.guid}});return Mn.View.extend({template:!1,el:"header",ui:{casebtn:".case-block",casenum:".badge",logo:".logo",info:".info-block"},regions:{edge:{el:"#edge",replaceElement:!0},alert:{el:".alert-block",replaceElement:!0},case:"#case-window"},events:{"click #InfoDB":"show","click #InfoUser":"show",mouseleave:"hide","click @ui.casebtn":function(){this.getChildView("case").$el.show()},"click @ui.logo":function(){Backbone.history.navigate("",{trigger:!0})},"click @ui.info":function(){this.showDemoInfo()}},initialize:function(e){this.storage=[],this.currentid=""},onRender:function(){this.ui.casebtn.get(0)&&this.showChildView("case",new s),this.showChildView("alert",new n),this.options.isDemo?this.ui.casebtn.hide():this.showChildView("edge",new o({collection:new Backbone.Collection(e.data.Edges)}));var t="FE195E4A-CAAD-4987-A1E8-2788F1796F95",i=new l({guid:t});e.data.Points&&-1!==e.data.Points.indexOf(t)&&i.collection.fetch({reset:!0,success:function(e,t){this.demoInfoContent=t.data[1].value,this.demoTs=t.data[2].value,t&&parseInt(t.data[0].value)&&!$.cookie("DemoMode_"+this.demoTs)&&$.trim(this.demoInfoContent)&&this.showDemoInfo()}.bind(this)})},showDemoInfo:function(){var e=_.template('<input type="checkbox" <% if(checked){ %>checked="checked"<% } %> class="g-form--checkbox" name="dontshow" id="hidemenow"><label for="hidemenow"><%- Resources.noMoreView %></label>')({Resources:t,checked:$.cookie("DemoMode_"+this.demoTs)}),i=Backbone.Radio.channel("Notify").request("once:dialog",{title:t.information,content:$.trim(this.demoInfoContent)?this.demoInfoContent:t.N,footer:[{id:"cbx",template:e}]});this.listenTo(i,"dialog:closed",function(){i.getChildView("footer").children.findByIndex(0).$("input[name='dontshow']").prop("checked")?$.cookie("DemoMode_"+this.demoTs,"nomore",{expires:30}):$.cookie("DemoMode_"+this.demoTs,"")})},onChildviewUpdateCase:function(e){this.ui.casenum.text(e),e&&(this.ui.casebtn.addClass("action--blink"),setTimeout(function(){this.ui.casebtn.removeClass("action--blink")}.bind(this),2e3))},hide:function(){this.currentid&&this.$("#"+this.currentid).next("div").removeClass("active")},show:function(e){var t=$(e.target).closest("span");this.currentid=t.attr("id"),this.close(),-1===this.storage.indexOf(this.currentid)&&this.storage.push(this.currentid),t.next("div").addClass("active")},close:function(){_.each(this.storage,function(e){e!==this.currentid&&this.$("#"+e).next("div").removeClass("active")},this)}})}),define("Feedback",["i18n!nls/resources.min"],function(e){return Mn.View.extend({className:"g-dialog--wrapper",el:"#feedback-alerts-panel",template:_.template('<div class="g-dialog--header">\n        <div class ="g-dialog--title" data-icon="icon-attention"><%-Resources.alert %></div>\n        <div class="g-dialog--manage">\n            <i class="close"></i>\n        </div>\n    </div>\n    <div class="g-dialog--container">\n        <div class ="g-dialog--content"><%= html %></div>\n        <div class="g-dialog--sidebar"></div>\n    </div>'),templateContext:{Resources:e},events:{"click .close":function(){this.$el.hide()}},onRender:function(){window.sendresult=this.send.bind(this),window.SetResult=this.send.bind(this),window.SetSubResult=this.send.bind(this),window.captcha=function(){var e=$.trim(this.$("input[type=text]").val());e&&this.send(e)},this.$el.show()},send:function(e){var t={result:e},i={modelid:this.model.id,modeltypeid:this.model.get("typeid")};SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}}).server.sendMessage(t,i.modelid,i.modeltypeid),this.model.collection&&this.model.collection.remove(this.model),this.$el.hide()}})}),define("c/AlertsView",["i18n!nls/resources.min","Feedback"],function(e,t){new(Mn.Object.extend({channelName:"Ale"}));var i=Mn.View.extend({tagName:"li",template:_.template('<span><%- title %></span><i class="erase"></i>'),triggers:{"click span":"click:message"},events:{"click .erase":function(e){e.stopPropagation(),this.model.collection.remove(this.model),SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}}).server.sendMessage({result:null},this.model.id,1)}},onRender:function(){"red"===this.model.get("Status")&&this.$el.addClass("alert-red"),"blue"===this.model.get("Status")&&this.$el.addClass("alert-blue");var e=Backbone.Radio.channel("oM").request("get:app");e&&-1!==e.Tasks.indexOf(this.model.get("taskUID"))&&this.triggerMethod("click:message",this)}}),n=Mn.CollectionView.extend({tagName:"ul",childView:i,emptyView:Mn.View.extend({tagName:"li",template:_.template("<span><%- Resources.N %></span>"),templateContext:{Resources:e}}),childViewOptions:function(e){e.has("kind")&&e.get("kind"),e.has("state")&&e.get("state");switch(e.get("typeid")){case-1:e.set({Status:"none"});break;case 1:case 2:e.set({Status:"red"});break;case 3:e.set({Status:"blue"});break;default:e.set({Status:"none"})}},childViewTriggers:{"click:message":"click:message"}});return Mn.View.extend({tagName:"li",className:"tray--item alert-block",template:_.template('<span class="alert"></span><div class="alert--container"><div class="alert--header"><i class="close"></i><div><%= Resources.serverMessage %></div></div><div class="alert--list"></div></div>'),templateContext:{Resources:e},ui:{btn:".alert",header:".alert--header>div",container:".alert--container"},regions:{list:".alert--list"},events:{"click i.close":function(){this.ui.container.removeClass("active")},"click @ui.btn":function(){this.ui.container.toggleClass("active")}},initialize:function(){this.collection=new Backbone.Collection},onRender:function(){this.showChildView("list",new n({collection:this.collection}))},onAttach:function(){this.monitoring()},onChildviewClickMessage:function(e){e.model.get("html")?(this.feedback?this.feedback.model=e.model:this.feedback=new t({model:e.model}),this.feedback.render()):e.model.collection.remove(e.model)},collectionEvents:{reset:function(e){this.status()},update:function(e,t){this.status(),t.add&&(console.log("Ticker :: new message"),this.returnMessage()),this.sharedCollection.change(function(){return this.collection.models}.bind(this))}},status:function(){this.collection.length?(this.ui.btn.addClass("active"),this.ui.container.addClass("active"),this.ui.header.html(e.alertMessage)):(this.ui.btn.removeClass("active"),this.ui.container.removeClass("active"),this.ui.header.html(e.serverMessage))},returnMessage:function(){var e=SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}});this.collection.each(function(t){e.server.returnValueSet("alertDelivery",t.get("eqID"),"1")})},monitoring:function(){SJ.iwc.SignalR.getHubProxy("Ticker",{client:{showAlerts:function(e){e.length&&this.collection.add(e)}.bind(this),acitiveAlerts:function(e){this.collection.each(function(t){t&&-1===e.indexOf(t.id)&&-1!==t.get("typeid")&&this.collection.remove(t)},this)}.bind(this),hideAlerts:function(e){var t=this.collection.get(e);this.collection.remove(t)}.bind(this),transferData:function(e,t,i){Backbone.Radio.channel("Ale").request("get:transfer:data",{data:e,kind:t})},ping:function(e){console.log("Ticker :: ping >> ",e)}}});this.sharedCollection=new SJ.iwc.SharedData("AlertMessages"),this.sharedCollection.onChanged(function(e){this.collection.set(e)},this);var e=this.sharedCollection.get();null!==e&&e.length?e.length&&this.collection.set(e):this.sharedCollection.set(this.collection.models)}})}),define("global.view.connect",["i18n!nls/resources.min","access"],function(e,t){var i=Backbone.Model.extend({defaults:function(){return{id:null,title:""}}}),n=Backbone.Collection.extend({model:i}),o=Backbone.View.extend({tagName:"option",render:function(){return this.$el.attr("value",this.model.id),this.$el.html(_.template("<%= title %>")(this.model.toJSON())),this}}),s={Internet:{Start:{cmd:"works",to:"WorkGroups"},WorkGroups:{cmd:"projects",to:"Projects"},Projects:{cmd:"datas",to:"Connects"},Connects:{cmd:"connect"}},Intranet:{Start:{cmd:"works",to:"WorkGroups"},WorkGroups:{cmd:"datas",to:"Connects"},Connects:{cmd:"connect"}}},l={};return Mn.View.extend({className:"authorisation-block",template:"#connect-template",templateContext:{Resources:e},ui:{},events:{"change select":"getData","click @ui.btn:not([data-icon=icon-loader])":"connect"},initialize:function(){this.collection=new n},onRender:function(){this.NetVersion=t.data.NetVersion||"Internet","Intranet"===this.NetVersion&&(this.$("label:eq(1)").hide(),this.$("#Projects").hide()),this.fetch("Start")},collectionEvents:{reset:function(e){var t=s[this.NetVersion][this.name].to,i=this.$("#"+t),n=$.cookie(t)||l[t];t?(Array.from(e.models,function(e){i.append(new o({model:e}).render().el)},this),i.val(n),this.fetch(t,n)):e.length&&this.triggerMethod("connect:made")},error:function(){}},getData:function(e){var t=$(e.target).val(),i=$(e.target).attr("id");$.ajaxSetup({timeout:3e4}),$.trim(t)?(this.fetch(i,t),$.cookie(i,t,{expires:30,path:"/"}),l[i]=t):this.reset(i)},reset:function(e){this.$("#"+e).nextAll("select").each(function(e,t){$(t).find(":not(option[value=''])").remove()})},fetch:function(e,t){var i=s[this.NetVersion][e];t&&(i.itemid=t),this.$("#Info").text(""),"Connects"===e&&(i.wgtitle=this.$("#WorkGroups option:selected").text(),i.wgid=this.$("#WorkGroups").val(),i.prgtitle=this.$("#Projects option:selected").text(),i.prgid=this.$("#Projects").val(),i.dbtitle=this.$("#Connects option:selected").text(),i.dbid=this.$("#Connects").val()),this.collection.url="/api/Authorise?"+$.param(i),this.reset(e),this.collection.fetch({reset:!0}),this.name=e},connect:function(){if(this.collection.length){var e=this.collection.at(0).get("title")||"/";this.triggerMethod("authorize:end",e)}}})}),define("c/ContextMenuView",[],function(){var e=Mn.CollectionView.extend({childView:Mn.View.extend({template:_.template('<%- title %><div class="_container"></div>'),className:"item",regions:{container:{el:"._container",replaceElement:!0}},events:{mouseover:function(e){if(this.model.get("child")&&this.model.get("child").length){var t=this.$(".g-context--container");$(window).width()-t.offset().left<t.width()&&this.$(".g-context--container").addClass("revert")}}},triggers:{click:"click:item"},onRender:function(){this.model.get("icon")&&this.$el.attr("data-icon","icon-"+this.model.get("icon")),this.model.get("status")&&this.$el.addClass(this.model.get("status")),this.model.get("cmd")&&("string"==typeof this.model.get("cmd")&&this.$el.attr("data-cmd",this.model.get("cmd")),"function"==typeof this.model.get("cmd")&&(this.cmd=this.model.get("cmd"))),this.model.get("child")?(this.$el.addClass("haskids"),this.showChildView("container",new e({collection:new Backbone.Collection(this.model.get("child"))}))):this.$("._container").remove()},childViewTriggers:{"click:item":"click:item"}}),className:"g-context--container",childViewTriggers:{"click:item":"click:item"}});return Mn.View.extend({className:"g-context--menu",template:_.template('<div class="g-context--container"></div>'),regions:{container:{el:".g-context--container",replaceElement:!0}},onRender:function(){this.showChildView("container",new e({collection:this.collection}))},childViewTriggers:{"click:item":"menu:click:item"}})}),define("c/EditPanelView",["i18n!nls/resources.min"],function(e){return Mn.View.extend({className:"edit-panel",template:"#edit-panel-template",templateContext:{Resources:e},events:{"click span:not(.search)":function(e){e.stopPropagation(),this.trigger("edit-panel:action",$(e.target).closest("li"))},"keyup input[name='rubric-name']":function(e){e.stopPropagation(),13!==e.keyCode&&$.trim(this.$("input[name='rubric-name']").val())||this.trigger("edit-panel:action",this.$("i[name=search]"))},"click i.search":function(e){e.stopPropagation(),this.trigger("edit-panel:action",this.$("i[name=search]"))}},rere:function(){this.$("li:not([name='add'])").attr("disabled","disabled")},setCurrent:function(e){this.selectmodel=e,"-1"!==this.selectmodel.id?this.$("li").removeAttr("disabled"):this.$("li:not([name='add'])").attr("disabled","disabled"),this.selectmodel.has("isdoc")&&this.selectmodel.get("isdoc")&&this.$("li[name='add']").attr("disabled","disabled")},onRender:function(){var e=this.options.unvisible?this.options.unvisible.split(","):[];return _.each(e,function(e){$.trim(e)&&this.$("."+$.trim(e)).hide()},this),this}})}),define("g/files/UploadFileView",["i18n!nls/resources.min"],function(e){var t=Backbone.Model.extend({idAttribute:"FileUID",defaults:{FileUID:null,FilePath:"",CDate:(new Date).toISOString(),FileName:"",FileUrl:""}});return Mn.View.extend({className:"image-path",template:"#file-upload-template",templateContext:{Resources:e},ui:{form:"form",file:"input[name = fileToUpload]",pro:".progress",bar:".bar",per:".percent"},events:{"change @ui.file":function(e){var t=this.ui.file.val();if(this.ui.file.prev(".input").text(t),$.trim(t)){var i=this.ui.file.val().split("\\"),n=i[i.length-1];n.split(".");this.collection.find(function(e){return-1!==e.get("OriginalFileName").indexOf(n)})?this.$(".anbr-tooltip").show().delay(5e3).fadeOut():this.ui.form.submit()}}},initialize:function(){this.formAction=this.options.formAction||"/api/common/upload/"},indicator:function(e){this.ui.pro.show(),this.ui.bar.width(e),this.ui.per.html(e).show()},onRender:function(){this.ui.form.attr("action",this.formAction),this.ui.bar.width(0),this.ui.per.html("0%"),this.ui.file.val(""),this.ui.form.ajaxForm({beforeSend:function(){this.indicator("0%")}.bind(this),uploadProgress:function(e,t,i,n){this.indicator(n+"%")}.bind(this),success:function(){this.indicator("100%")}.bind(this),error:function(){this.$(".anbr-tooltip").html('<span position="bottom"></span>'+e.error+" Server errror.").show().delay(5e3).fadeOut(),this.onFinal()}.bind(this),complete:function(i){_.map(i.responseJSON,function(e){if(-1!==e.indexOf("error"))return this.$(".anbr-tooltip").html('<span position="bottom"></span>'+e.replace("error","")).show().delay(5e3).fadeOut(),void this.onFinal();if(e.Message)return this.$(".anbr-tooltip").html('<span position="bottom"></span>'+e.Message).show().delay(5e3).fadeOut(),void this.onFinal();var i=e.split("/"),n=i[i.length-1],o=n.substr(n.indexOf("_")+1),s=n.split("_")[0],l=new t({FileUID:s,FilePath:e,FileUrl:e,FileName:o,OriginalFileName:o});this.collection.add(l)},this),this.ui.file.val(""),this.$(".input").text(e.selFile),this.onFinal()}.bind(this)})},onFinal:function(){setTimeout(function(){this.ui.bar.width(0),this.ui.per.html("0%"),this.ui.pro.hide()}.bind(this),1e3)}})}),define("g/ImageGalleryView",["i18n!nls/resources.min","g/files/UploadFileView"],function(e,t){var i=Backbone.Model.extend({idAttribute:"FileUID"}),n=Mn.CollectionView.extend({className:"image-gallery",childView:Mn.View.extend({tagName:"span",template:_.template('<i data-icon="icon-trash"></i><img src="<%- FileUrl %>" alt="" title="<%- OriginalFileName %>"  />'),events:{'click i[data-icon="icon-trash"]':function(){Backbone.trigger("message:confirm",{title:e.askyousure,message:e.confirmDeleteImg,fx:function(){this.model.destroy()},ctx:this})},"click img":function(){var e=this.model.collection.findWhere({select:!0});e&&e.set("select",!1),this.model.set("select",!0),this.triggerMethod("change:item",this.model)}},modelEvents:{"change:select":function(e,t){t?this.$el.addClass("selected"):this.$el.removeClass("selected")}},onRender:function(){this.model.get("select")&&this.$el.addClass("selected")}}),childViewOptions:function(e){e.set("select",e.get("FileUrl")===this.options.select)},childViewTriggers:{"change:item":"change:item"}});return Mn.View.extend({className:"image-gallery-wrapper",template:_.template('<div class="image-path"></div><div class="image-gallery"></div>'),regions:{list:{el:".image-gallery",replaceElement:!0},path:{el:".image-path",replaceElement:!0}},initialize:function(){this.collection=new Backbone.Collection([],{model:i,comparator:function(e){return-new Date(e.get("CDate"))}}),this.collection.url="/api/common/files/"},onBeforeRender:function(){this.collection.fetch({reset:!0})},onRender:function(){this.showChildView("path",new t({collection:this.collection})),this.showChildView("list",new n({collection:this.collection,select:this.options.selectedImgPath}))},childViewTriggers:{"change:item":"change:item"}})}),define("c/SimpleTableView",["i18n!nls/resources.min","c/ContextMenuView"],function(e,t){var i=Mn.CollectionView.extend({tagName:"tr",childView:Mn.View.extend({tagName:"th",getTemplate:function(){return this.model.has("subTemplate")?_.template(this.model.get("subTemplate")):_.template("<%- title %>")},onRender:function(){this.model.get("width")&&this.$el.width(this.model.get("width"))}}),triggers:{"click input[type=checkbox] ~ label:not(.disabled)":"click:head:input"}}),n=Mn.View.extend({tagName:"tr",template:_.template('<td colspan="<%- colspan %>"><div class="paging-box"><div class="paginator"></div><div class="paginator_pages"><%- titlePages %>: <span><%- totalPages %></span></div></div><div class="context-menu" style="position:absolute;display:none;z-index:100;"></div></td>'),templateContext:{titlePages:e.Pages2},ui:{menu:".context-menu",box:".paging-box"},regions:{menu:"@ui.menu"},events:{"mouseenter @ui.menu":function(e){this.ui.menu.clearQueue()},"mouseleave @ui.menu":function(e){this.ui.menu.delay(300).hide(100)},"click @ui.box a":function(e){e.preventDefault(),this.triggerMethod("page:select",$(e.target).text())}},childViewTriggers:{"menu:click:item":"menu:click:item"},modelEvents:{"change:currentPage":function(e,t){},"change:totalPages":function(e,t){parseInt(t)<=1?this.ui.box.hide():this.ui.box.show()}},onRender:function(){this.ui.box.hide(),this.showChildView("menu",new t({collection:this.collection}));var e=this.model;if(parseInt(e.get("totalPages"))>1){this.ui.box.show(),this.$(".paginator_pages>span").text(e.get("totalPages"));var i="paginator_"+this.cid;this.$(".paginator").attr("id",i),new Paginator(i,e.get("totalPages"),e.get("pageSize"),e.get("currentPage"))}else this.ui.box.hide()}}),o=Mn.CollectionView.extend({tagName:"tbody",emptyView:Mn.View.extend({tagName:"tr",template:_.template('<td colspan="<%- colspan %>"><%- title %></td>')}),childView:Mn.View.extend({tagName:"tr",getTemplate:function(){return _.template(this.options.rowTemplate)},templateContext:function(){var t={Resources:e};return Object.assign(t,this.options.rowOptions),t},events:{mouseleave:function(){this.triggerMethod("hide:menu")},"click button.menu":function(e){this.$el.addClass("ui-selected"),this.triggerMethod("menu:show",this.model,$(e.target).closest("button"))},"click a":function(e){e.stopPropagation()}},triggers:{"change input":"change:input:row","click *[data-cmd]":"click:row:cmd:item"},modelEvents:{change:function(e){this.render(),this.triggerMethod("model:changed",e)}},onRender:function(){this.model.has("checked")&&this.$("input[type=checkbox]").prop("checked",this.model.get("checked"))}}),emptyViewOptions:function(t){t.set({colspan:this.options.colspan,title:e.N})},childViewOptions:function(){return{rowTemplate:this.options.rowTemplate,rowOptions:this.options.rowOptions,colspan:this.options.colspan}},childViewTriggers:{"change:input:row":"change:input:row","click:row:cmd:item":"click:row:cmd:item","model:changed":"model:changed","menu:show":"menu:show","hide:menu":"hide:menu","check:rows:for:head":"check:rows:for:head"}});return Mn.View.extend({tagName:"table",className:"table table-hover",template:_.template("<thead><tr></tr></thead><tbody></tbody><tfoot></tfoot>"),regions:{head:{el:"thead tr",replaceElement:!0},body:{el:"tbody",replaceElement:!0},foot:"tfoot"},initialize:function(){this.currentPage=1},onRender:function(){this.options.head&&this.showChildView("head",new i({collection:this.options.head}));var e=$(this.options.rowTemplate).size();this.showChildView("body",new o({collection:this.collection,rowTemplate:this.options.rowTemplate,rowOptions:this.options.rowOptions,colspan:e})),this.showChildView("foot",new n({collection:this.options.menuCollection||new Backbone.Collection,model:new Backbone.Model({currentPage:0,pageSize:30,totalPages:0,colspan:e,collection:this.collection})}))},collectionEvents:{update:function(e,t){this.triggerMethod("table:collection:update",e,t)},reset:function(){if(this.triggerMethod("table:collection:reset",this.collection),this.getRegion("head").hasView()){var e=this.getChildView("head").$('input[type="checkbox"]').prop("checked");e&&this.collection.each(function(t){t.set("checked",e)})}var t=this.collection.get(0);if(t){this.collection.remove(t);var i=t.get("pageSize")||30,n=t.get("page")||parseInt(this.currentPage),o=Math.ceil(t.get("num")/i)}else o=0;this.getChildView("foot").model.set({currentPage:n,pageSize:i,totalPages:o}),this.getChildView("foot").render()},error:function(){}},childViewTriggers:{"change:input:row":"change:input:row","click:row:cmd:item":"table:row:cmd","model:changed":"table:row:model:changed"},onChildviewPageSelect:function(e){this.triggerMethod("page:select",e,this.collection)},childViewEvents:{"click:head:input":function(e){var t=e.$("input[type=checkbox]");t.prop("checked",!t.prop("checked")),this.collection.each(function(e){e.set("checked",t.prop("checked"))})},"check:rows:for:head":function(){this.getRegion("head").hasView()&&(this.collection.where({checked:!0}).length===this.collection.length?this.getChildView("head").$('input[type="checkbox"]').prop("checked",!0):this.getChildView("head").$('input[type="checkbox"]').prop("checked",!1))},"menu:click:item":function(e){this.getChildView("foot").getChildView("menu").$el.parent("div").hide(),e.cmd&&e.cmd.call(this,this.modelsSelected,e.model)},"hide:menu":function(){var e=this.getChildView("foot").getChildView("menu").$el.parent("div");e.is(":visible")&&e.delay(300).hide(100)},"menu:show":function(e,t){var i=this.getChildView("foot").getChildView("menu"),n=this.modelsSelected||[];if(_.findWhere(n,{id:e.id})||(this.modelsSelected=[e],this.$("tr.ui-selected").removeClass("ui-selected")),i.collection&&i.collection.length){var o=i.$el.parent("div"),s=t.position(),l=s.top,a=s.left,c=$(window).width()-o.width();o.clearQueue(),s.left+o.width()>c&&(a=c-o.width()-($("body").hasClass("ls-on")?120:5)),o.css({top:l,left:a}).slideDown()}}}})}),define("global.grid.dataItemsView",["app","i18n!nls/resources.min","c/ContextMenuView"],function(e,t,i){var n=Backbone.Model.extend({idAttribute:"object_id"}),o=Backbone.Collection.extend({model:n}),s=Mn.View.extend({className:"paging-box",template:_.template('<div class="paginator"></div><div class="paginator_pages"><%- Resources.Pages2 %>: <span><%- totalPages %></span></div>'),templateContext:{Resources:t},events:{"click a":function(e){e.preventDefault(),this.triggerMethod("page:select",$(e.target).text())}},onAttach:function(){var e="paginator_"+this.cid;this.$(".paginator").attr("id",e),new Paginator(e,this.model.get("totalPages"),this.model.get("paging").pageSize,this.model.get("paging").currentPage)}}),l=Mn.View.extend({tagName:"th",template:_.template("<%- displayName %>")}),a=Mn.View.extend({tagName:"tr",template:_.template('<td colspan="<%- numCols %>"><div class="context-menu" style="position:absolute;display:none;z-index:100;"></div></td>'),regions:{menu:".context-menu"},ui:{menu:".context-menu"},onRender:function(){this.showChildView("menu",new i({collection:this.collection}))},events:{"mouseenter .context-menu":function(e){this.ui.menu.clearQueue()},"mouseleave .context-menu":function(e){this.ui.menu.delay(300).hide(100)}},childViewTriggers:{
"hide:menu":"hide:menu","menu:click:item":"menu:click:item"}}),c=Mn.CollectionView.extend({tagName:"tr",childView:l,onRender:function(){this.addChildView(new l({model:new Backbone.Model({displayName:"№"})}),0),this.addChildView(new l({model:new Backbone.Model({displayName:""})}))}}),r=Mn.View.extend({tagName:"tr",getTemplate:function(){return _.template(this.options.bodyTemplate)},templateContext:{Resources:t},triggers:{mouseleave:"hide:menu","contextmenu td":"menu:show","click button.btn-link":"menu:show","click td":"row:col:trigger","click a":{event:"click:link",preventDefault:!1}},onRender:function(){this.$el.data("id",this.model.id)},modelEvents:{"change:State":function(e,t){this.$("td[data-name='state']").text(t)}}}),d=Mn.CollectionView.extend({tagName:"tbody",childView:r,emptyView:Mn.View.extend({tagName:"tr",className:"info",template:_.template('<td colspan="120">'+t.nodata+"</td>")}),collectionEvents:{remove:function(){this.triggerMethod("change:collection",this.collection)}},childViewOptions:function(e,i){if(!this.isEmpty()){var n=["","green","yellow","red","grey"],o=["",t.working,t.ff,t.tm,t.ar],s=parseInt(this.options.pagination.currentPage)*this.options.pagination.pageSize-this.options.pagination.pageSize+1;e.set({Num:i+s,StatusIcon:n[e.get("status")],state:o[e.get("state")]})}return{bodyTemplate:this.options.bodyTemplate}},onAttach:function(){this.$el.selectable({cancel:"a, button.btn-link, span",stop:function(){var e=[];this.$el.find("tr.ui-selected").each(function(t,i){e.push(this.collection.get($(i).data("id")))}.bind(this)),this.triggerMethod("stop:selectable",e)}.bind(this)})},childViewTriggers:{"menu:show":"menu:show","row:col:trigger":"row:col:trigger","click:link":"click:link"}}),h=Mn.View.extend({tagName:"table",className:"table inquiry table-hover list",template:_.template("<thead></thead><tbody></tbody><tfoot></tfoot>"),regions:{head:"thead",body:{el:"tbody",replaceElement:!0},footer:"tfoot"},collectionEvents:{reset:function(e){if(e.length){var t="<td><%- Num %></td>",i=e.at(0),n=i.has("feed")?new Backbone.Model(i.get("feed")):i,s=n.get("pagination"),l=_.filter(n.get("head"),function(e){if(e.isVisible){var i=e.systemName,n=this.options.path||Backbone.history.fragment||"";t+="display_name"===i||"title"===i?"<td data-name='"+i+"'><% if(href){ %><a href='#"+n+"/<%- object_id %>'><%- "+i+" %></a><% }else{ %><%- "+i+" %><% } %></td>":"status"===i?"<td data-name='"+i+"'><span class='status-icon <%- StatusIcon %>'></span><% if(dossier){ %><span data-icon='icon-note'></span><% } %></td>":"createddate"===i||"cdate"===i||"jobcdate"===i?"<td data-name='"+i+"'><%- Date.parse("+i+")? new Date("+i+").toLocaleString(Resources.Lang) : ''  %></td>":"<td data-name='"+i+"'><%- "+i+" %></td>"}return e.isVisible},this);this.options.hideButton?t+="<td class='controls'></td>":t+="<td class='controls'><button type='button' class='btn-link g-form--context'><svg><use xlink:href='#icon-burger-menu'></use></svg></button></td>",this.showChildView("head",new c({collection:new Backbone.Collection(l)})),this.showChildView("body",new d({collection:new o($.prepare(n.get("items"))),pagination:s,bodyTemplate:t})),this.showChildView("footer",new a({model:new Backbone.Model({numCols:l.length+2}),collection:this.options.menuCollection})),this.triggerMethod("list:init",s)}}},childViewTriggers:{"row:col:trigger":"row:col:trigger","change:collection":"change:collection","click:link":"click:link"},childViewEvents:{"menu:click:item":function(e){this.getChildView("footer").getChildView("menu").$el.parent("div").hide(),e.cmd&&e.cmd.call(this,this.modelsSelected,e.model)},"hide:menu":function(){var e=this.getChildView("footer").getChildView("menu").$el.parent("div");e.is(":visible")&&e.delay(300).hide(100)},"menu:show":function(e){var t=e.model,i=this.getChildView("footer").getChildView("menu"),n=this.modelsSelected||[];if(_.findWhere(n,{id:t.id})||(this.modelsSelected=[t],this.$("tr.ui-selected").removeClass("ui-selected")),e.$el.addClass("ui-selected"),i.collection&&i.collection.length){var o=i.$el.parent("div"),s=$(event.target).closest("td").position(),l=s.top+event.offsetY+$(".workbench--content").scrollTop(),a=s.left+event.offsetX,c=$(window).width()-o.width();o.clearQueue(),s.left+o.width()>c&&(a=c-o.width()-60),o.css({top:l,left:a}).slideDown()}},"stop:selectable":function(e){var t=_.compact(e);t.length&&(this.modelsSelected=t)}}});return Mn.View.extend({template:_.template('<table></table><div class="paging-box"></div>'),regions:{table:{el:"table",replaceElement:!0},paging:{el:".paging-box",replaceElement:!0}},onRender:function(){this.showChildView("table",new h(this.options))},onChildviewListInit:function(e){var t=Math.ceil(e.totalItems/e.pageSize);t>1?this.showChildView("paging",new s({model:new Backbone.Model({totalPages:t,paging:e})})):this.getRegion("paging").empty(),this.triggerMethod("after:load",e.totalItems)},onChildviewPageSelect:function(e){this.collection.url=$.mergeUrlParam(this.collection.url,{page:e}),this.collection.fetch({reset:!0})},childViewTriggers:{"row:col:trigger":"row:col:trigger","click:link":"click:link","change:collection":"change:collection","action:from:menu":"action:from:menu"}})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("global.view.dropDown",["i18n!nls/resources.min"],function(e){var t=Mn.View.extend({className:"item",template:_.template('<%- title %><div class="manage"></div>'),triggers:{click:"click:item","click .manage span":"click:cmd"},onRender:function(){this.model.has("icon")?this.$el.attr("data-icon",this.model.get("icon")):this.$el.attr("data-icon","icon-blank"),this.model.has("cmd")&&(this.$el.attr("tools",this.model.get("cmd").length),_.each(this.model.get("cmd"),function(e){this.$(".manage").append('<span class="'+e+'"></span>')},this))}}),i=Mn.CollectionView.extend({className:"g-dropdown--container",childView:t,events:{mouseenter:function(){this.$el.clearQueue()},mouseleave:function(){this.$el.delay(1e3).slideUp(150,function(){this.triggerMethod("container:mouseleave")}.bind(this))}},childViewTriggers:{"click:cmd":"click:cmd","click:item":"click:item"}});return Mn.View.extend({className:"g-dropdown--menu",template:_.template('<div class="g-dropdown--placeholder"></div><div class="g-dropdown--container"></div>'),ui:{placeholder:".g-dropdown--placeholder"},regions:{container:{el:".g-dropdown--container",replaceElement:!0},current:"@ui.placeholder"},initialize:function(){this.current=new Backbone.Model},collectionEvents:{update:function(){if(this.collection.length){var e=new t({model:this.collection.at(0)});this.showChildView("current",e),this.setCurrent(e)}else this.showChildView("current",new t({model:new Backbone.Model({title:"...",id:null})}))}},onRender:function(){if(this.options.hasOwnProperty("addClass")&&this.$el.addClass(this.options.addClass),this.showChildView("container",new i({collection:this.collection})),this.options.placeholder)this.ui.placeholder.html(this.options.placeholder);else if(this.collection&&this.collection.length){var e=new t({model:this.collection.at(0)});this.showChildView("current",e)}else this.showChildView("current",new t({model:new Backbone.Model({title:"...",id:null})}))},onAttach:function(){this.collection&&this.collection.length&&this.setCurrent(this.options.current)},events:{"click .g-dropdown--placeholder":"expand"},childViewTriggers:{"click:cmd":"dropdown:click:cmd"},childViewEvents:{"container:mouseleave":function(){this.$(".g-dropdown--placeholder").removeClass("expanded")},"click:item":function(e){e.model.id!==this.current.id?(e.model.has("fn")&&e.model.get("fn").call(),this.setCurrent(e),this.getChildView("container")&&this.getChildView("container").$el.slideUp(150,function(){this.$(".g-dropdown--placeholder").removeClass("expanded")}.bind(this))):this.expand()}},expand:function(){this.collection.length&&!this.$el.hasClass("disabled")&&this.$(".g-dropdown--placeholder").toggleClass("expanded").next(".g-dropdown--container").clearQueue().slideToggle(150)},setCurrent:function(e){if(void 0===e)return this;var t=this.getChildView("container"),i=this.getChildView("current");if(t&&(t.children.each(function(e){e.$el.removeClass("selected")}),"object"!==(void 0===e?"undefined":_typeof(e)))){var n=t.collection.get(e);if(!n)return this;e=t.children.findByModel(n)}return this.options.placeholder||(this.current=e.model,e.$el.addClass("selected"),i.model.id!==e.model.id&&(i.model=e.model,i.render())),this.triggerMethod("dropdown:select",e.model,this.options.name),this}})}),define("global.model.dialog",[],function(){return Backbone.Model.extend({defaults:function(){return{title:"",autoOpen:!0,modal:!1,view:null,size:"def",color:"default",icon:"icon-folder",zindex:0,header:{move:!1,manage:[{id:"close"},{id:"size"}]},sidebar:null,content:null,toolbar:new Backbone.Collection,context:new Backbone.Collection,showContext:!1,footer:new Backbone.Collection,width:"auto",height:"auto",top:0,left:0}}})}),define("global.view.dialog",["i18n!nls/resources.min","global.model.dialog"],function(e,t){var i=Mn.CollectionView.extend({className:"g-dialog--footer",childView:Mn.View.extend({tagName:"span",getTemplate:function(){return this.model.has("template")?_.template(this.model.get("template")):_.template('<button name="<%- id %>" class="g-form--button flat <%- className %>"><%- title %></button>')},events:{"click input[type=checkbox]":function(e){this.model.set("selected",$(e.target).prop("checked"))}},triggers:{"click button:not(.disabled)":"footer:button:click"},modelEvents:{"change:selected":function(e,t){this.$("input[type=checkbox]").prop("checked",t)}},onRender:function(){this.model.has("selected")&&this.$("input[type = checkbox]").prop("checked",this.model.get("selected"))},templateContext:function(){return{viewid:this.cid}}}),childViewOptions:function(e){e.has("className")||e.set("className","")},onFooterButtonClick:function(e){this.triggerMethod("content:reflect",e)},childViewTriggers:{"footer:button:click":"footer:button:click"}}),n=Mn.CollectionView.extend({tagName:"ul",childView:Mn.View.extend({tagName:"li",getTemplate:function(){return this.model.has("template")?_.template(this.model.get("template")):_.template('<span name="<%- id %>" title="<%- caption %>" toolbar-icon="<%- icon %>" class="<%- className %>"><i><%- title %></i></span>')},triggers:{"click :not(.disabled)":"toolbar:item:click","input input":"toolbar:input:keyup"},onBeforeRender:function(){this.model.has("className")||this.model.set("className",this.model.id),this.model.has("icon")||this.model.set("icon",this.model.get("className")),this.model.has("title")||this.model.set("title",""),this.model.has("caption")||this.model.set("caption",this.model.get("title"))},onRender:function(){this.model.get("disabled")&&this.$el.attr("disabled","disabled")}}),onToolbarItemClick:function(e){this.triggerMethod("content:reflect",e)},onToolbarInputKeyup:function(e){this.triggerMethod("content:reflect",e)},childViewTriggers:{"toolbar:item:click":"toolbar:item:click","toolbar:input:keyup":"toolbar:input:keyup"},collectionEvents:{reset:function(e){this.triggerMethod("toolbar:update",e)},update:function(){}}}),o=Mn.CollectionView.extend({className:"row",childView:Mn.View.extend({className:"g-form--button",tagName:"button",template:_.template("<%- title %>"),onRender:function(){this.model.get("className")&&this.$el.addClass(this.model.get("className"))},triggers:{click:"click:button"}}),childViewTriggers:{"click:button":"click:button"}}),s=Mn.View.extend({className:"g-dialog--promt",template:_.template("<span></span><div></div>"),regions:{buttons:{el:"div",replaceElement:!0}},onRender:function(){this.showChildView("buttons",new o({collection:new Backbone.Collection}))},onChildviewClickButton:function(e){"delete"===e.model.id&&this.callback&&(this.callback.call(this.context),this.callback=null),this.$el.slideUp()},showNotify:function(e){this.getChildView("buttons").collection.reset([{id:"ok",title:"Ok",className:"blue small flat"}]),this.$("span").html(e),this.$el.slideDown(150),this.triggerMethod("notice:show:message")},showConfirm:function(t,i,n){this.getChildView("buttons").collection.reset([{id:"delete",title:e.del,className:"rightsmall flat blue"},{id:"cancel",title:e.cancel,className:"left small flat"}]),this.$("span").html(t),this.callback=i,this.context=n,this.$el.slideDown(150),this.triggerMethod("notice:show:message")},childViewTriggers:{"click:button":"notice:click:button"}}),l=Mn.CollectionView.extend({className:"g-dialog--manage",childView:Mn.View.extend({tagName:"i",template:_.template(""),triggers:{click:"manage:item:click"},onRender:function(){this.$el.addClass(this.model.id)}}),childViewTriggers:{"manage:item:click":"manage:item:click"}});return Mn.View.extend({className:"g-dialog--wrapper",template:"#dialog-window-template",ui:{header:".g-dialog--header",title:".g-dialog--title",content:".g-dialog--content",blocker:".g-dialog--blocker"},regions:{notify:{el:".g-dialog--promt",replaceElement:!0},toolbar:".g-toolbar",content:"@ui.content",sidebar:".g-dialog--sidebar",footer:{el:".g-dialog--footer",replaceElement:!0},manage:{el:".g-dialog--manage",replaceElement:!0}},initialize:function(){this.options.model||(this.model=new t(this.options))},modelEvents:{"change:content":function(e,t){this.getRegion("content").show(t)},"change:title":function(e,t){this.ui.title.html(t)},"change:icon":function(e,t){this.ui.title.attr("data-icon","icon-"+t)},"change:showContext":function(e,t){this.$el.attr("context",t)},"change:size":function(e,t){if(this.model.set({top:this.$el.position().top,left:this.$el.position().left,width:this.$el.width(),height:this.$el.height()}),this.$el.attr("size",t),"max"===t)this.$el.css({left:0,top:45,width:"",height:"",transform:"initial"}).draggable().draggable("destroy").resizable().resizable("destroy");else{var i=this.model.previousAttributes();this.$el.css({left:i.left,top:i.top,width:i.width,height:i.height}),this._initDragAndResize()}}},onRender:function(){this.$el.attr("size",this.model.get("size")),this.$el.attr("footer",!!this.model.get("footer").length),this.$el.attr("toolbar",!!this.model.get("toolbar").length),this.$el.attr("modal",!!this.model.get("modal")),this.$el.attr("context",this.model.get("showContext")),this.$el.attr("header",this.model.get("color")),this.model.get("zindex")&&this.$el.css("zIndex",9e3+this.model.get("zindex")),"full"!==this.model.get("size")?this._initDragAndResize():this.model.get("header").manage=[{id:"close"}],this.showChildView("manage",new l({collection:new Backbone.Collection(this.model.get("header").manage)})),this.showChildView("notify",new s),this.showChildView("toolbar",new n({collection:this.model.get("toolbar")})),this.showChildView("footer",new i({collection:this.model.get("footer")})),this.model.has("content")&&this.showChildView("content",this.model.get("content")),this.model.has("sidebar")?(this.$el.attr("sidebar",!0),this.showChildView("sidebar",this.model.get("sidebar"))):this.$el.attr("sidebar",!1)},onAttach:function(){if("full"!==this.model.get("size")){var e=$("main"),t=this.$el,i=e.height()/2-t.height()/2;t.css({top:i<44?44:i,left:e.width()/2-t.width()/2})}this.model.get("autoOpen")?this.$el.show():this.$el.hide()},childViewEvents:{"show:message":function(e){this.getChildView("notify").showNotify(e)},"show:message:confirm":function(e){this.getChildView("notify").showConfirm(e.text,e.fx,e.ctx)},"notice:show:message":function(){this.ui.blocker.show()},"notice:click:button":function(){this.ui.blocker.hide()},"manage:item:click":function(e){this[e.model.id]()},"content:reflect":function(e){var t=this.getChildView("content"),i=t[e.model.id];i&&"function"==typeof i&&i.call(t,e)},"toolbar:update":function(e){this.$el.attr("toolbar",!!e.length)}},childViewTriggers:{"toolbar:item:click":"toolbar:item:click","toolbar:input:keyup":"toolbar:input:keyup","container:select:item":"container:select:item","footer:button:click":"footer:button:click","after:load":"after:load"},close:function(){this.$el.hide(),this.triggerMethod("dialog:closed"),Backbone.Radio.channel("Notify").request("hide:overlay")},size:function(){this.model.set("size","max"===this.model.get("size")?"def":"max")},menu:function(){this.model.set("showContext",!this.model.get("showContext"))},_initDragAndResize:function(){this.$el.resizable({stop:function(e,t){try{this.model.has("content")&&_.isFunction(this.model.get("content"))&&this.model.get("content").triggerMethod("container:resize:stop",this.getRegion("content").$el)}catch(e){console.error(e.message)}}.bind(this)}).draggable({handle:this.ui.header,helper:"original",containment:"main"}),this.$el.css("position","fixed")}})}),define("c/InputFormView",["i18n!nls/resources.min","global.behaviors.input"],function(e,t){return Mn.View.extend({behaviors:[t],tagName:"span",className:"g-form--input",template:_.template('<input type="text" id="input" name="" value="" class="g-form--input" placeholder="<%= Resources.nameVidget %>"><label for="input"><%= Resources.nameVidget %></label><i class="add rtl-1"></i><i class="clear rtl-2"></i>'),templateContext:{Resources:e},events:{"click .clear":function(){this.$("input").val("")}},triggers:{"click .add":"input:click:add"}})}),define("c/EditListView",[],function(){var e="<span><%= title %></span><span class='cmd'><button type='button' class='view' data-icon='icon-eye'></button><% if(!IsSystem){ %><button type='button' class='edit' data-icon='icon-pen'></button><button type='button' class='clear' data-icon='icon-close-l'></button><% } %></span>",t=Mn.CollectionView.extend({className:"list-cmd-panel",childView:Mn.View.extend({className:"item",template:_.template(e),triggers:{click:"click:item","click .view":"list:item:view","click .clear":"list:item:clear","click .save":"list:item:save"},events:{"click .edit":function(e){e.stopPropagation(),this.template=_.template("<input type='text' value='<%- title %>' /><span class='cmd edit-view'><button type='button' class='cancel' data-icon='icon-round-del'></button><button type='button' class='save' data-icon='icon-round-check'></button></span>"),this.render()},"click .cancel":function(t){t.stopPropagation(),this.template=_.template(e),this.render()},"click input":function(e){e.stopPropagation()}},onListItemSave:function(){if($.trim(this.$("input").val())){var t={title:this.$("input").val()};t[this.options.titleAttribute]=this.$("input").val(),this.model.set(t),this.template=_.template(e),this.render()}else this.$("input").val(this.model.get("title"))}}),childViewOptions:function(e){return e.has("IsSystem")||e.set("IsSystem",!1),this.options.titleAttribute&&(e.set("title",e.get(this.options.titleAttribute)),e.on("change:"+this.options.titleAttribute,function(){e.set("title",e.get(this.options.titleAttribute))},this)),{titleAttribute:this.options.titleAttribute}},childViewTriggers:{"click:item":"click:item","list:item:view":"list:item:view","list:item:clear":"list:item:clear","list:item:save":"list:item:save"}});return Mn.View.extend({template:_.template("<div></div>"),regions:{list:{el:"div",replaceElement:!0}},childViewTriggers:{"click:item":"click:item","list:item:view":"list:item:view","list:item:clear":"list:item:clear","list:item:save":"list:item:save"},events:{"click .add-btn":function(e){e.stopPropagation(),this.$("#add-collection").css({"border-color":""});var t=$.trim(this.$("#add-collection").val());t?(this.$("#add-collection").val(""),this.triggerMethod("list:add",t)):this.$("#add-collection").css({"border-color":"red"})}},onRender:function(){this.getRegion("list").show(new t({collection:this.collection,titleAttribute:this.options.titleAttribute}))}})}),define("c/TabsView",[],function(){var e=Mn.CollectionView.extend({tagName:"ul",className:"nav nav-tabs",childView:Mn.View.extend({tagName:"li",template:_.template('<a href="#<%- id %>"><%- title %>&nbsp;<span style="display: inline-block; min-width: 22px;"><%- total?"("+total+")":"" %></span></a>'),triggers:{click:"click:item"},onRender:function(){this.model.has("active")&&this.model.get("active")?this.$el.addClass("active"):this.$el.removeClass("active")},modelEvents:{"change:active":function(){this.render()}}}),childViewOptions:function(e){e.has("total")||e.set("total",null)}});return Mn.View.extend({template:_.template("<ul></ul><div></div>"),regions:{tabs:{el:"ul",replaceElement:!0},content:{el:"div",replaceElement:!0}},onChildviewClickItem:function(e){var t=e.model.collection.findWhere({active:!0});t&&t.set("active",!1),e.model.has("active")&&e.model.get("acitve")||(e.model.set("active",!0),this.showContent(e.model))},showContent:function(e){var t=e.get("view");this.showChildView("content",new t(e.get("options"))),this.finishLoadContent()},finishLoadContent:function(){},onRender:function(){this.showChildView("tabs",new e({collection:this.collection}));var t=this.collection.findWhere({active:!0});t&&this.showContent(t)}})}),define("global.request.param",["i18n!nls/resources.min","global.behaviors.input","global.view.dropDown","global.view.dialog","c/searchPanel","g/tree","RU"],function(e,t,i,n,o,s){var l=Backbone.Model.extend({defaults:function(){return{Name:"",DisplayValue:"",ParametrType:"",Caption:"",Description:"",Value:[],MetaEntity:"",IsMultiValues:!1,StickUrl:"",NoCash:!1}},validate:function(e){var t=[];if("int"!==this.get("ParametrType").toLowerCase()||function(e,t){return""===e||new RegExp(t).test(e)}(e.Value[0],"^[\\d]+$")||t.push(e),t.length)return t;this.trigger("valid")}});return Mn.View.extend({behaviors:{input:t},tagName:"span",className:"g-form--input",getTemplate:function(){var e=this.model.get("ParametrType")?this.model.get("ParametrType").toLowerCase():"";return-1!==["idlist","type","rubric","object"].indexOf(e)?_.template('<div class="dialog"></div><input type="text" class="g-form--input <%- DisplayValue?\'filled\':\'\' %>" placeholder="<%- Caption %>" value="<%- DisplayValue?DisplayValue:Value.join(",") %>" name="<%- Name %>" disabled="disabled" /><label><%- Caption %></label><i class="rtl-2 more add"></i><i class="rtl-3 clear"></i><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>'):"bool"===e?_.template('<input type="checkbox" id="id<%- Name %>" class="g-form--checkbox" name="<%- Name %>" <% if(Value[0]==="True"){ %>checked="checked"<% } %> /><label for="id<%- Name %>" class="bool-type-label"><%- Caption %></label><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>'):"text"===e?_.template('<label><%- Caption %></label><i class="help rtl-1 textarea"></i><span class="g-tip bottom textarea"><kbd></kbd><span><%- Description %></span></span><textarea class="g-form--textarea <%- DisplayValue?\'filled\':\'\' %>" name="<%- Name %>" placeholder="<%- Caption %>"><%- DisplayValue?DisplayValue:Value.join(",") %></textarea>'):"datetime"===e?_.template('<input type="text" value="" name="<%- Name %>" /><label><%- Caption %></label><svg class="svg-icon--big"><use xlink:href="#calendar-icon"></use></svg><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>'):"dictionary"===e?_.template('<label><%- Caption %></label><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span><div></div>'):_.template('<input type="text" class="g-form--input <%- DisplayValue?\'filled\':\'\' %>" placeholder="<%- Caption %>" value="<%- DisplayValue?DisplayValue:Value.join(",") %>" name="<%- Name %>" /><label><%- Caption %></label><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>')},ui:{text:"textarea",input:"input",clear:"i.clear"},collectionEvents:{update:function(e,t){if(t.add){var i=e.pluck("id");i.length||(i=this.model.get("Value")),this.model.set({DisplayValue:e.pluck("title").join("; "),Value:i})}}},modelEvents:{invalid:function(){this.ui.text.addClass("error"),this.ui.input.addClass("error")},valid:function(){this.ui.text.removeClass("error"),this.ui.input.removeClass("error")},"change:DisplayValue":function(e,t){this.ui.input.val(t)},"change:Value":function(e,t){this.ui.clear.show()}},events:{"click label.bool-type-label":function(){this.$("input").is(":checked")?this.model.set("Value",["False"]):this.model.set("Value",["True"])},"keyup input[type=text], textarea, input[class!=ejdatepicker]":function(e){this.model.set("Value",[$.trim($(e.target).val())],{validate:!0})},"click .more":function(){if(this._setKeyHeader(),-1===["Object","IdList"].indexOf(this.model.get("ParametrType"))){var t={RequestSelected:e.selectRequest,Request:e.selectRequest,Rubric:e.selectRubric,RubricTools:[{id:"add",caption:e.add},{id:"rename",caption:e.rename},{id:"clear",caption:e.deleteItem},{id:"searchObj",className:"search",template:'<span class="g-form--input input-data"><input type="text" name="search-name" value="" class="g-form--input" placeholder="Enter keyword"/><i class="search rtl-1" name="search"></i></span>'}],Type:e.selectTree},i=new s({collection:new Backbone.Collection,selected:this.model.get("Value"),node:{checkbox:!1}}),l=new n({title:t[this.model.get("ParametrType")],header:{manage:[{id:"close"}]},color:"blue",controls:[],tools:t[this.model.get("ParametrType")+"Tools"],content:i});i.collection.url=this.model.get("url")||"/api/"+this.model.get("ParametrType"),i.collection.fetch({reset:!0}),this.listenTo(i,"container:select:item",function(e){parseInt(e.model.id)>=0&&(this.model.get("IsMultiValues")?this.collection.add(e.model):(this.collection.reset(),this.collection.add(e.model),l.close()))})}else l=new n({title:e.selObj,icon:"gear",color:"blue",size:"med",header:{manage:[{id:"close"}]},toolbar:new Backbone.Collection([{id:"filterByType",className:"filter"},{id:"searchObj",className:"search",template:'<span class="g-form--input input-data"><input type="text" name="search-name" value="" class="g-form--input" placeholder="Enter keyword"/><i class="search rtl-1" name="search"></i></span>'}]),content:new o({rid:this.options.rid,collection:this.collection,IsMultiValues:"IdList"===this.model.get("ParametrType")}),footer:new Backbone.Collection([{id:"close",title:e.apply,className:"blue right"}])}),this.listenTo(l,"footer:button:click",function(e){l.close()});this.hasRegion()||this.addRegion("dialog",".dialog"),this.getRegion("dialog").show(l)},"click @ui.clear":function(e){e.stopPropagation(),this.collection.reset(),this.model.set({DisplayValue:"",Value:[]})}},initialize:function(){this.collection||(this.collection=new Backbone.Collection),this.model||(this.model=new l(this.options.attributes))},onBeforeRender:function(){-1!==this.model.get("Name").indexOf("#")&&this.model.set("Name",this.model.get("Name").replace(/#/g,"")),this.model.has("ParametrType")||this.model.set("ParametrType","")},onRender:function(){this._setKeyHeader();var e=this.model.get("ParametrType").toLowerCase();this["_"+e]&&this["_"+e]()},onChildviewDropdownSelect:function(e,t){this.model.set("Value",[e.id])},_setKeyHeader:function(){if(this.options.rid||this.options.dbase){var e={};this.options.rid?e.RID=this.options.rid:e.db="db"+this.options.dbase,$.ajaxSettings.headers.key=$.mergeUrlParam($.ajaxSettings.headers.key,e)}else require(["bdid"],function(e){e&&($.ajaxSettings.headers.key=$.mergeUrlParam($.ajaxSettings.headers.key,{db:"db"+e}))})},_dictionary:function(){this.addRegion("ddm","div");var e=new Backbone.Collection;this.showChildView("ddm",new i({collection:e})),e.url="/api/ModelDicItems?dic="+this.model.get("MetaEntity"),e.fetch({reset:!0,success:function(){this.getChildView("ddm").setCurrent(this.model.get("Value")[0])}.bind(this)}),this.listenTo(this.getChildView("ddm"),"dropdown:select",function(e){this.model.set({Value:[e.id]})})},_datetime:function(){this.$el.addClass("date-position");this.$("input").ejDatePicker({width:"100%",height:"36px",value:new Date(this.model.get("Value")[0]),locale:e.Lang,buttonText:e.Today,showPopupButton:!1,watermarkText:this.model.get("Caption"),focusOut:function(e){this.$("input").data("ejDatePicker").hide()}.bind(this),select:function(e){var t=e.date;this.model.set({Value:[$.ToISODateOnly(t)]})}.bind(this)});this.$("input").addClass("ejdatepicker"),this.$(".svg-icon--big").on("click",function(){this.$("input").ejDatePicker("show")}.bind(this))}})}),define("c/searchPanel",["i18n!nls/resources.min","c/SimpleTableView","g/tree"],function(e,t,i){var n=Mn.CollectionView.extend({childView:Mn.View.extend({className:"item",template:_.template('<%- title %><span data-icon="icon-trash"></span>'),triggers:{'click span[data-icon="icon-trash"]':"remove:selected"}}),childViewTriggers:{"remove:selected":"remove:selected"}});return Mn.View.extend({className:"choise-panel",template:"#choise-panel-list-template",templateContext:{Resources:e},ui:{tt:"#types-tree"},regions:{result:".result-list",select:".select-list",tree:"@ui.tt"},initialize:function(){this.options.rid&&(this.treeOptions={path:"/api/Tree/ByWidgetQ/"+this.options.rid}),this.typeid=10001,this.searchVal=""},onRender:function(){var o=new Backbone.Collection;o.url="/api/List/?page=1&text=&typeid=10001",this.showChildView("result",new t({collection:o,rowTemplate:"<td><input type='checkbox' id='ch_<%- id %>' class='g-form--checkbox'><label for='ch_<%- id %>'><span><%= num %>.</span><span><%- title %></span></label></td><td><%- type %></td>",head:new Backbone.Collection([{id:0,title:e.title,width:"70%"},{id:1,title:e.type,width:"30%"}])})),this.getChildView("result").collection.on("reset",function(){this.getChildView("result").$el.hideIndicator()},this),this.getChildView("result").collection.on("error",function(){this.getChildView("result").$el.hideIndicator()},this),this.collection.reset(),this.showChildView("select",new n({collection:this.collection}));var s=new Backbone.Collection;s.url=this.treeOptions?this.treeOptions.path||"/api/Type":"/api/Type",this.showChildView("tree",new i({collection:s,node:{checkbox:!1,levelOpen:4}})),s.fetch({reset:!0})},onChildviewContainerSelectItem:function(e){this.typeid=e.model.id,this.search()},clear:function(){this.searchVal="",this.typeid=10001;var e=this.getChildView("result").collection;e.url=$.mergeUrlParam(e.url,{text:this.searchVal,page:1,typeid:this.typeid}),e.reset()},search:function(e){var t=this.getChildView("result").collection;this.getChildView("result").currentPage=1,t.url=$.mergeUrlParam(t.url,{page:1,typeid:this.typeid,text:this.searchVal}),this.triggerMethod("notice:show:message"),t.fetch({reset:!0,success:function(){this.triggerMethod("notice:click:button")}.bind(this),error:function(){this.triggerMethod("notice:click:button")}})},filterByType:function(e){this.ui.tt.toggle()},searchObj:function(e){var t=e.$("input[name='search-name']").val();(event.keyCode?13===event.keyCode&&$.trim(t):$(event.target).hasClass("search"))&&t.length>=1&&(this.searchVal=t,this.search())},childViewEvents:{"page:select":function(e){var t=this.getChildView("result"),i=this.getChildView("result").collection;t.currentPage=e,i.url=$.mergeUrlParam(i.url,{page:e}),i.fetch({reset:!0})},"change:input:row":function(e){var t=e.$("input");this.ui.tt.hide(),t.prop("checked")?this.options.IsMultiValues?this.collection.add(e.model):(this.getChildView("result").getChildView("body").children.each(function(t){e.model.id!==t.model.id&&t.$("input").prop("checked",!1)}),this.collection.reset(),this.collection.add(e.model)):this.collection.remove(e.model)},"remove:selected":function(e){this.getChildView("result").getChildView("body").children.findByModel(e.model).$("input").prop("checked",!1),this.collection.remove(e.model)}}})}),define("g/tree",["i18n!nls/resources.min"],function(e){var t=(Backbone.Collection.extend({model:Backbone.Model.extend({defaults:{id:null,parentid:"",title:"",parents:[],children:0,cdate:0}})}),Mn.View.extend({tagName:"li",
template:_.template('<div><i class="expander" <%- nodes?"":"disabled" %>></i><input type="checkbox" id="node_<%- id %>"><label for="node_<%- id %>"></label><span tree-icon="<%- nodes?(id==="-1"?"root":"folder"):"file" %>"><% if(iconurl){ %><img src="<%- iconurl %>" alt="" />&nbsp;<% } %><%- title %></span><button data-value="ok"></button><button data-value="cancel"></button></div><ul></ul>'),ui:{span:"span",cancel:'button[data-value="cancel"]',save:'button[data-value="ok"]',expander:"i.expander",chbox:"input[type=checkbox]",label:"input[type=checkbox]+label"},regions:{tree:{el:"ul",replaceElement:!0}},triggers:{"click @ui.span":"container:select:item"},events:{"click @ui.chbox":function(e){e.stopPropagation(),this.model.set("selected",this.ui.chbox.prop("checked")),this.triggerMethod("click:select:input",this)},"click @ui.cancel":function(){this.model.set("isEdit",!1),this.model.id||this.model.collection.remove(this.model)},"click @ui.save":function(e){e.stopPropagation(),$.trim(this.ui.span.text())&&this.model.save({title:this.ui.span.text()}),this.model.set("isEdit",!1)},"click .expander":function(e){e.stopPropagation(),$(e.target).closest("div").toggleClass("expanded")}},modelEvents:{"change:nodes":function(e,t){t&&t.length?(this.ui.expander.attr("disabled",!1),this.ui.span.attr("tree-icon","folder")):(this.ui.expander.attr("disabled",!0),this.ui.span.attr("tree-icon","file"))},"change:isEdit":function(e,t){t?this.ui.span.attr("contenteditable",!0):this.ui.span.removeAttr("contenteditable")}},onBeforeRender:function(){if(this.options.parent&&this.options.parent.id===this.model.get("parentid")){var e=this.options.parent.get("parents")||[];e.push(parseInt(this.options.parent.id)),this.model.set("parents",_.uniq(e))}},onRender:function(){if(this.options.node||(this.options.node={checkbox:!0}),this.model.has("selected")&&this.$("input[type=checkbox]").prop("checked",this.model.get("selected")),this.model.has("nodes")){this.options.node.levelOpen?this.model.get("level")<this.options.node.levelOpen&&this.$("div").addClass("expanded"):this.$("div").addClass("expanded");var e=new i({parent:this.model,collection:this.model.get("nodes"),url:this.options.url,node:this.options.node});this.showChildView("tree",e)}this.options.node.checkbox||this.$("input[type=checkbox] ~ label").hide(),this.model.has("isEdit")||this.model.set("isEdit",!1)},showAddTemplate:function(){this.model.set("isEdit",!1);var t=new Backbone.Model({id:null,title:e.title,parentid:this.model.id,cdate:0,nodes:null,iconurl:null});if(this.model.has("nodes"))this.model.get("nodes").add(t);else{var i=new Backbone.Collection([t]);i.url=this.model.collection.url,this.model.set({nodes:i,children:1})}this.model.trigger("change:nodes"),this.render(),t.set("isEdit",!0)},childViewTriggers:{"click:select:input":"click:select:input","container:select:item":"container:select:item"}})),i=Mn.CollectionView.extend({tagName:"ul",className:"g-tree",childView:t,childViewOptions:function(){return{parent:this.options.parent,url:this.options.url,node:this.options.node}},initialize:function(){this.collection.comparator="cdate",this.branch=this.options.branch||{pid:0}},collectionEvents:{update:function(){this.options.parent&&(this.options.parent.set({children:this.collection.length}),this.collection.length||this.options.parent.set({nodes:null}))},reset:function(){this.$el.hideIndicator();var e=new Backbone.Collection;this.collection.each(function(t){0===parseInt(t.get("parentid"))&&t.set("level",1),this.options.selected&&t.set("selected",-1!==this.options.selected.indexOf(parseInt(t.id)));var i=this.collection.where({parentid:t.id}),n=new Backbone.Collection;n.url=this.collection.url,n.add(_.map(i,function(e){return e.set("level",t.get("level")+1),e.collection=n,e})),t.set("nodes",n.length?n:t.has("isdoc")?null:[]),e.add(i)},this),this.collection.remove(e.models)}},onChildviewContainerSelectItem:function(e){this.$("div.active").removeClass("active"),e.$("div:first").addClass("active")},childViewTriggers:{"click:select:input":"click:select:input","container:select:item":"container:select:item"}});return i}),define("g/ejRTEView",["i18n!nls/resources.min","g/ImageGalleryView","RU","syncfusion"],function(e,t){return Mn.View.extend({tagName:"textarea",template:!1,onAttach:function(){this.ejRTE=this.$el.ejRTE({value:this.options.value,maxLength:Number.MAX_VALUE,locale:e.Lang,width:this.options.width||"100%",height:this.options.height||"450px",minHeight:"200px",showFooter:!0,showHtmlSource:!0,autoFocus:!0,toolsList:["font","style","alignment","customTools","links","clipboard","doAction","lists","media","tables","casing","clear"],tools:{font:["fontSize","fontColor","backgroundColor"],style:["bold","italic","underline","strikethrough"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"],clipboard:["cut","copy","paste"],doAction:["undo","redo"],clear:["clearFormat","clearAll"],links:["createLink","removeLink"],media:["video"],tables:["createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","deleteTable"],casing:["upperCase","lowerCase"],customTools:[{name:"galleryWindow",tooltip:e.gallery,text:"",css:"e-rte-toolbar-icon image",action:function(){var i={id:"gallery-window",icon:"icon-source",title:e.gallery,toolbar:[],footer:[],content:new t};Backbone.Radio.channel("Notify").request("once:dialog",i),this.listenTo(i.content,"change:item",function(e){var t='<img src="'+e.get("FileUrl")+'" alt="'+e.get("OriginalFileName")+'" />';this.ejRTE.executeCommand("inserthtml",t)}.bind(this))}.bind(this)}]}}).data("ejRTE")},fix:function(){return $(window).trigger("resize"),this}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpY3Rpb25hcnkuanMiLCJzdG9yYWdlbW9kZWwuanMiLCJpbnB1dC5qcyIsImRpYWxvZy5qcyIsInNpZGViYXIuanMiLCJsb2FkZXIuanMiLCJhcHAuanMiLCJEb20uanMiLCJlZGdldmlldy5qcyIsImJhc2tldHZpZXcuanMiLCJIZWFkZXJWaWV3LmpzIiwiRmVlZGJhY2suanMiLCJBbGVydHNCYXJWaWV3LmpzIiwiY29ubmVjdC5qcyIsIkNvbnRleHRNZW51Vmlldy5qcyIsImVkaXRwYW5lbHZpZXcuanMiLCJ1cGxvYWRmaWxldmlldy5qcyIsImltYWdlZ2FsbGVyeXZpZXcuanMiLCJzaW1wbGV2aWV3LmpzIiwiZGF0YXZpZXcuanMiLCJkcm9wZG93bnZpZXcuanMiLCJkaWFsb2dtb2RlbC5qcyIsImRpYWxvZ3ZpZXcuanMiLCJpbnB1dGZvcm12aWV3LmpzIiwiZWRpdGxpc3R2aWV3LmpzIiwidGFic3ZpZXcuanMiLCJwYXJhbXZpZXcuanMiLCJzZWFyY2h2aWV3LmpzIiwidHJlZS5qcyIsImVqcnRldmlldy5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJkaWN0aW9uYXJpZXMiLCJCYWNrYm9uZSIsIkNvbGxlY3Rpb24iLCJleHRlbmQiLCJtb2RlbCIsIk1vZGVsIiwiaWRBdHRyaWJ1dGUiLCJkZWZhdWx0cyIsIkRpY0NvZGUiLCJEaWNUeXBlIiwiSUQiLCJJbXBvcnRhbmNlIiwiVGl0bGUiLCJ1cmwiLCJjIiwiaW5pdCIsImRvbmUiLCJmIiwiY29udGV4dCIsInRoaXMiLCJjYWxsYmFjayIsIm1vZGVscyIsImxlbmd0aCIsImNhbGwiLCJmZXRjaCIsInJlc2V0Iiwic3VjY2VzcyIsIlJlc291cmNlcyIsIlRyZWVzIiwiUGxheWVycyIsIkNvbm5lY3RVcmwiLCJpbml0aWFsaXplIiwiQ3VycmVudCIsIm9uIiwiYWRkVHJlZSIsImFkZFBsYXllciIsImNsZWFyUGxheWVycyIsImFkZENoZWNraW5nIiwiY2xlYXJDaGVja2luZyIsInNldEN1cnJlbnQiLCJkYXRhIiwiaWQiLCJtIiwiY2hlY2tDb2xsZWN0aW9uIiwiZ2V0IiwicmVtb3ZlIiwibyIsImFkZCIsImdldFRyZWUiLCJub0Nhc2giLCJzdXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0cyIsImdldE1vZGVsRm9yVHJlZSIsInJlcXVpcmUiLCJUcmVlVmlldyIsIm9wdGlvbnMiLCJhcGkiLCJtYXJrQ3VycmVudCIsInNldCIsImJpbmQiLCJvcGVyYXRpb24iLCJuYW1lIiwiJCIsInRyaW0iLCJidXRzIiwiZ2V0QnV0cyIsIl8iLCJmaW5kV2hlcmUiLCJRdWVyeUJ1dHRvbnNEYXRhIiwiYnMiLCJlYWNoIiwiYSIsInB1c2giLCJiIiwiYWRkQnV0dG9ucyIsInVuaW9uIiwicCIsInBzIiwicGxheWVyIiwicGF1c2UiLCJzcmMiLCJsb2FkIiwiTW4iLCJCZWhhdmlvciIsInVpIiwiaW5wdXQiLCJjbGVhciIsInN3aXRjaEVkaXQiLCJoZWxwIiwiZXZlbnRzIiwiY2xpY2sgLmctdGlwIGtiZCIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiaGlkZSIsImNsaWNrIEB1aS5oZWxwIiwibmV4dCIsInNob3ciLCJkZWxheSIsImZhZGVPdXQiLCJjbGljayBAdWkuY2xlYXIiLCJldmVudCIsInByZXZBbGwiLCJ2YWwiLCJyZW1vdmVDbGFzcyIsImZvY3VzIEB1aS5pbnB1dDpub3QoXCIuZGlzYWJsZWRcIikiLCJibHVyIEB1aS5pbnB1dDpub3QoXCIuZGlzYWJsZWRcIikiLCJjbGljayBAdWkuc3dpdGNoRWRpdCIsIiRlIiwiZmxhZyIsImF0dHIiLCIkZm9ybSIsInRvZ2dsZUNsYXNzIiwiZmluZCIsImhhc0NsYXNzIiwicHJvcCIsImZpbGxlZCIsImFkZENsYXNzIiwib25SZW5kZXIiLCJlcSIsInRleHQiLCJzaWJsaW5ncyIsImRpYWxvZ01vZGVsIiwiRGlhbG9nVmlldyIsIk9iamVjdCIsImNoYW5uZWxOYW1lIiwicmFkaW9SZXF1ZXN0cyIsInNob3c6b3ZlcmxheSIsIm92ZXJsYXkiLCJhcHBlbmQiLCJoaWRlOm92ZXJsYXkiLCJ1bmlxOmRpYWxvZyIsIm9uY2U6ZGlhbG9nIiwiaW5pdERpYWxvZyIsImRpYWxvZyIsImdldENoYW5uZWwiLCJyZXF1ZXN0IiwibGlzdGVuVG8iLCJjYWxsVG9vbHNEaWFsb2ciLCJjYWxsRmlsdGVyRGlhbG9nIiwidHJlZVNlbGVjdEl0ZW0iLCJ2IiwiayIsImdldENoaWxkVmlldyIsImVkaXRhYmxlVmlldyIsInRvb2xzIiwiY29sbGVjdGlvbiIsInJlbmFtZSIsImNoaWxkcmVuIiwiZmluZEJ5TW9kZWwiLCJzaG93QWRkVGVtcGxhdGUiLCJ0cmlnZ2VyIiwidGl0bGUiLCJhc2t5b3VzdXJlIiwibWVzc2FnZSIsIkZvcm1hdCIsImRlbHRleHQiLCJmeCIsImRlc3Ryb3kiLCJjdHgiLCJ0b0xvd2VyQ2FzZSIsInRyZWVWaWV3IiwicmVjdXJjaXZlIiwicGFyc2VJbnQiLCJpbmRleE9mIiwiaGFzIiwiJGVsIiwic2lkZUJhck1vZGVsIiwidmlldyIsIm5hbWVWaWV3IiwibWVudVZpZXciLCJDb2xsZWN0aW9uVmlldyIsInRhZ05hbWUiLCJjaGlsZFZpZXciLCJWaWV3IiwidGVtcGxhdGUiLCJ0cmlnZ2VycyIsImNsaWNrIiwiY2hpbGRWaWV3VHJpZ2dlcnMiLCJtZW51Oml0ZW0iLCJzaWRlYmFyVmlldyIsImVsIiwicmVnaW9ucyIsImxpc3QiLCJyZXBsYWNlRWxlbWVudCIsImNsaWNrIC5jb250cm9sIiwiaXNIaWRlIiwibW9kZWxFdmVudHMiLCJjaGFuZ2UiLCJjaGlsZFZpZXdFdmVudHMiLCJzaWRlQmFyVHJpZ2dlciIsImNvbGxlY3Rpb25FdmVudHMiLCJzaG93Q2hpbGRWaWV3Iiwic2lkZUJhciIsInVuZGVmaW5lZCIsIm9wZW4iLCJpdGVtcyIsInJhZGlvRXZlbnRzIiwicmVuZGVyIiwiY2xvc2UiLCJsb2FkZXIiLCJfdGhpcyIsImNzcyIsInNpemUiLCJzcGVlZCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiU2VsZWN0IiwicHJlc2VudCIsInF1ZXJ5IiwicGFnZSIsImRldGFpbCIsInRhYiIsInN1YiIsInBhcmFtcyIsInRpY2tCYWxhbmNlIiwiZmlsbCIsInBhdGgiLCJzZWdtZW50cyIsInNwbGl0IiwiaSIsImZ1bGxwYXRoIiwiZ2V0cGF0aCIsImpvaW4iLCJnZXRPYmplY3RCeVBhcmFtIiwiY2hlY2tNb25pdG9yaW5nIiwibW9uaXRvcmluZyIsImdvbiIsImh1YiIsIlNKIiwiaXdjIiwiU2lnbmFsUiIsImdldEh1YlByb3h5IiwiY2xpZW50Iiwic2VydmVyIiwic3RhcnRNb25pdG9yaW5nVGFza3MiLCJhamF4U2V0dGluZ3MiLCJzdG9wTW9uaXRvcmluZ1Rhc2tzIiwic3RyIiwib3V0IiwicyIsInNlbCIsImhhc093blByb3BlcnR5IiwibGluayIsInBhcmFtIiwiYXJndW1lbnRzIiwiYWN0aW9uIiwiX2lkIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInByZXBhcmUiLCJmaWVsZCIsImRhdGV0aW1lIiwiYXJyIiwiZmllbGROYW1lIiwiaHJlZiIsImlzQXJyYXkiLCJBcnJheSIsImZyb20iLCJwcm9wVHlwZSIsInZhbHVlIiwicGFyc2UiLCJ0Iiwib3V0cHV0IiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiTGFuZyIsIkdldCIsInIiLCJpbCIsImMxIiwiX3BhcmFtIiwib2JqIiwicmVzdWx0IiwicHIiLCJjaGVjayIsImFjY2VzcyIsImd1aWQiLCJ0eXBlIiwiY29va2llIiwiYWpheCIsImQiLCJleHBpcmVzIiwiZmFpbCIsIkVycm9yIiwiJGxpc3QiLCJuYXZpZ2F0ZSIsImZyYWdtZW50Iiwicm91dGVyIiwiUm91dGVyIiwiX28iLCJoYXNoIiwiczEiLCJzMiIsInMzIiwiY29sbGVjdFVybCIsInFzdHIiLCJhZGRQYXJhbXMiLCJ0d28iLCJzcGxpY2UiLCJnZXRDb250ZXh0Iiwia2V5IiwicSIsInR4dCIsImdldFBhcmFtIiwiX3MiLCJnZXRQYXJhbXMiLCJwYXJzZUhhc2giLCJsaCIsInJlc2l6ZWVuZCIsInJ0aW1lIiwiZGVsdGEiLCJnZXRJY29uIiwiX291dCIsImFqYXhTZXR1cCIsImhlYWRlcnMiLCJ3aW5kb3ciLCJvcmlnaW4iLCJzZWFyY2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJlcnJvciIsIngiLCJiZWZvcmVTZW5kIiwieGhyIiwiY29tcGxldGUiLCJqcVhIUiIsInhoclBvb2wiLCJ4aHJBYm9ydEFsbCIsIm1hcCIsImFib3J0IiwicmVzaXplIiwiZWxlbWVudCIsImxpbmtzIiwibCIsInJlcGxhY2UiLCJmbiIsInNob3dJbmRpY2F0b3IiLCJnZXRUaW1lIiwibGVmdCIsIm9mZnNldCIsIndpZHRoIiwidG9wIiwiaGVpZ2h0IiwiaGlkZUluZGljYXRvciIsImNsb25lIiwiYXBwZW5kVG8iLCJyZW1vdmVBdHRyIiwibWVyZ2VVcmxQYXJhbSIsInUiLCJjaGFpbiIsIml0ZW0iLCJjb21wYWN0Iiwib2JqZWN0IiwiR2V0RGF0YSIsIiRwIiwiZGF0ZXRpbWVwaWNrZXIiLCJ0b0lTT1N0cmluZyIsIlRvSVNPIiwiZ2V0VmFsdWUiLCJpcyIsIk1hcmtFcnJvckZvcm0iLCJHZW5RdWVyeSIsInJlc3BvbnNlIiwiZGljdCIsImFjY2VudE1hcCIsItGRIiwi0LgiLCLQtSIsItC5Iiwibm9ybWFsaXplIiwidGVybSIsInJldCIsImNoYXJBdCIsIm1hdGNoZXIiLCJSZWdFeHAiLCJhdXRvY29tcGxldGUiLCJlc2NhcGVSZWdleCIsImxpdCIsImRhdGFUeXBlIiwiZXIiLCJncmVwIiwibGFiZWwiLCJ0ZXN0IiwiYWRkSWNvbiIsInJvYm90IiwiJG8iLCJpY29uX2NsYXNzIiwic3RhdHVzIiwicGMiLCJzZXZlcml0eSIsInN0YXRlIiwibnBjIiwibmljb25fY2xhc3MiLCJUb0lTT0RhdGVPbmx5IiwiZW50ZXJlZERhdGUiLCJwYWQiLCJuIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJpc05hTiIsInRpbWVQYXJ0Iiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwicHR0IiwiY29uc29sZSIsInBhcnNlRGF0ZSIsInNkIiwialF1ZXJ5IiwiaW5jbHVkZSIsIm1ldGEiLCJyZXMiLCJmaWx0ZXIiLCJzdWJzdHJpbmciLCJwcmVwYXJlVXJsIiwibGFuZyIsImRiIiwiX3UiLCJ0YWJzVmlldyIsImNsYXNzTmFtZSIsInRyaWdnZXJNZXRob2QiLCJjaGlsZFZpZXdPcHRpb25zIiwiYWRkOmVkZ2VzIiwiY2hhbmdlOm1vZHVsZSIsIm1vZHVsZXNWaWV3IiwiY2xpY2sgYSIsInByZXZlbnREZWZhdWx0IiwiZWRnZTpjb2xsYXBzZSIsInRlbXBsYXRlQ29udGV4dCIsInRvdWNoc3RhcnQgLmRlZmF1bHQtc3RhcnQtbmF2LXBhdGgiLCJjbGljayAuZGVmYXVsdC1zdGFydC1uYXYtcGF0aCIsInRvdWNoc3RhcnQgLmRlZmF1bHQtc3RhcnQtbmF2LWNsb3NlIiwiY2xpY2sgLmRlZmF1bHQtc3RhcnQtbmF2LWNsb3NlIiwiZGVmYXVsdE5hdiIsInN0YXJ0TmF2IiwiYW5pbWF0ZSIsInByZXBlbmQiLCJfY29sbGFwc2UiLCJ0YWJzIiwibW9kdWxlcyIsIkVuYWJsZWQiLCJDb2RlIiwiZ2V0UmVnaW9uIiwiaGFzVmlldyIsImF0dGFjaEh0bWwiLCJzdGVwIiwiX2luZGV4IiwiU2NoZWR1bGVNb2RlbCIsIlVJRCIsIlRpbWVTdGFydEV4ZWN1dGlvbiIsIlBvaW50RGF0ZUZvclNlbGVjdGlvbiIsIlBlcmlvZGljaXR5IiwiV2hpY2hEYXlzT2ZXZWVrIiwiU3Vic2NyaWJlcnMiLCJTY2hlZHVsaW5nVGFza1R5cGUiLCJTdGF0ZSIsIkVtYWlsVG9waWMiLCJFbWFpbEJvZHkiLCJ2YWxpZGF0ZSIsInNjaGVkdWxlQ29sbGVjdGlvbiIsInJ1IiwiZGF5c1ZpZXciLCJmbG9hdCIsImNoZWNrZWQiLCJyYWRpb1ZpZXciLCJjbGljayBpbnB1dCIsInBlcmlvZCIsImRheXMiLCJjbGljayAuY2FuY2VsLCAuY2xvc2UiLCJjbGljayAuc2F2ZSIsImRpZ2VzdCIsIm9sZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJhc3NpZ24iLCJzYXZlIiwid2FpdCIsIm9uQ2hpbGR2aWV3Q2xpY2tSYWRpbyIsImxvY2FsIiwic2V0bG9jYWwiLCJ3ZWVrIiwiZGF5TmFtZXMiLCJlbXB0eSIsImV2ZXJ5aG91ciIsImV2ZXJ5ZGF5IiwiZXZlcnl3ZWVrIiwiZWpUaW1lUGlja2VyIiwibG9jYWxlIiwiaW50ZXJ2YWwiLCJpZHMiLCJzZWxlY3RlZCIsInBvc3QiLCJhbHdheXMiLCJEcm9wRG93biIsImRkIiwiY3VycmVudCIsIkNEYXRlIiwiU2NoZWR1bGVWaWV3IiwiZmFjdERpZ2VzdE1vZGVsIiwiVGl0bGVUb3AiLCJUaXRsZU1pZGRsZSIsIlRpdGxlQm90dG9tIiwidG9TdHJpbmciLCJjaGFuZ2UgI3Nob3ctc2NoZSIsImJsdXIgaW5wdXQiLCJpc1ZhbGlkIiwic2NoZSIsImVqRGF0ZVBpY2tlciIsImJ1dHRvblRleHQiLCJUb2RheSIsImh0bWwiLCJub3NlbGVjdCIsInZhbGlkYXRpb25FcnJvciIsInRvSlNPTiIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwic2VhcmNoUGFuZWwiLCJkb2NEaWdlc3RNb2RlbCIsIlNlbGVjdGVkT2JqZWN0c0ZvcktleVBocmFzZXMiLCJTb3VyY2VzIiwicmVxIiwia2V5cyIsInBsdWNrIiwiY2xpY2sgaW5wdXRbdmFsdWU9YV0iLCJjbGljayBpbnB1dFt2YWx1ZT1iXSIsImRpYWxvZ09wdGlvbnMiLCJzZWxlY3RSZXF1ZXN0IiwiY29sb3IiLCJjb250cm9scyIsImNvbnRlbnQiLCJub2RlIiwiY2hlY2tib3giLCJ6aW5kZXgiLCJSYWRpbyIsImNoYW5uZWwiLCJjbGljayAuY2hvb3NlIiwic2VsZWN0aW5nT2JqIiwidG9vbGJhciIsImZvb3RlciIsInJpZyIsInJpZCIsIndhcm5pbmciLCJub3RzZWxlY3RlZCIsInNvdXJjZSIsInN0YXR1c1RleHQiLCJ0YWJsZVZpZXciLCJmYWN0RGlnZXN0VmlldyIsImRvY0RpZ2VzdFZpZXciLCJzY2hlZHVsZSIsInN0YXJ0Iiwic2NoZVRhc2tzIiwiZW5hYmxlIiwiZGlzYWJsZSIsImN1cmVudCIsIm9uQ2hpbGR2aWV3VGFibGVSb3dDbWQiLCJoZWFkIiwic2VuZCIsInRvc2VuZCIsInJvd1RlbXBsYXRlIiwiaGVhZGVyIiwiaWNvbiIsIm1hbmFnZSIsImF1dG9PcGVuIiwiYmFza2V0IiwiZXhwb3J0IiwiaW1wb3J0Iiwid2l6YXJkZGlnZXN0IiwiZmFjdERpZ2VzdCIsImRvY0RpZ2VzdCIsImNsZWFyU2VsZWN0ZWQiLCJjbGVhckJhc2tldCIsImhpZGVCdXR0b24iLCJvbkJlZm9yZVJlbmRlciIsIm9uQ2hpbGR2aWV3QWZ0ZXJMb2FkIiwib25DaGlsZHZpZXdUb29sYmFySXRlbUNsaWNrIiwiYWN0IiwidGFibGUiLCJpc0Z1bmN0aW9uIiwibW9kZWxzU2VsZWN0ZWQiLCJjbWQiLCJkaWFsb2dWaWV3IiwiaGFzUmVnaW9uIiwiYWRkUmVnaW9uIiwic2hvd05vdGlmeSIsInNlbGVjdG9iaiIsIm9uQ2hpbGR2aWV3Rm9vdGVyQnV0dG9uQ2xpY2siLCJlcmFzZSIsIm5vdGlmeSIsInNob3dDb25maXJtIiwic3VyZSIsImNsZWFyYWxsIiwiY29uZmlybU9iakRlbGV0ZSIsIklEcyIsImxpc3RJRHMiLCJjbyIsIkFwcCIsInRlbXBsYXRlSW5mbyIsImNsaWNrIC5pY29uLWNsb3NlIiwiY2xpY2sgLmJ0bi1leGVjIiwiY2xpY2sgLmJ0bi1jYW5jZWwiLCJtb2RhbCIsImV4ZWMiLCJjb25maXJtIiwic2lkIiwiYW1vdW50IiwibW9kZSIsImNhbmNlbEJ0biIsIndhaXQyIiwiYWxlcnQiLCJzdG9yYWdlIiwiZGlyZWN0aW9uIiwiX2V4ZWNDb25maXJtIiwiZXhlY0NvbmZpcm0iLCJjb250ZXh0Q29uZmlybSIsIiRsIiwibGFzdCIsImluc2VydEFmdGVyIiwidGV4dEJ0bkV4ZWMiLCJ0aXRsZUV4ZWMiLCJkZWxldGVJdGVtIiwiYWNjIiwiUG9pbnRzIiwiTWVzc2FnZVZpZXciLCJBbGVydHNCYXIiLCJFZGdlVmlldyIsIkJhc2tldFZpZXciLCJkZW1vSW5mbyIsImNhc2VidG4iLCJjYXNlbnVtIiwibG9nbyIsImluZm8iLCJlZGdlIiwiY2FzZSIsImNsaWNrICNJbmZvREIiLCJjbGljayAjSW5mb1VzZXIiLCJtb3VzZWxlYXZlIiwiY2xpY2sgQHVpLmNhc2VidG4iLCJjbGljayBAdWkubG9nbyIsImhpc3RvcnkiLCJjbGljayBAdWkuaW5mbyIsInNob3dEZW1vSW5mbyIsImN1cnJlbnRpZCIsImlzRGVtbyIsIkVkZ2VzIiwiZGVtbyIsImRlbW9JbmZvQ29udGVudCIsImRlbW9UcyIsImluZm9ybWF0aW9uIiwiTiIsImZpbmRCeUluZGV4Iiwib25DaGlsZHZpZXdVcGRhdGVDYXNlIiwibnVtIiwiJGIiLCJjbGljayAuY2xvc2UiLCJzZW5kcmVzdWx0IiwiU2V0UmVzdWx0IiwiU2V0U3ViUmVzdWx0IiwiY2FwdGNoYSIsInNlbmRkYXRhIiwibW9kZWxpZCIsIm1vZGVsdHlwZWlkIiwic2VuZE1lc3NhZ2UiLCJmZWVkYmFja1ZpZXciLCJjbGljayBzcGFuIiwiY2xpY2sgLmVyYXNlIiwic3RvcFByb3BhZ2F0aW9uIiwiYXBwIiwiVGFza3MiLCJtZXNzYWdlc0xpc3QiLCJlbXB0eVZpZXciLCJTdGF0dXMiLCJjbGljazptZXNzYWdlIiwiYnRuIiwiY29udGFpbmVyIiwiY2xpY2sgaS5jbG9zZSIsImNsaWNrIEB1aS5idG4iLCJvbkF0dGFjaCIsIm9uQ2hpbGR2aWV3Q2xpY2tNZXNzYWdlIiwiZmVlZGJhY2siLCJ1cGRhdGUiLCJsb2ciLCJyZXR1cm5NZXNzYWdlIiwic2hhcmVkQ29sbGVjdGlvbiIsImFsZXJ0TWVzc2FnZSIsInNlcnZlck1lc3NhZ2UiLCJyZXR1cm5WYWx1ZVNldCIsInNob3dBbGVydHMiLCJtZXNzYWdlcyIsImFjaXRpdmVBbGVydHMiLCJndWlkcyIsImhpZGVBbGVydHMiLCJ0cmFuc2ZlckRhdGEiLCJraW5kIiwid25kIiwicGluZyIsIm1zZyIsIlNoYXJlZERhdGEiLCJvbkNoYW5nZWQiLCJzYyIsImxpc3RJdGVtIiwiR3JvdXBDb2xsZWN0aW9uIiwiSXRlbSIsInBhcmFtU2V0IiwiSW50ZXJuZXQiLCJTdGFydCIsInRvIiwiV29ya0dyb3VwcyIsIlByb2plY3RzIiwiQ29ubmVjdHMiLCJJbnRyYW5ldCIsInRlbXBDb25uZWN0IiwiY2hhbmdlIHNlbGVjdCIsImNsaWNrIEB1aS5idG46bm90KFtkYXRhLWljb249aWNvbi1sb2FkZXJdKSIsIk5ldFZlcnNpb24iLCJjdiIsImdldERhdGEiLCJuZXh0QWxsIiwiaXRlbWlkIiwid2d0aXRsZSIsIndnaWQiLCJwcmd0aXRsZSIsInByZ2lkIiwiZGJ0aXRsZSIsImRiaWQiLCJjb25uZWN0IiwiYXQiLCJpdGVtc1ZpZXciLCJtb3VzZW92ZXIiLCIkYyIsImNsaWNrOml0ZW0iLCJjbGljayBzcGFuOm5vdCguc2VhcmNoKSIsImtleXVwIGlucHV0W25hbWU9J3J1YnJpYy1uYW1lJ10iLCJrZXlDb2RlIiwiY2xpY2sgaS5zZWFyY2giLCJyZXJlIiwic2VsZWN0bW9kZWwiLCJzcGwiLCJ1bnZpc2libGUiLCJGaWxlTW9kZWwiLCJGaWxlVUlEIiwiRmlsZVBhdGgiLCJGaWxlTmFtZSIsIkZpbGVVcmwiLCJmb3JtIiwiZmlsZSIsInBybyIsImJhciIsInBlciIsImNoYW5nZSBAdWkuZmlsZSIsInByZXYiLCJzZWdtIiwic3VibWl0IiwiZm9ybUFjdGlvbiIsImluZGljYXRvciIsImFqYXhGb3JtIiwidXBsb2FkUHJvZ3Jlc3MiLCJwb3NpdGlvbiIsInRvdGFsIiwicGVyY2VudENvbXBsZXRlIiwib25GaW5hbCIsInJlc3BvbnNlSlNPTiIsIk1lc3NhZ2UiLCJzdWJzdHIiLCJmdWlkIiwiT3JpZ2luYWxGaWxlTmFtZSIsInNlbEZpbGUiLCJ1cGxvYWRWaWV3IiwiZmlsZU1vZGVsIiwibGlzdEZpbGVzIiwiY2xpY2sgaVtkYXRhLWljb249XCJpY29uLXRyYXNoXCJdIiwiY29uZmlybURlbGV0ZUltZyIsImNsaWNrIGltZyIsInNlbGVjdCIsImNoYW5nZTpzZWxlY3QiLCJjaGFuZ2U6aXRlbSIsImNvbXBhcmF0b3IiLCJzZWxlY3RlZEltZ1BhdGgiLCJjb250ZXh0TWVudSIsImhlYWRWaWV3IiwiZ2V0VGVtcGxhdGUiLCJjbGljayBpbnB1dFt0eXBlPWNoZWNrYm94XSB+IGxhYmVsOm5vdCguZGlzYWJsZWQpIiwiZm9vdFZpZXciLCJ0aXRsZVBhZ2VzIiwiUGFnZXMyIiwibWVudSIsImJveCIsIm1vdXNlZW50ZXIgQHVpLm1lbnUiLCJjbGVhclF1ZXVlIiwibW91c2VsZWF2ZSBAdWkubWVudSIsImNsaWNrIEB1aS5ib3ggYSIsIm1lbnU6Y2xpY2s6aXRlbSIsImNoYW5nZTpjdXJyZW50UGFnZSIsImNoYW5nZTp0b3RhbFBhZ2VzIiwiY2lkIiwiUGFnaW5hdG9yIiwicm93c1ZpZXciLCJyb3dPcHRpb25zIiwiY2xpY2sgYnV0dG9uLm1lbnUiLCJjaGFuZ2UgaW5wdXQiLCJjbGljayAqW2RhdGEtY21kXSIsImVtcHR5Vmlld09wdGlvbnMiLCJjb2xzcGFuIiwiY2hhbmdlOmlucHV0OnJvdyIsImNsaWNrOnJvdzpjbWQ6aXRlbSIsIm1vZGVsOmNoYW5nZWQiLCJtZW51OnNob3ciLCJoaWRlOm1lbnUiLCJjaGVjazpyb3dzOmZvcjpoZWFkIiwiYm9keSIsImZvb3QiLCJjdXJyZW50UGFnZSIsIm1lbnVDb2xsZWN0aW9uIiwicGFnZVNpemUiLCJ0b3RhbFBhZ2VzIiwicGciLCJNYXRoIiwiY2VpbCIsIm9uQ2hpbGR2aWV3UGFnZVNlbGVjdCIsImNsaWNrOmhlYWQ6aW5wdXQiLCIkaSIsIndoZXJlIiwicGFyZW50IiwiJG0iLCJwb3MiLCJkdyIsInNsaWRlRG93biIsIkl0ZW1Nb2RlbCIsIkl0ZW1zQ29sbGVjdGlvbiIsInBhZ2luZ1ZpZXciLCJjb2xWaWV3IiwiZm9vdGVyVmlldyIsIm1vdXNlZW50ZXIgLmNvbnRleHQtbWVudSIsIm1vdXNlbGVhdmUgLmNvbnRleHQtbWVudSIsImFkZENoaWxkVmlldyIsImRpc3BsYXlOYW1lIiwicm93VmlldyIsImJvZHlUZW1wbGF0ZSIsImNvbnRleHRtZW51IHRkIiwiY2xpY2sgYnV0dG9uLmJ0bi1saW5rIiwiY2xpY2sgdGQiLCJjaGFuZ2U6U3RhdGUiLCJib2R5VmlldyIsIm5vZGF0YSIsImluZGV4IiwiaXNFbXB0eSIsInN0YXR1c3NldCIsInN0YXRlc2V0Iiwid29ya2luZyIsImZmIiwidG0iLCJhciIsInBhZ2luYXRpb24iLCJOdW0iLCJTdGF0dXNJY29uIiwic2VsZWN0YWJsZSIsImNhbmNlbCIsInN0b3AiLCJyb3c6Y29sOnRyaWdnZXIiLCJjbGljazpsaW5rIiwiaXNWaXNpYmxlIiwic3lzdGVtTmFtZSIsIm51bUNvbHMiLCJjaGFuZ2U6Y29sbGVjdGlvbiIsIm9mZnNldFkiLCJzY3JvbGxUb3AiLCJvZmZzZXRYIiwic3RvcDpzZWxlY3RhYmxlIiwibXMiLCJwYWdpbmciLCJvbkNoaWxkdmlld0xpc3RJbml0IiwidG90YWxJdGVtcyIsImFjdGlvbjpmcm9tOm1lbnUiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImRyb3BEb3duSXRlbVZpZXciLCJjbGljayAubWFuYWdlIHNwYW4iLCJkcm9wRG93bkl0ZW1zVmlldyIsIm1vdXNlZW50ZXIiLCJzbGlkZVVwIiwiY2xpY2s6Y21kIiwicGxhY2Vob2xkZXIiLCJjbGljayAuZy1kcm9wZG93bi0tcGxhY2Vob2xkZXIiLCJjb250YWluZXI6bW91c2VsZWF2ZSIsImV4cGFuZCIsInNsaWRlVG9nZ2xlIiwibW92ZSIsInNpZGViYXIiLCJzaG93Q29udGV4dCIsImNsaWNrIGlucHV0W3R5cGU9Y2hlY2tib3hdIiwiY2xpY2sgYnV0dG9uOm5vdCguZGlzYWJsZWQpIiwiY2hhbmdlOnNlbGVjdGVkIiwidmlld2lkIiwib25Gb290ZXJCdXR0b25DbGljayIsImZvb3RlcjpidXR0b246Y2xpY2siLCJ0b29sc1ZpZXciLCJjbGljayA6bm90KC5kaXNhYmxlZCkiLCJpbnB1dCBpbnB1dCIsIm9uVG9vbGJhckl0ZW1DbGljayIsIm9uVG9vbGJhcklucHV0S2V5dXAiLCJ0b29sYmFyOml0ZW06Y2xpY2siLCJ0b29sYmFyOmlucHV0OmtleXVwIiwiYnV0dG9uc1ZpZXciLCJjbGljazpidXR0b24iLCJub3RpZnlWaWV3IiwiYnV0dG9ucyIsIm9uQ2hpbGR2aWV3Q2xpY2tCdXR0b24iLCJkZWwiLCJtYW5hZ2VWaWV3IiwibWFuYWdlOml0ZW06Y2xpY2siLCJibG9ja2VyIiwiY2hhbmdlOmNvbnRlbnQiLCJjaGFuZ2U6dGl0bGUiLCJjaGFuZ2U6aWNvbiIsImNoYW5nZTpzaG93Q29udGV4dCIsImNoYW5nZTpzaXplIiwidHJhbnNmb3JtIiwiZHJhZ2dhYmxlIiwicmVzaXphYmxlIiwicHJldmlvdXNBdHRyaWJ1dGVzIiwiX2luaXREcmFnQW5kUmVzaXplIiwid2luIiwic2hvdzptZXNzYWdlIiwic2hvdzptZXNzYWdlOmNvbmZpcm0iLCJub3RpY2U6c2hvdzptZXNzYWdlIiwibm90aWNlOmNsaWNrOmJ1dHRvbiIsImNvbnRlbnQ6cmVmbGVjdCIsInRvb2xiYXI6dXBkYXRlIiwiY29udGFpbmVyOnNlbGVjdDppdGVtIiwiYWZ0ZXI6bG9hZCIsImhhbmRsZSIsImhlbHBlciIsImNvbnRhaW5tZW50IiwiaW5wdXRCZWhhdmlvciIsImJlaGF2aW9ycyIsImNsaWNrIC5jbGVhciIsImNsaWNrIC5hZGQiLCJsaXN0SXRlbVRlbXBsYXRlIiwibGlzdFZpZXciLCJjbGljayAudmlldyIsImNsaWNrIC5lZGl0IiwiY2xpY2sgLmNhbmNlbCIsIm9uTGlzdEl0ZW1TYXZlIiwidGl0bGVBdHRyaWJ1dGUiLCJsaXN0Oml0ZW06dmlldyIsImxpc3Q6aXRlbTpjbGVhciIsImxpc3Q6aXRlbTpzYXZlIiwiY2xpY2sgLmFkZC1idG4iLCJib3JkZXItY29sb3IiLCJOYW1lIiwiY2hhbmdlOmFjdGl2ZSIsIm9uQ2hpbGR2aWV3Q2xpY2tJdGVtIiwiYWN0aXZlIiwic2hvd0NvbnRlbnQiLCJmaW5pc2hMb2FkQ29udGVudCIsIklucHV0QmVoYXZpb3IiLCJEcm9wRG93bkxpc3QiLCJwYXJhbU1vZGVsIiwiRGlzcGxheVZhbHVlIiwiUGFyYW1ldHJUeXBlIiwiQ2FwdGlvbiIsIkRlc2NyaXB0aW9uIiwiVmFsdWUiLCJNZXRhRW50aXR5IiwiSXNNdWx0aVZhbHVlcyIsIlN0aWNrVXJsIiwiTm9DYXNoIiwicGFyYW1UeXBlIiwiaW52YWxpZCIsInZhbGlkIiwiY2hhbmdlOkRpc3BsYXlWYWx1ZSIsImNoYW5nZTpWYWx1ZSIsImNsaWNrIGxhYmVsLmJvb2wtdHlwZS1sYWJlbCIsImtleXVwIGlucHV0W3R5cGU9dGV4dF0sIHRleHRhcmVhLCBpbnB1dFtjbGFzcyE9ZWpkYXRlcGlja2VyXSIsImNsaWNrIC5tb3JlIiwiX3NldEtleUhlYWRlciIsIndpblR5cGUiLCJSZXF1ZXN0U2VsZWN0ZWQiLCJSZXF1ZXN0IiwiUnVicmljIiwic2VsZWN0UnVicmljIiwiUnVicmljVG9vbHMiLCJjYXB0aW9uIiwiVHlwZSIsInNlbGVjdFRyZWUiLCJ0cmVlIiwic2VsT2JqIiwiYXBwbHkiLCJhdHRyaWJ1dGVzIiwib25DaGlsZHZpZXdEcm9wZG93blNlbGVjdCIsImRiYXNlIiwiUklEIiwiX2RpY3Rpb25hcnkiLCJfZGF0ZXRpbWUiLCJzaG93UG9wdXBCdXR0b24iLCJ3YXRlcm1hcmtUZXh0IiwiZm9jdXNPdXQiLCJhcmdzIiwiZGF0ZUxvY2FsIiwiZGF0ZSIsInRhYmxlU2VhcmNoIiwibGlzdFNlbGVjdGVkVmlldyIsImNsaWNrIHNwYW5bZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiXSIsInJlbW92ZTpzZWxlY3RlZCIsInR0IiwidHJlZU9wdGlvbnMiLCJ0eXBlaWQiLCJzZWFyY2hWYWwiLCJ0YyIsImxldmVsT3BlbiIsIm9uQ2hpbGR2aWV3Q29udGFpbmVyU2VsZWN0SXRlbSIsImZpbHRlckJ5VHlwZSIsInRvZ2dsZSIsInNlYXJjaE9iaiIsInBhZ2U6c2VsZWN0IiwiVHJlZU5vZGUiLCJwYXJlbnRpZCIsInBhcmVudHMiLCJjZGF0ZSIsInNwYW4iLCJleHBhbmRlciIsImNoYm94IiwiY2xpY2sgQHVpLnNwYW4iLCJjbGljayBAdWkuY2hib3giLCJjbGljayBAdWkuY2FuY2VsIiwiY2xpY2sgQHVpLnNhdmUiLCJjbGljayAuZXhwYW5kZXIiLCJjaGFuZ2U6bm9kZXMiLCJub2RlcyIsImNoYW5nZTppc0VkaXQiLCJ1bmlxIiwiaWNvbnVybCIsImNsaWNrOnNlbGVjdDppbnB1dCIsImJyYW5jaCIsInBpZCIsIndpbGwiLCJHYWxsZXJ5IiwiZWpSVEUiLCJtYXhMZW5ndGgiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJtaW5IZWlnaHQiLCJzaG93Rm9vdGVyIiwic2hvd0h0bWxTb3VyY2UiLCJhdXRvRm9jdXMiLCJ0b29sc0xpc3QiLCJmb250Iiwic3R5bGUiLCJhbGlnbm1lbnQiLCJsaXN0cyIsImNsaXBib2FyZCIsImRvQWN0aW9uIiwibWVkaWEiLCJ0YWJsZXMiLCJjYXNpbmciLCJjdXN0b21Ub29scyIsInRvb2x0aXAiLCJnYWxsZXJ5IiwiZG0iLCJpbWciLCJleGVjdXRlQ29tbWFuZCIsImZpeCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQUEsUUFBQSxrQ0FBQSxXQUVBLEdBQUFDLEdBQUFDLFNBQUFDLFdBQUFDLFFBQ0FDLE1BQUFILFNBQUFJLE1BQUFGLFFBQ0FHLFlBQUEsS0FDQUMsVUFDQUMsUUFBQSxHQUNBQyxRQUFBLEVBQ0FDLEdBQUEsS0FDQUMsV0FBQSxLQUNBQyxNQUFBLE1BR0FDLElBQUEsdUJBR0FDLEVBQUEsR0FBQWQsR0FFQWUsR0FFQUMsS0FBQSxTQUFBQyxFQUFBQyxHQUVBQyxLQUFBQyxTQUFBSCxFQUVBQyxJQUFBQyxLQUFBRCxRQUFBQSxHQUVBSixFQUFBTyxPQUFBQyxPQUNBSCxLQUFBQyxTQUFBRyxLQUFBUixFQUFBRyxRQUFBSixHQUdBQSxFQUFBVSxPQUNBQyxPQUFBLEVBQ0FDLFFBQUEsU0FBQVosR0FDQUMsRUFBQUssU0FBQUcsS0FBQVIsRUFBQUcsUUFBQUosT0FPQSxPQUFBQyxLQ3hDQWhCLE9BQUEsV0FBQSwwQkFBQSxTQUFBNEIsR0F1R0EsTUFEQSxLQXBHQTFCLFNBQUFJLE1BQUFGLFFBQ0FJLFVBQ0FxQixT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aUJBQ0E0Z0IsS0FBQSxjQUNBMVosTUFBQWhJLEVBQUE2Z0MsUUFDQTFnQixXQUNBQyxVQUNBVCxRQUFBLEdBQUE2ZixHQUdBbGhDLFVBQUF5aEIsTUFBQUMsUUFBQSxVQUFBaFosUUFBQSxjQUFBODVCLEdBRUF0aEMsS0FBQXlILFNBQUE2NUIsRUFBQW5oQixRQUFBLGNBQUEsU0FBQWxoQixHQUVBLEdBQUFzaUMsR0FBQSxhQUFBdGlDLEVBQUF3QyxJQUFBLFdBQUEsVUFBQXhDLEVBQUF3QyxJQUFBLG9CQUFBLE1BQ0F6QixNQUFBaWdDLE1BQUF1QixlQUFBLGFBQUFELElBQ0E1K0IsS0FBQTNDLFFBQ0EyQyxLQUFBM0MsV0FzQkFxQixLQUFBLFVBR0FvZ0MsSUFBQSxXQUlBLE1BREEzK0IsR0FBQWdRLFFBQUF2SyxRQUFBLFVBQ0F2SSIsImZpbGUiOiJnbG9iYWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmRlZmluZSgnZ2xvYmFsOmNvbGxlY3Rpb246ZGljdGlvbmFyeScsIFtdLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZGljdGlvbmFyaWVzID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgICAgICBtb2RlbDogQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgICAgIGlkQXR0cmlidXRlOiBcIklEXCIsXG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIERpY0NvZGU6IFwiXCIsXG4gICAgICAgICAgICAgICAgRGljVHlwZTogMCxcbiAgICAgICAgICAgICAgICBJRDogbnVsbCxcbiAgICAgICAgICAgICAgICBJbXBvcnRhbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgIFRpdGxlOiBcIlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICB1cmw6IFwiL2FwaS9zb3VyY2VzL3R5cGVzXCJcbiAgICB9KTtcblxuICAgIHZhciBjID0gbmV3IGRpY3Rpb25hcmllcygpO1xuXG4gICAgdmFyIGluaXQgPSB7XG5cbiAgICAgICAgZG9uZTogZnVuY3Rpb24gZG9uZShmLCBjb250ZXh0KSB7XG5cbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dCkgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICAgICAgaWYgKGMubW9kZWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suY2FsbChpbml0LmNvbnRleHQsIGMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGMuZmV0Y2goe1xuICAgICAgICAgICAgICAgICAgICByZXNldDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0LmNhbGxiYWNrLmNhbGwoaW5pdC5jb250ZXh0LCBjKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBpbml0O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ3N0b3JhZ2UnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKFJlc291cmNlcykge1xuXG4gICAgdmFyIHMgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgVHJlZXM6IHt9LFxuICAgICAgICAgICAgUGxheWVyczogW10sXG4gICAgICAgICAgICBDb25uZWN0VXJsOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgQmFja2JvbmUub24oXCJzdG9yYWdlOmFkZFRyZWVcIiwgdGhpcy5hZGRUcmVlLCB0aGlzKTtcblxuICAgICAgICAgICAgQmFja2JvbmUub24oXCJzdG9yYWdlOmFkZFBsYXllclwiLCB0aGlzLmFkZFBsYXllciwgdGhpcyk7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcInN0b3JhZ2U6Y2xlYXJQbGF5ZXJzXCIsIHRoaXMuY2xlYXJQbGF5ZXJzLCB0aGlzKTtcblxuICAgICAgICAgICAgQmFja2JvbmUub24oXCJzdG9yYWdlOmNoZWNrLWFkZFwiLCB0aGlzLmFkZENoZWNraW5nLCB0aGlzKTtcbiAgICAgICAgICAgIEJhY2tib25lLm9uKFwic3RvcmFnZTpjaGVjay1jbGVhclwiLCB0aGlzLmNsZWFyQ2hlY2tpbmcsIHRoaXMpO1xuXG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcInN0b3JhZ2U6dGVtcC1vYmplY3RcIiwgdGhpcy5zZXRDdXJyZW50LCB0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRDdXJyZW50OiBmdW5jdGlvbiBzZXRDdXJyZW50KGRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudCA9IGRhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gY2hlY2tcbiAgICAgICAgY2xlYXJDaGVja2luZzogZnVuY3Rpb24gY2xlYXJDaGVja2luZyhpZCkge1xuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLmNoZWNrQ29sbGVjdGlvbi5nZXQoaWQpO1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvbGxlY3Rpb24ucmVtb3ZlKG0pO1xuICAgICAgICB9LFxuICAgICAgICBhZGRDaGVja2luZzogZnVuY3Rpb24gYWRkQ2hlY2tpbmcobykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrQ29sbGVjdGlvbikgdGhpcy5jaGVja0NvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvbGxlY3Rpb24uYWRkKG8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFRyZWU6IGZ1bmN0aW9uIGdldFRyZWUoaWQsIG5vQ2FzaCwgc3VybCwgbykge1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRzID0gdGhpcy5nZXQoXCJUcmVlc1wiKTtcblxuICAgICAgICAgICAgICAgIGlmICghdHNbaWRdIHx8IG5vQ2FzaCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXMuZ2V0TW9kZWxGb3JUcmVlKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShbJ2cvdHJlZS9UcmVlVmlldyddLCBmdW5jdGlvbiAoVHJlZVZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gbyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYXBpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnL2FwaS8nICsgaWQgKyAoc3VybCA/IHN1cmwgOiBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1hcmtDdXJyZW50ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHNbaWRdID0gbmV3IFRyZWVWaWV3KG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJUcmVlc1wiLCB0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRzW2lkXSk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB0c1tpZF0ub3BlcmF0aW9uID0gdGhpcy5nZXRNb2RlbEZvclRyZWUoaWQpLmdldChcInByZXNlbnRcIikub3BlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRzW2lkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TW9kZWxGb3JUcmVlOiBmdW5jdGlvbiBnZXRNb2RlbEZvclRyZWUobmFtZSkge1xuICAgICAgICAgICAgaWYgKCQudHJpbShuYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5idXRzKSB0aGlzLmdldEJ1dHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJhY2tib25lLk1vZGVsKF8uZmluZFdoZXJlKHRoaXMuYnV0cywgeyBpZDogbmFtZSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldEJ1dHM6IGZ1bmN0aW9uIGdldEJ1dHMoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IFJlc291cmNlcy5RdWVyeUJ1dHRvbnNEYXRhLFxuICAgICAgICAgICAgICAgIGJzID0gW107XG4gICAgICAgICAgICBfLmVhY2goZGF0YSwgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICBicy5wdXNoKGEpO1xuICAgICAgICAgICAgICAgIHZhciBiID0gYS5hZGRCdXR0b25zO1xuICAgICAgICAgICAgICAgIGlmIChiKSBicyA9IF8udW5pb24oYnMsIGIpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJ1dHMgPSBicztcbiAgICAgICAgICAgIHJldHVybiBicztcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRQbGF5ZXI6IGZ1bmN0aW9uIGFkZFBsYXllcihwLCBpZCkge1xuICAgICAgICAgICAgdmFyIHBzID0gdGhpcy5nZXQoXCJQbGF5ZXJzXCIpO1xuICAgICAgICAgICAgLy9fLmVhY2gocHMsIGZ1bmN0aW9uIChwbGF5ZXIpIHtcbiAgICAgICAgICAgIC8vICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgLy8gICAgcGxheWVyLnNyYyA9IFwiXCI7XG4gICAgICAgICAgICAvLyAgICBwbGF5ZXIubG9hZCgpO1xuICAgICAgICAgICAgLy8gICAgcGxheWVyID0gXCJcIjtcbiAgICAgICAgICAgIC8vfSwgdGhpcyk7XG4gICAgICAgICAgICBwcy5wdXNoKHApO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhclBsYXllcnM6IGZ1bmN0aW9uIGNsZWFyUGxheWVycygpIHtcbiAgICAgICAgICAgIHZhciBwcyA9IHRoaXMuZ2V0KFwiUGxheWVyc1wiKTtcbiAgICAgICAgICAgIF8uZWFjaChwcywgZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIHBsYXllci5zcmMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHBsYXllci5sb2FkKCk7XG4gICAgICAgICAgICAgICAgcGxheWVyID0ge307XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBzdCA9IG5ldyBzKCk7XG4gICAgcmV0dXJuIHN0O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2dsb2JhbC5iZWhhdmlvcnMuaW5wdXQnLCBbXSwgZnVuY3Rpb24gKCkge1xuXG4gICAgcmV0dXJuIE1uLkJlaGF2aW9yLmV4dGVuZCh7XG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIGlucHV0OiAnaW5wdXRbdHlwZT10ZXh0XS5nLWZvcm0tLWlucHV0JyxcbiAgICAgICAgICAgIGNsZWFyOiAnaS5jbGVhcicsXG4gICAgICAgICAgICBzd2l0Y2hFZGl0OiAnI3N3aXRjaC1lZGl0JyxcbiAgICAgICAgICAgIGhlbHA6ICdpLmhlbHAnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjbGljayAuZy10aXAga2JkJzogZnVuY3Rpb24gY2xpY2tHVGlwS2JkKGUpIHtcbiAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuZy10aXAnKS5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmhlbHAnOiBmdW5jdGlvbiBjbGlja1VpSGVscChlKSB7XG4gICAgICAgICAgICAgICAgJChlLnRhcmdldCkubmV4dCgnLmctdGlwJykuc2hvdygpLmRlbGF5KDMwMDApLmZhZGVPdXQoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayBAdWkuY2xlYXInOiBmdW5jdGlvbiBjbGlja1VpQ2xlYXIoZSkge1xuICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5wcmV2QWxsKCdpbnB1dCcpLnZhbCgnJykucmVtb3ZlQ2xhc3MoJ2ZpbGxlZCcpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2ZvY3VzIEB1aS5pbnB1dDpub3QoXCIuZGlzYWJsZWRcIiknOiAnZmlsbGVkJyxcbiAgICAgICAgICAgICdibHVyIEB1aS5pbnB1dDpub3QoXCIuZGlzYWJsZWRcIiknOiAnZmlsbGVkJyxcblxuICAgICAgICAgICAgJ2NsaWNrIEB1aS5zd2l0Y2hFZGl0JzogZnVuY3Rpb24gY2xpY2tVaVN3aXRjaEVkaXQoZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRlID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSAkZS5hdHRyKCdtb2RlJykgPT09ICdvZmYnO1xuICAgICAgICAgICAgICAgICRlLmF0dHIoJ21vZGUnLCBmbGFnID8gJ29uJyA6ICdvZmYnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGZvcm0udG9nZ2xlQ2xhc3MoJ3JlYWRvbmx5Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGZsYWcpIHRoaXMuJGZvcm0uZmluZCgnLmlucXVpcnktZm9ybS0tY29udHJvbHMgLnJvdyBkaXY6bGFzdCcpLnNob3coKTtlbHNlIHRoaXMuJGZvcm0uZmluZCgnLmlucXVpcnktZm9ybS0tY29udHJvbHMgLnJvdyBkaXY6bGFzdCcpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIF8uZWFjaCh0aGlzLnVpLmlucHV0LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGUgPSAkKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRmb3JtLmhhc0NsYXNzKCdyZWFkb25seScpKSAkZS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO2Vsc2UgJGUucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmlsbGVkOiBmdW5jdGlvbiBmaWxsZWQoZSkge1xuXG4gICAgICAgICAgICB2YXIgJGUgPSAkKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKCQudHJpbSgkZS52YWwoKSkpIHtcbiAgICAgICAgICAgICAgICAkZS5hZGRDbGFzcygnZmlsbGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jbGVhci5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2UgJGUucmVtb3ZlQ2xhc3MoJ2ZpbGxlZCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy4kZm9ybSA9IG51bGw7XG5cbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLnVpLmlucHV0LCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRlID0gJChlKTtcblxuICAgICAgICAgICAgICAgIGlmICgkLnRyaW0oJGUudmFsKCkpKSAkZS5hZGRDbGFzcygnZmlsbGVkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGUuY2xvc2VzdCgnLnJlYWRvbmx5JykuZ2V0KDApICYmICF0aGlzLiRmb3JtKSB0aGlzLiRmb3JtID0gJGUuY2xvc2VzdCgnLnJlYWRvbmx5JykuZXEoMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kZm9ybSkgJGUucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICBfLmVhY2godGhpcy51aS5oZWxwLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmICghJC50cmltKCQoZSkubmV4dCgnLmctdGlwJykudGV4dCgpKSkgJChlKS5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmICghdGhpcy4kZm9ybSkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkuc3dpdGNoRWRpdC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5zd2l0Y2hFZGl0LnNpYmxpbmdzKCdsYWJlbCcpLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7fVxuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLnJhZGlvLmRpYWxvZycsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdnbG9iYWwubW9kZWwuZGlhbG9nJywgJ2dsb2JhbC52aWV3LmRpYWxvZyddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBkaWFsb2dNb2RlbCwgRGlhbG9nVmlldykge1xuXG4gICAgLyogXHJcbiAgICAgICAgbWFpblZpZXcgcmVwbHkgJ2FkZDpkaWFsb2cnXHJcbiAgICAgICAgQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnTm90aWZ5JykucmVwbHkoJ2FkZDpkaWFsb2cnLCBmdW5jdGlvbiAoZGlhbG9nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbmVlZCcsIGRpYWxvZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICovXG5cbiAgICAvL3ZhciBzaG93TW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIC8vICAgIGRlZmF1bHRzOiBmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgICAgcmV0dXJuIHtcbiAgICAvLyAgICAgICAgICAgIGljb246ICdmb2xkZXInLFxuICAgIC8vICAgICAgICAgICAgY2xhc3NOYW1lOiAnaW5mbyBkZWZhdWx0JyxcbiAgICAvLyAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAvLyAgICAgICAgICAgIGF1dG9PcGVuOiB0cnVlLFxuICAgIC8vICAgICAgICAgICAgdG9vbHM6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uLCBcbiAgICAvLyAgICAgICAgICAgIGNvbnRyb2xzOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbXG4gICAgLy8gICAgICAgICAgICAgICAgeyBpZDogJ3NhdmUnLCB0aXRsZTogUmVzb3VyY2VzLnNhdmUsIGNsYXNzTmFtZTogJ3JpZ2h0IGJsdWUnIH1cbiAgICAvLyAgICAgICAgICAgIF0pXG4gICAgLy8gICAgICAgIH07XG4gICAgLy8gICAgfVxuICAgIC8vfSk7XG5cbiAgICB2YXIgbWVzc2FnZUhhbmRsZXIgPSBNbi5PYmplY3QuZXh0ZW5kKHtcblxuICAgICAgICBjaGFubmVsTmFtZTogJ05vdGlmeScsXG5cbiAgICAgICAgcmFkaW9SZXF1ZXN0czoge1xuXG4gICAgICAgICAgICAnc2hvdzpvdmVybGF5JzogZnVuY3Rpb24gc2hvd092ZXJsYXkoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgb3ZlcmxheSA9ICQoJ2JvZHknKS5maW5kKCcuZy1kaWFsb2ctLW92ZXJsYXknKTtcblxuICAgICAgICAgICAgICAgIGlmICghb3ZlcmxheS5nZXQoMCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5ID0gJCgnPGRpdiBjbGFzcz1cImctZGlhbG9nLS1vdmVybGF5XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQob3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5zaG93KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnaGlkZTpvdmVybGF5JzogZnVuY3Rpb24gaGlkZU92ZXJsYXkoKSB7XG4gICAgICAgICAgICAgICAgJCgnYm9keScpLmZpbmQoJy5nLWRpYWxvZy0tb3ZlcmxheScpLmhpZGUoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICd1bmlxOmRpYWxvZyc6IGZ1bmN0aW9uIHVuaXFEaWFsb2cob3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJ1bmlxOmRpYWxvZywgLSBzZWUgdG8gY2FsbHN0YWNrXCI7XG5cbiAgICAgICAgICAgICAgICAvL3ZhciBkaWFsb2cgPSBuZXcgRGlhbG9nVmlldyggeyBtb2RlbDogdGhpcy5pbml0RGlhbG9nKCBvcHRpb25zICkgfSApO1xuXG4gICAgICAgICAgICAgICAgLy9pZiAoICEkKCAnIycgKyBvcHRpb25zLmlkICkuZ2V0KCAwICkgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyAgICAkKCdib2R5JykucHJlcGVuZChkaWFsb2cucmVuZGVyKCkuJGVsKTtcbiAgICAgICAgICAgICAgICAvLyAgICBkaWFsb2cuJGVsLmF0dHIoICdpZCcsIG9wdGlvbnMuaWQgKTtcblxuICAgICAgICAgICAgICAgIC8vfSBlbHNlXG4gICAgICAgICAgICAgICAgLy8gICAgZGlhbG9nLnJlbmRlcigpLnNldEVsZW1lbnQoJCgnIycgKyBvcHRpb25zLmlkKSkuJGVsLnNob3coKTtcblxuICAgICAgICAgICAgICAgIC8vcmV0dXJuIGRpYWxvZztcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdvbmNlOmRpYWxvZyc6IGZ1bmN0aW9uIG9uY2VEaWFsb2cob3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5pbml0RGlhbG9nKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBuZXcgRGlhbG9nVmlldyh7IG1vZGVsOiBtb2RlbCB9KTtcblxuICAgICAgICAgICAgICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQsiDQutC+0YDQvdC10LLRg9GOIHZpZXcg0L/RgNC40LvQvtC20LXQvdC40Y9cbiAgICAgICAgICAgICAgICB0aGlzLmdldENoYW5uZWwoKS5yZXF1ZXN0KCdhZGQ6ZGlhbG9nJywgdGhpcy5kaWFsb2cpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmRpYWxvZywgJ3Rvb2xiYXI6aXRlbTpjbGljaycsIHRoaXMuY2FsbFRvb2xzRGlhbG9nKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5kaWFsb2csICd0b29sYmFyOmlucHV0OmtleXVwJywgdGhpcy5jYWxsRmlsdGVyRGlhbG9nKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5kaWFsb2csICdjb250YWluZXI6c2VsZWN0Oml0ZW0nLCB0aGlzLnRyZWVTZWxlY3RJdGVtKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRpYWxvZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXREaWFsb2c6IGZ1bmN0aW9uIGluaXREaWFsb2cob3B0aW9ucykge1xuXG4gICAgICAgICAgICB2YXIgbSA9IG5ldyBkaWFsb2dNb2RlbCgpO1xuXG4gICAgICAgICAgICBfLmVhY2gob3B0aW9ucywgZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbHMnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sYmFyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uZ2V0KCd0b29sYmFyJykuc2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRyb2xzJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9vdGVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uZ2V0KCdmb290ZXInKS5zZXQodik7IC8vIGNvbGxlY3RvblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBtLnNldChrLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfSxcblxuICAgICAgICB0cmVlU2VsZWN0SXRlbTogZnVuY3Rpb24gdHJlZVNlbGVjdEl0ZW0odikge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlhbG9nLmdldENoaWxkVmlldygndG9vbGJhcicpKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5lZGl0YWJsZVZpZXcgPSB2O1xuXG4gICAgICAgICAgICB2YXIgdG9vbHMgPSB0aGlzLmRpYWxvZy5nZXRDaGlsZFZpZXcoJ3Rvb2xiYXInKTtcblxuICAgICAgICAgICAgaWYgKHRvb2xzLmNvbGxlY3Rpb24ubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWRkID0gdG9vbHMuY29sbGVjdGlvbi5nZXQoJ2FkZCcpLFxuICAgICAgICAgICAgICAgICAgICByZW5hbWUgPSB0b29scy5jb2xsZWN0aW9uLmdldCgncmVuYW1lJyksXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSA9IHRvb2xzLmNvbGxlY3Rpb24uZ2V0KCdjbGVhcicpO1xuXG4gICAgICAgICAgICAgICAgdG9vbHMuY2hpbGRyZW4uZmluZEJ5TW9kZWwoYWRkKS4kKCdzcGFuJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodi5tb2RlbC5pZCAhPT0gJy0xJykge1xuICAgICAgICAgICAgICAgICAgICB0b29scy5jaGlsZHJlbi5maW5kQnlNb2RlbChyZW5hbWUpLiQoJ3NwYW4nKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHMuY2hpbGRyZW4uZmluZEJ5TW9kZWwocmVtb3ZlKS4kKCdzcGFuJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHMuY2hpbGRyZW4uZmluZEJ5TW9kZWwocmVuYW1lKS4kKCdzcGFuJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xzLmNoaWxkcmVuLmZpbmRCeU1vZGVsKHJlbW92ZSkuJCgnc3BhbicpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjYWxsVG9vbHNEaWFsb2c6IGZ1bmN0aW9uIGNhbGxUb29sc0RpYWxvZyh2KSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5lZGl0YWJsZVZpZXcpIHJldHVybjtcblxuICAgICAgICAgICAgc3dpdGNoICh2Lm1vZGVsLmlkKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRhYmxlVmlldy5zaG93QWRkVGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdyZW5hbWUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRhYmxlVmlldy5tb2RlbC5zZXQoJ2lzRWRpdCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2NsZWFyJzpcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0YWJsZVZpZXcubW9kZWwgPT09ICctMScpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKFwibWVzc2FnZTpjb25maXJtXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSZXNvdXJjZXMuYXNreW91c3VyZSwgbWVzc2FnZTogJC5Gb3JtYXQoUmVzb3VyY2VzLmRlbHRleHQsIFwiXCIsIHRoaXMuZWRpdGFibGVWaWV3Lm1vZGVsLmdldChcInRpdGxlXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ4OiBmdW5jdGlvbiBmeCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRhYmxlVmlldy5tb2RlbC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4OiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNhbGxGaWx0ZXJEaWFsb2c6IGZ1bmN0aW9uIGNhbGxGaWx0ZXJEaWFsb2codikge1xuXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB2LiQoJ2lucHV0JykudmFsKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICB0cmVlVmlldyA9IHRoaXMuZGlhbG9nLm1vZGVsLmdldCgnY29udGVudCcpLmNoaWxkcmVuID8gdGhpcy5kaWFsb2cubW9kZWwuZ2V0KCdjb250ZW50JykgOiB0aGlzLmRpYWxvZy5tb2RlbC5nZXQoJ2NvbnRlbnQnKS5nZXRDaGlsZFZpZXcoJ3RyZWUnKTtcblxuICAgICAgICAgICAgdmFyIHJlY3VyY2l2ZSA9IGZ1bmN0aW9uIHJlY3VyY2l2ZSh2KSB7XG4gICAgICAgICAgICAgICAgdi5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uIChhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBhLm1vZGVsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChtLmlkKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLmdldCgndGl0bGUnKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaW5wdXQpID09PSAtMSAmJiAhbS5oYXMoJ25vZGVzJykpIGEuJGVsLmhpZGUoKTtlbHNlIGEuJGVsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChtLmhhcygnbm9kZXMnKSkgcmVjdXJjaXZlKGEuZ2V0Q2hpbGRWaWV3KCd0cmVlJykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVjdXJjaXZlKHRyZWVWaWV3KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IG1lc3NhZ2VIYW5kbGVyKCk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLnJhZGlvLnNpZGVCYXInLCBbXSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBzaWRlQmFyTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVmlldzogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJydcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG1lbnVWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgICAgIHRhZ05hbWU6ICd1bCcsXG5cbiAgICAgICAgICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnTmFtZTogJ2xpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8c3BhbiBjbGFzcz1cIjwlLSBpY29uICU+XCIgdGl0bGU9XCI8JS0gdGl0bGUgJT5cIj48JS0gdGl0bGUgJT48L3NwYW4+JyksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6ICdtZW51Oml0ZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21lbnU6aXRlbSc6ICdtZW51Oml0ZW0nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgc2lkZWJhclZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgICAgICBlbDogJy5zaWRlYmFyJyxcblxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIHVpOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJy5jdXJyZW50LXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcudGl0bGUnXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q6IHsgZWw6ICcubGlzdCcsIHJlcGxhY2VFbGVtZW50OiB0cnVlIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayAuY29udHJvbCc6IGZ1bmN0aW9uIGNsaWNrQ29udHJvbCgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC50b2dnbGVDbGFzcygnZXhwYW5kZWQnLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0hpZGUgPSAhJChlKS5oYXNDbGFzcygnZXhwYW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IG5ldyBzaWRlQmFyTW9kZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIG1vZGVsRXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLm1vZGVsLmhhcygndmlldycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGlmICh2aWV3Lm1vZGVsLmlkICE9PSB0aGlzLnZpZXcubW9kZWwuaWQgJiYgIXRoaXMuaXNIaWRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuJGVsLmFkZENsYXNzKCdleHBhbmRlZCcpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5uYW1lLnRleHQodGhpcy5tb2RlbC5nZXQoJ3RpdGxlJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWkudGl0bGUudGV4dCh0aGlzLm1vZGVsLmdldCgnbmFtZVZpZXcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgY2hpbGRWaWV3RXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdtZW51Oml0ZW0nOiBmdW5jdGlvbiBtZW51SXRlbSh2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCd2aWV3JykpIHRoaXMubW9kZWwuZ2V0KCd2aWV3Jykuc2lkZUJhclRyaWdnZXIodi5tb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge31cblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbGlzdCcsIG5ldyBtZW51Vmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiB9KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9yZXNldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG5cbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLnVpLnRpdGxlLnRleHQoJycpO1xuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMudWkubmFtZS50ZXh0KCcnKTtcblxuICAgICAgICAgICAgICAgIC8vICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgaWYgKHRoaXMudmlld1snaGlkZSddKVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhpcy52aWV3LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgdGhpcy52aWV3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIC8vICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICAgIGlmICh0aGlzLmdldFJlZ2lvbignbGlzdCcpLmhhc1ZpZXcoKSlcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ2xpc3QnKS5jb2xsZWN0aW9uLnJlc2V0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNpZGVCYXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNoYW5uZWwgPSBNbi5PYmplY3QuZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogJ3NpZGViYXInLFxuXG4gICAgICAgICAgICAgICAgcmFkaW9SZXF1ZXN0czoge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKG8sIGl0ZW1zIC8qdGl0bGUsIGNvbGxlY3Rpb24sIHZpZXcsIG5hbWUqLykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVCYXIubW9kZWwuc2V0KG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlQmFyLmNvbGxlY3Rpb24ucmVzZXQoaXRlbXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWRlQmFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByYWRpb0V2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2lkZUJhcikgc2lkZUJhciA9IG5ldyBzaWRlYmFyVmlldygpLnJlbmRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2lkZUJhci4kZWwucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVCYXIuJGVsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlQmFyLm1vZGVsLnNldChzaWRlQmFyLm1vZGVsLmRlZmF1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZUJhci5jb2xsZWN0aW9uLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2lkZUJhcikgc2lkZUJhciA9IG5ldyBzaWRlYmFyVmlldygpLnJlbmRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVCYXIuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlQmFyLiRlbC5yZW1vdmVDbGFzcygnZXhwYW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IGNoYW5uZWwoKTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnbG9iYWwucmFkaW8ubG9hZGVyJywgW10sIGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIHNpemUgWycnLCAnbCcsICd4bCddXG4gICAgLy8gc3BlZWQgW3Nsb3csIG1lZGl1bSwgZmFzdF1cbiAgICAvLyBvdmVybGF5OiBmYWxzZSBcblxuICAgIHZhciBsb2FkZXIgPSAkKCc8aSBjbGFzcz1cImxvYWRpbmdcIiBzaXplPVwieGxcIiBzcGVlZD1cIm1lZGl1bVwiPjwvaT4nKSxcbiAgICAgICAgb3ZlcmxheSA9ICQoJzxkaXYgY2xhc3M9XCJnLWRpYWxvZy0tb3ZlcmxheVwiIHN0eWxlPVwiZGlzcGxheTpibG9ja1wiPjwvZGl2PicpO1xuXG4gICAgdmFyIGNoYW5uZWwgPSBNbi5PYmplY3QuZXh0ZW5kKHtcblxuICAgICAgICBjaGFubmVsTmFtZTogJ2xvYWRlcicsXG5cbiAgICAgICAgcmFkaW9FdmVudHM6IHtcblxuICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdygkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwgPSAkZWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJGVsLmZpbmQoJy5sb2FkaW5nJykuZ2V0KDApKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmhhcyhvcHRpb25zLCAnc2l6ZScpKSBsb2FkZXIuYXR0cignc2l6ZScsIG9wdGlvbnMuc2l6ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmhhcyhvcHRpb25zLCAnc3BlZWQnKSkgbG9hZGVyLmF0dHIoJ3NwZWVkJywgb3B0aW9ucy5zcGVlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm92ZXJsYXkpICRlbC5hcHBlbmQob3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkZWwuYXBwZW5kKGxvYWRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZSA9IF90aGlzLiRlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLmZpbmQoJy5sb2FkaW5nJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuZmluZCgnLmctZGlhbG9nLS1vdmVybGF5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDEyMDAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkZSA9IHRoaXMuJGVsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRlKSB7XG4gICAgICAgICAgICAgICAgICAgICRlLmZpbmQoJy5sb2FkaW5nJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICRlLmZpbmQoJy5nLWRpYWxvZy0tb3ZlcmxheScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBjaGFubmVsKCk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYXBwJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcbiAgICB2YXIgU2VsZWN0ID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgZGVmYXVsdHM6IGZ1bmN0aW9uIGRlZmF1bHRzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwcmVzZW50OiBcIjNcIixcbiAgICAgICAgICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgICAgICAgICBsaXN0OiBudWxsLFxuICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBudWxsLFxuICAgICAgICAgICAgICAgIHRhYjogMCxcbiAgICAgICAgICAgICAgICBzdWI6IDAsIC8vINGB0YPQsdC80LXQvdGOINCyINC00LXRgtCw0LvRj9GFXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOiAtMSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBkYXRhOiBbXCJxdWVyeVwiLCBcImxpc3RcIiwgXCJwYWdlXCIsIFwiZGV0YWlsXCIsIFwidGFiXCIsIFwic3ViXCJdLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy5vbihcImNoYW5nZTpxdWVyeVwiLCB0aGlzLnF1ZXJ5LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub24oXCJjaGFuZ2U6bGlzdFwiLCB0aGlzLmxpc3QsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcImNoYW5nZTpkZXRhaWxcIiwgdGhpcy5kZXRhaWwsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcImNoYW5nZTp0YWJcIiwgdGhpcy5kZXRhaWwsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcImNoYW5nZTpzdWJcIiwgdGhpcy5kZXRhaWwsIHRoaXMpO1xuICAgICAgICAgICAgQmFja2JvbmUub24oXCJiYWxhbmNlOnN0YXJ0XCIsIGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrQmFsYW5jZSA9IHRpbWVvdXQ7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub24oXCJjaGFuZ2VcIiwgdGhpcy5jaGFuZ2UsIHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBmaWxsOiBmdW5jdGlvbiBmaWxsKHBhdGgpIHtcbiAgICAgICAgICAgIC8vINCy0YvQt9GL0LLQsNC10YLRgdGPINC+0LTQuNC9INGA0LDQtyDRgtC+0LvRjNC60L4g0LIg0LzQvtC80LXQvdGCINC30LDQs9GA0YPQt9C60Lgg0YHRgtGA0LDQvdC40YbRi1xuICAgICAgICAgICAgaWYgKCFwYXRoKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQodGhpcy5kYXRhW2ldLCBzZWdtZW50c1tpXSB8fCB0aGlzLmdldCh0aGlzLmRhdGFbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVsbHBhdGg6IGZ1bmN0aW9uIGZ1bGxwYXRoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwicHJlc2VudFwiKSArIFwifFwiICsgdGhpcy5nZXRwYXRoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldHBhdGg6IGZ1bmN0aW9uIGdldHBhdGgoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRoaXMuZ2V0KHRoaXMuZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgaWYgKCQudHJpbSh2KSkgZGF0YS5wdXNoKHYpO2Vsc2UgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5qb2luKFwiL1wiKTtcbiAgICAgICAgfSxcbiAgICAgICAgcXVlcnk6IGZ1bmN0aW9uIHF1ZXJ5KCkge1xuICAgICAgICAgICAgdGhpcy5zZXQoXCJsaXN0XCIsIG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KFwibGlzdFwiKSAmJiB0aGlzLmdldChcImxpc3RcIikuaW5kZXhPZihcIj1cIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoXCJwYXJhbXNcIiwgdGhpcy5nZXRPYmplY3RCeVBhcmFtKHRoaXMuZ2V0KFwibGlzdFwiKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcInBhcmFtc1wiLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0KHsgcGFnZTogMSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGV0YWlsOiBmdW5jdGlvbiBkZXRhaWwoKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrTW9uaXRvcmluZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMudGlja0JhbGFuY2UpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aWNrQmFsYW5jZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrQmFsYW5jZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vbml0b3Jpbmc6IHsgbzogLTEsIGY6IG51bGwgfSxcbiAgICAgICAgY2hlY2tNb25pdG9yaW5nOiBmdW5jdGlvbiBjaGVja01vbml0b3JpbmcoKSB7XG5cbiAgICAgICAgICAgIHZhciBkZXRhaWwgPSBwYXJzZUludCh0aGlzLmdldChcImRldGFpbFwiKSksXG4gICAgICAgICAgICAgICAgbSA9IHRoaXMubW9uaXRvcmluZyxcbiAgICAgICAgICAgICAgICBmbGFnID0gKHBhcnNlSW50KHRoaXMuZ2V0KFwidGFiXCIpKSA9PT0gNCB8fCBwYXJzZUludCh0aGlzLmdldChcInRhYlwiKSkgPT09IDIpICYmIHBhcnNlSW50KHRoaXMuZ2V0KFwic3ViXCIpKSA9PT0gMCxcbiAgICAgICAgICAgICAgICBnb24gPSBtLmYgIT09IGZsYWc7XG4gICAgICAgICAgICBpZiAobS5vICE9PSBkZXRhaWwpIHtcbiAgICAgICAgICAgICAgICBtLm8gPSBkZXRhaWw7XG4gICAgICAgICAgICAgICAgZ29uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnb24pIHtcbiAgICAgICAgICAgICAgICBtLmYgPSBmbGFnO1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoWydzaWduYWxSJ10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShbJy9zaWduYWxyL2h1YnMnXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShbJy9zY3JpcHRzL0lXQy1TaWduYWxSLW1hc3Rlci9zaWduYWxyLXBhdGNoLmpzJywgJy9zY3JpcHRzL0lXQy1TaWduYWxSLW1hc3Rlci9pd2Mtc2lnbmFsci5qcyddLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh1YiA9IFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7IGNsaWVudDoge30gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlsKSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh1Yi5zZXJ2ZXIuc3RhcnRNb25pdG9yaW5nVGFza3MoJC5hamF4U2V0dGluZ3MudXJsLCBkZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHViLnNlcnZlci5zdG9wTW9uaXRvcmluZ1Rhc2tzKCQuYWpheFNldHRpbmdzLnVybCwgZGV0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZSgpIHt9LFxuICAgICAgICBnZXRPYmplY3RCeVBhcmFtOiBmdW5jdGlvbiBnZXRPYmplY3RCeVBhcmFtKHN0cikge1xuICAgICAgICAgICAgaWYgKCEkLnRyaW0oc3RyKSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB2YXIgb3V0ID0ge30sXG4gICAgICAgICAgICAgICAgcyA9IHN0ci5zcGxpdChcIiZcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBzZWwgPSBlbC5zcGxpdChcIj1cIik7XG4gICAgICAgICAgICAgICAgaWYgKCFvdXQuaGFzT3duUHJvcGVydHkoc2VsWzBdKSkgb3V0W3NlbFswXV0gPSBzZWxbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgcyA9IG5ldyBTZWxlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIFNlbGVjdDogcyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gbGluaygpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBhcmd1bWVudHNbMV0gfHwgXCJkZXRhaWxzXCIsXG4gICAgICAgICAgICAgICAgX2lkID0gcGFyYW0uaWQ7XG4gICAgICAgICAgICByZXR1cm4gbG9jYXRpb24ucGF0aG5hbWUgKyAnL2ZpbGVzLycgKyBhY3Rpb24gKyAnLycgKyBfaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uIHByZXBhcmUoZGF0YSwgZmllbGQsIGRhdGV0aW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW10sXG4gICAgICAgICAgICAgICAgZmllbGROYW1lID0gZmllbGQgfHwgJ3N5c3RlbU5hbWUnLFxuICAgICAgICAgICAgICAgIGhyZWYgPSBkYXRhLmhyZWY7XG5cbiAgICAgICAgICAgIGlmICghJC5pc0FycmF5KGRhdGEpKSBkYXRhID0gW2RhdGFdO1xuXG4gICAgICAgICAgICBBcnJheS5mcm9tKGRhdGEsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBvID0ge1xuICAgICAgICAgICAgICAgICAgICBwcm9wVHlwZToge31cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShlbC5kYXRhLCBmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgICAgICBvW3BbZmllbGROYW1lXV0gPSBwLnZhbHVlOyAvLyAgdGhpcy5wYXJzZShwLnZhbHVlLCBwLnByb3BUeXBlLCBkYXRldGltZSk7XG4gICAgICAgICAgICAgICAgICAgIG8ucHJvcFR5cGVbcFtmaWVsZE5hbWVdXSA9IHAucHJvcFR5cGU7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBvLmhyZWYgPSBlbC5ocmVmO1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKG8pO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9LFxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodiwgdCwgZGF0ZXRpbWUpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSB2O1xuICAgICAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAvLyBkYXRlXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IGRhdGV0aW1lID8gbmV3IERhdGUodikudG9Mb2NhbGVTdHJpbmcoKSA6IG5ldyBEYXRlKHYpLnRvTG9jYWxlRGF0ZVN0cmluZyhSZXNvdXJjZXMuTGFuZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfSxcbiAgICAgICAgR2V0OiBmdW5jdGlvbiBHZXQocikge1xuICAgICAgICAgICAgdmFyIGl0ZW1zID0gci5pdGVtcztcbiAgICAgICAgICAgIHZhciBpbCA9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjMSA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKHsgZGF0YTogW3sgbmFtZTogXCJEaXNwbGF5X05hbWVcIiwgdmFsdWU6IFwiTm90IGZvdW5kXCIgfV0gfSk7XG4gICAgICAgICAgICBpZiAoaWwpIHtcbiAgICAgICAgICAgICAgICBjMSA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKGl0ZW1zKTtcbiAgICAgICAgICAgICAgICAvL2ZvciAodmFyIGkgPSAwOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vICAgIHZhciBlbCA9IGl0ZW1zWzBdO1xuICAgICAgICAgICAgICAgIC8vICAgIHZhciBocmVmID0gZWwuaHJlZjtcbiAgICAgICAgICAgICAgICAvLyAgICB2YXIgZGF0YSA9IGVsLmRhdGE7XG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGRsID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gICAgLy9mb3IgKHZhciBrID0gMDsgayA8IGRsOyBrKyspIHtcbiAgICAgICAgICAgICAgICAvLyAgICAvLyAgICB2YXIgcCA9IGRhdGFba107XG4gICAgICAgICAgICAgICAgLy8gICAgLy8gICAgdmFyIG5hbWUgPSBwLm5hbWU7XG4gICAgICAgICAgICAgICAgLy8gICAgLy8gICAgdmFyIHZhbHVlID0gcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAvLyAgICAvLyAgICB2YXIgcHJvbXB0ID0gcC5wcm9tcHQ7XG4gICAgICAgICAgICAgICAgLy8gICAgLy99XG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYzE7XG4gICAgICAgIH0sXG4gICAgICAgIF9wYXJhbTogZnVuY3Rpb24gX3BhcmFtKG9iaikge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBwciBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocHIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gcHIgKyBcIj1cIiArIG9ialtwcl07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiJlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2s6IGZ1bmN0aW9uIGNoZWNrKCRlbCwgcmVxdWVzdCwgY29udGV4dCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hY2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3VpZCA9ICQudHlwZSgkZWwpID09PSBcInN0cmluZ1wiID8gJGVsIDogJGVsLmF0dHIoXCJkYXRhLWlkXCIpO1xuICAgICAgICAgICAgICAgIGlmIChndWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbGFnID0gdGhpcy5hY2Nlc3MuaW5kZXhPZihndWlkKSAhPT0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0ICYmIGZsYWcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkLmNvb2tpZShcImhpYVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7IHVybDogXCIvYXBpL2NvbW1vbi8wL1wiICsgZ3VpZCB9KS5kb25lKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoZC5kYXRhWzBdLnZhbHVlKSkgcmVxdWVzdC5jYWxsKGNvbnRleHQsIGQuZGF0YVsxXS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmNvb2tpZShcImhpYVwiLCBkLmRhdGFbMV0udmFsdWUsIHsgZXhwaXJlczogMzAsIHBhdGg6IFwiL1wiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuRXJyb3IoYXJndW1lbnRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5jYWxsKGNvbnRleHQsICQuY29va2llKFwiaGlhXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbGFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdygkbGlzdCkge1xuICAgICAgICAgICAgdmFyIHMgPSB0aGlzO1xuICAgICAgICAgICAgJGxpc3QuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgIGlmIChzLmNoZWNrKCQoZSkuYXR0cihcImRhdGEtaWRcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZSkuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoZSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBuYXZpZ2F0ZTogZnVuY3Rpb24gbmF2aWdhdGUoZnJhZ21lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLnJvdXRlciB8fCBuZXcgQmFja2JvbmUuUm91dGVyKCk7XG4gICAgICAgICAgICAvL2lmIChCYWNrYm9uZS5oaXN0b3J5LmZyYWdtZW50ID09IGZyYWdtZW50KSB7XG4gICAgICAgICAgICAvLyAgICBCYWNrYm9uZS5oaXN0b3J5LmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgdmFyIF9vID0gb3B0aW9ucyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIHJvdXRlci5uYXZpZ2F0ZShmcmFnbWVudCwgeyB0cmlnZ2VyOiBfbyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gICAgICAgICAgICB2YXIgczEgPSBoYXNoLnNwbGl0KFwifFwiKTtcbiAgICAgICAgICAgIHZhciBzMiA9IHMxWzFdLnNwbGl0KFwiP1wiKTtcbiAgICAgICAgICAgIHZhciBzMyA9IHMyWzBdO1xuICAgICAgICAgICAgdmFyIHNlZ21lbnRzID0gczMuc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsbChzZWdtZW50cyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3RVcmw6IGZ1bmN0aW9uIGNvbGxlY3RVcmwob2JqLCBxc3RyKSB7XG4gICAgICAgICAgICB2YXIgciA9IHRoaXMuYWRkUGFyYW1zKG9iaiwgcXN0ciwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoclswXS5pbmRleE9mKFwiP1wiKSA9PT0gLTEgJiYgclswXS5pbmRleE9mKFwiPVwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHdvID0gclsxXTtcbiAgICAgICAgICAgICAgICByLnNwbGljZSgxLCAxKTtcbiAgICAgICAgICAgICAgICByWzBdID0gclswXSArIFwiP1wiICsgdHdvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIuam9pbihcIiZcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uIGdldENvbnRleHQoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFwia2V5XCI6ICQuYWpheFNldHRpbmdzLnVybFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8g0L3Rg9C20L3QviDQtNC70Y8g0YTQvtGA0LzQuNGA0L7QstCw0L3QuNGPINGD0YDQu9C+0LIg0YEg0L/QsNGA0LDQvNC10YLRgNCw0LzQuCDQtNC70Y8gYXBpXG4gICAgICAgIGFkZFBhcmFtczogZnVuY3Rpb24gYWRkUGFyYW1zKG9iaiwgcXN0cikge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHFzdHIgJiYgcXN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IHFzdHIuc3BsaXQoXCI/XCIpO1xuICAgICAgICAgICAgICAgIHBhdGggPSBzWzBdO1xuICAgICAgICAgICAgICAgIHFzdHIgPSBzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHEgPSBxc3RyID8gcXN0ci5zcGxpdChcIiZcIikgOiBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHByIGluIG9iaikge1xuICAgICAgICAgICAgICAgIHZhciB0eHQgPSBwciArIFwiPVwiICsgb2JqW3ByXTtcbiAgICAgICAgICAgICAgICBzID0gdGhpcy5nZXRQYXJhbShwciwgcXN0cik7XG4gICAgICAgICAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgICAgICAgICAgIHEucHVzaCh0eHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfcyA9IHByICsgXCI9XCIgKyBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kID0gcS5pbmRleE9mKF9zKTtcbiAgICAgICAgICAgICAgICAgICAgcVtpbmRdID0gdHh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAocGF0aCA/IHBhdGggKyBcIj9cIiA6IFwiXCIpICsgcS5qb2luKFwiJlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcmV0dXJuIGFycmF5IGtleSwgdmFsdWVcbiAgICAgICAgZ2V0UGFyYW1zOiBmdW5jdGlvbiBnZXRQYXJhbXMobmFtZSwgcXN0cikge1xuICAgICAgICAgICAgdmFyIHIgPSBbbmFtZSwgXCJcIl07XG4gICAgICAgICAgICBpZiAocXN0cikge1xuICAgICAgICAgICAgICAgIHZhciBzID0gcXN0ci5zcGxpdChcIiZcIik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWwgPSBlbC5zcGxpdChcIj1cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxbMF0gPT09IG5hbWUpIHJldHVybiBzZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhcmFtOiBmdW5jdGlvbiBnZXRQYXJhbShuYW1lLCBxc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQYXJhbXMobmFtZSwgcXN0cilbMV07XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2VIYXNoOiBmdW5jdGlvbiBwYXJzZUhhc2goKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgICAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgICAgICAgIHZhciBsaCA9IGxvY2F0aW9uLmhhc2g7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBsaC5zcGxpdChcIj9cIik7XG4gICAgICAgICAgICAgICAgaWYgKHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBzWzFdLnNwbGl0KFwiJlwiKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBwW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbCA9IGVsLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtzZWxbMF1dID0gc2VsWzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH07XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZShbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKFJlc291cmNlcykge1xuXG4gICAgJC5hamF4U2V0dXAoe1xuXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdrZXknOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaClcbiAgICAgICAgfSxcblxuICAgICAgICB0aW1lb3V0OiAxMjAwMDAsXG5cbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHgsIHQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWVvdXQnOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhYm9ydCc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uIGJlZm9yZVNlbmQoeGhyLCBhamF4KSB7XG4gICAgICAgICAgICAvL3ZhciBwID0geyBpZDogYWpheC51cmwsIHhocjogeGhyIH07XG4gICAgICAgICAgICAvLyQueGhyUG9vbC5wdXNoKHApO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShqcVhIUikge1xuICAgICAgICAgICAgLy8kLnhoclBvb2wuc3BsaWNlKDAsIDEpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkLnhoclBvb2wgPSBbXTtcbiAgICAkLnhockFib3J0QWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkLnhoclBvb2wubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICB4LmFib3J0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkLnhoclBvb2wgPSBbXTtcbiAgICB9O1xuXG4gICAgLy8gcmVzaXplZW5kIGV2ZW50XG4gICAgdmFyIHJ0aW1lID0gbmV3IERhdGUoMSwgMSwgMjAwMCwgMTIsICcwMCcsICcwMCcpLFxuICAgICAgICB0aW1lb3V0ID0gZmFsc2UsXG4gICAgICAgIGRlbHRhID0gMjAwO1xuXG4gICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoZSwgbykge1xuXG4gICAgICAgIGlmIChvICYmICQoby5lbGVtZW50KS5oYXNDbGFzcyhcImFuYnItd2lkZ2V0XCIpKSByZXR1cm47XG5cbiAgICAgICAgcnRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpZiAodGltZW91dCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgc2V0VGltZW91dChyZXNpemVlbmQsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gcmVzaXplZW5kKCkge1xuICAgICAgICBpZiAobmV3IERhdGUoKSAtIHJ0aW1lIDwgZGVsdGEpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocmVzaXplZW5kLCBkZWx0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKFwid2luZG93OnJlc2l6ZWVuZFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIChmdW5jdGlvbiAoJCkge1xuXG4gICAgICAgICQucHJlcGFyZSA9IGZ1bmN0aW9uIChkYXRhLCBmaWVsZCkge1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHJldHVybiBbXTtcblxuICAgICAgICAgICAgdmFyIGFyciA9IFtdLFxuICAgICAgICAgICAgICAgIGZpZWxkTmFtZSA9IGZpZWxkIHx8ICdzeXN0ZW1OYW1lJyxcbiAgICAgICAgICAgICAgICBocmVmID0gZGF0YS5ocmVmO1xuXG4gICAgICAgICAgICBpZiAoISQuaXNBcnJheShkYXRhKSkgZGF0YSA9IFtkYXRhXTtcblxuICAgICAgICAgICAgQXJyYXkuZnJvbShkYXRhLCBmdW5jdGlvbiAoZWwpIHtcblxuICAgICAgICAgICAgICAgIHZhciBvID0geyBwcm9wVHlwZToge30gfTtcblxuICAgICAgICAgICAgICAgIEFycmF5LmZyb20oZWwuZGF0YSwgZnVuY3Rpb24gKHApIHtcblxuICAgICAgICAgICAgICAgICAgICBvW3BbZmllbGROYW1lXV0gPSBwLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBvLnByb3BUeXBlW3BbZmllbGROYW1lXV0gPSBwLnByb3BUeXBlO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgby5ocmVmID0gZWwuaHJlZjtcbiAgICAgICAgICAgICAgICBvLmxpbmtzID0gZWwubGlua3M7XG5cbiAgICAgICAgICAgICAgICBhcnIucHVzaChvKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9O1xuXG4gICAgICAgICQuRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkgdGV4dCA9IHY7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsID0gXCJ7XCIgKyAoaSAtIDEpICsgXCJ9XCI7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobCwgdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH0sICQuZm4uc2hvd0luZGljYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICdfJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIGNzcyA9IHRoaXMuZ2V0KDApID8geyBsZWZ0OiB0aGlzLm9mZnNldCgpLmxlZnQgKyB0aGlzLndpZHRoKCkgLyAyLCB0b3A6IHRoaXMub2Zmc2V0KCkudG9wICsgdGhpcy5oZWlnaHQoKSAvIDIgfSA6IHsgbGVmdDogJCh3aW5kb3cpLndpZHRoKCkgLyAyLCB0b3A6ICQod2luZG93KS5oZWlnaHQoKSAvIDIgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cihcImxvYWRlcmlkXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oXCLQuNC30LHRi9GC0L7Rh9C90YvQtSDQt9Cw0L/RgNC+0YHRiz9cIiwgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYXR0cihcImxvYWRlcmlkXCIsIGlkKTtcbiAgICAgICAgICAgICQoXCIjUm90b3JcIikuY2xvbmUoKS5hdHRyKFwiaWRcIiwgaWQpLmFkZENsYXNzKFwibG9hZGVyLWluZGljYXRvclwiKS5hcHBlbmRUbyhcImJvZHlcIikuY3NzKGNzcykuc2hvdygpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDYwMDAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkLmZuLmhpZGVJbmRpY2F0b3IgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgJCgnIycgKyB0aGlzLmF0dHIoXCJsb2FkZXJpZFwiKSkucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoXCJsb2FkZXJpZFwiKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkLm1lcmdlVXJsUGFyYW0gPSBmdW5jdGlvbiAodXJsLCBvKSB7XG5cbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZignIycpID09PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHUgPSB1cmwuc3BsaXQoXCI/XCIpLFxuICAgICAgICAgICAgICAgICAgICBzID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHAgPSB1WzFdID8gXy5jaGFpbih1WzFdLnNwbGl0KCcmJykpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkgcmV0dXJuIGl0ZW0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICB9KS5jb21wYWN0KCkub2JqZWN0KCkudmFsdWUoKSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICByID0gXy5jaGFpbihwKS5leHRlbmQobykubWFwKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrICsgJz0nICsgdjtcbiAgICAgICAgICAgICAgICB9KS52YWx1ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1WzBdICsgXCI/XCIgKyByLmpvaW4oXCImXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHUgPSB1cmwuc3BsaXQoXCIjXCIpLCBzID0gdVswXS5zcGxpdChcIj9cIiksIHAgPSBzWzFdID8gXy5jaGFpbihzWzFdLnNwbGl0KCcmJykpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uaW5kZXhPZignPScpICE9PSAtMSkgcmV0dXJuIGl0ZW0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICB9KS5jb21wYWN0KCkub2JqZWN0KCkudmFsdWUoKSA6IHt9LCByID0gXy5jaGFpbihwKS5leHRlbmQobykubWFwKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrICsgJz0nICsgdjtcbiAgICAgICAgICAgICAgICB9KS52YWx1ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNbMF0gKyAnPycgKyByLmpvaW4oXCImXCIpICsgXCIjXCIgKyB1WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICQuRXJyb3IgPSBmdW5jdGlvbiAodGV4dCkge307XG5cbiAgICAgICAgJC5HZXREYXRhID0gZnVuY3Rpb24gKCRwKSB7XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgJHAuZmluZChcImlucHV0Om5vdCguaWdub3JlKVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJuYW1lXCIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcInR5cGVcIikgPT09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmF0dHIoXCJ0eXBlXCIpID09PSBcInJhZGlvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpKSByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJUaW1lcGlja2VyXCIpIHx8ICQodGhpcykuaGFzQ2xhc3MoXCJkYXRlcGlja2VyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSAkKHRoaXMpLmRhdGV0aW1lcGlja2VyKFwiZ2V0RGF0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCkgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gZC50b0lTT1N0cmluZygpO2Vsc2UgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcImVqZGF0ZXBpY2tlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFskKHRoaXMpLmF0dHIoXCJuYW1lXCIpXSA9ICQuVG9JU08oJCh0aGlzKS5kYXRhKFwiZWpEYXRlUGlja2VyXCIpLmdldFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZWp0aW1lcGlja2VyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gJC5Ub0lTTygkKHRoaXMpLmRhdGEoXCJlalRpbWVQaWNrZXJcIikuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFskKHRoaXMpLmF0dHIoXCJuYW1lXCIpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHAuZmluZChcInNlbGVjdDpub3QoLmlnbm9yZSlcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkcC5maW5kKFwidGV4dGFyZWE6bm90KC5pZ25vcmUpXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOnZpc2libGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICAkLk1hcmtFcnJvckZvcm0gPSBmdW5jdGlvbiAobW9kZWwsIGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5oaWRlSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB0aGlzLiQoXCIjaW5mb1wiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRcIikuY3NzKFwiYm9yZGVyLWNvbG9yXCIsIFwiXCIpO1xuICAgICAgICAgICAgXy5lYWNoKGVycm9yLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiI2luZm9cIikudGV4dChkYXRhLnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiQoXCJbbmFtZT0nXCIgKyBkYXRhLm5hbWUgKyBcIiddXCIpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcInJlZFwiKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgICQuR2VuUXVlcnkgPSBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UsIGRpY3QpIHtcbiAgICAgICAgICAgIHZhciBhY2NlbnRNYXAgPSB7XG4gICAgICAgICAgICAgICAgXCLRkVwiOiBcItC1XCIsXG4gICAgICAgICAgICAgICAgXCLQuFwiOiBcItC5XCIsXG4gICAgICAgICAgICAgICAgXCLQtVwiOiBcItGRXCIsXG4gICAgICAgICAgICAgICAgXCLQuVwiOiBcItC4XCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKHRlcm0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ICs9IGFjY2VudE1hcFt0ZXJtLmNoYXJBdChpKV0gfHwgdGVybS5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoXCJeXCIgKyAkLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChyZXF1ZXN0LnRlcm0pLCBcImlcIik7XG4gICAgICAgICAgICB2YXIgcGFyYW0gPSB7IGxpdDogcmVxdWVzdC50ZXJtLCBuYW1lOiBkaWN0IH07XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9hcGkvRGljdGlvbmFyeS9CeU5hbWUvXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlciwgbSkge1xuICAgICAgICAgICAgICAgICAgICAkLkVycm9yKG0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlKCQuZ3JlcChkYXRhLmRhdGEsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5sYWJlbCB8fCB2YWx1ZS52YWx1ZSB8fCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVyLnRlc3QodmFsdWUpIHx8IG1hdGNoZXIudGVzdChub3JtYWxpemUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICQuYWRkSWNvbiA9IGZ1bmN0aW9uICgkZSwgcm9ib3QpIHtcblxuICAgICAgICAgICAgdmFyICRvID0gJGUuY2xvc2VzdChcImRpdlwiKS5maW5kKFwic3Bhbi5UcmVlRWxlbWVudFRpdGxlIHNwYW5cIiksXG4gICAgICAgICAgICAgICAgaWNvbl9jbGFzcyA9IGdldEljb24ocm9ib3Quc3RhdHVzKSxcbiAgICAgICAgICAgICAgICBwYyA9ICdzZXZlcml0eScgKyByb2JvdC5zZXZlcml0eTtcblxuICAgICAgICAgICAgaWYgKCEkby5nZXQoMCkpIHtcblxuICAgICAgICAgICAgICAgICRvID0gJChcIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWNvcm5lci1hbGwgXCIgKyBpY29uX2NsYXNzICsgXCInIHRpdGxlPSdcIiArIHJvYm90LnN0YXRlICsgXCInIGRhdGEtaWM9J1wiICsgaWNvbl9jbGFzcyArIFwiJz48L3NwYW4+PHNwYW4+XCIgKyByb2JvdC5zdGF0ZSArIFwiPC9zcGFuPlwiKTtcbiAgICAgICAgICAgICAgICAkZS5jbG9zZXN0KFwiZGl2XCIpLmZpbmQoXCJzcGFuLlRyZWVFbGVtZW50VGl0bGVcIikuYWRkQ2xhc3MocGMpLmF0dHIoXCJkYXRhLXBjXCIsIHBjKS5hcHBlbmQoJG8pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkby5hdHRyKFwidGl0bGVcIikgIT09IHJvYm90LnN0YXRlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJHAgPSAkZS5jbG9zZXN0KFwiZGl2XCIpLmZpbmQoXCJzcGFuLlRyZWVFbGVtZW50VGl0bGVcIiksXG4gICAgICAgICAgICAgICAgICAgIG5wYyA9IFwic2V2ZXJpdHlcIiArIHJvYm90LnNldmVyaXR5O1xuXG4gICAgICAgICAgICAgICAgcGMgPSAkcC5hdHRyKFwiZGF0YS1wY1wiKTtcbiAgICAgICAgICAgICAgICBuaWNvbl9jbGFzcyA9IGdldEljb24ocm9ib3Quc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAkby5yZW1vdmVDbGFzcyhpY29uX2NsYXNzKS5hZGRDbGFzcyhuaWNvbl9jbGFzcykuYXR0cihcImRhdGEtaWNcIiwgbmljb25fY2xhc3MpLmF0dHIoXCJ0aXRsZVwiLCByb2JvdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWNvbl9jbGFzcyA9ICRvLmF0dHIoXCJkYXRhLWljXCIpO1xuICAgICAgICAgICAgICAgICRwLnJlbW92ZUNsYXNzKHBjKS5hZGRDbGFzcyhucGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8v0YMg0LvQvtC60LDQu9GM0L3QvtC5INC00LDRgtGLINC+0LHRgNC10LfQsNC10YIg0LLRgNC10LzRjyDQuCDQv9GA0LjQstC+0LTQuNGCINC6IFVUQyDRhNC+0YDQvNCw0YLRgyAo0YfRgtC+0LHRiyDQuNC30LHQtdC20LDRgtGMINC/0YDQvtCx0LvQtdC80Ysg0YEg0LLRgNC10LzQtdC90L3QvtC5INC30L7QvdC+0LkpXG4gICAgICAgICQuVG9JU09EYXRlT25seSA9IGZ1bmN0aW9uIChlbnRlcmVkRGF0ZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gcGFkKG4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbiA8IDEwID8gJzAnICsgbiA6IG47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBlbnRlcmVkRGF0ZURhdGVJU08gPSBlbnRlcmVkRGF0ZS5nZXRGdWxsWWVhcigpICsgXCItXCIgKyBwYWQoZW50ZXJlZERhdGUuZ2V0TW9udGgoKSArIDEpICsgXCItXCIgKyBwYWQoZW50ZXJlZERhdGUuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICAgIHJldHVybiBlbnRlcmVkRGF0ZURhdGVJU08gKyBcIlQwMDowMDowMFpcIjtcbiAgICAgICAgfTtcblxuICAgICAgICAkLlRvSVNPID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIGlmIChhKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKERhdGUucGFyc2UoYSkpICYmIG5ldyBEYXRlKGEpLnRvSVNPU3RyaW5nKCkgPT09IGEpIHJldHVybiBhO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZVxuICAgICAgICAgICAgICAgIGlmIChhLmluZGV4T2YoXCI6XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVBhcnQgPSBhLnNwbGl0KFwiOlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjLnNldEhvdXJzKHBhcnNlSW50KHRpbWVQYXJ0WzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGMuc2V0TWludXRlcyhwYXJzZUludCh0aW1lUGFydFsxXSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChSZXNvdXJjZXMuTGFuZyA9PT0gXCJydS1SVVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gYS5zcGxpdChcIi5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHQgPSBwWzFdICsgJy8nICsgcFswXSArICcvJyArIHBbMl07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihEYXRlLnBhcnNlKHB0dCkpKSByZXR1cm4gbmV3IERhdGUocHR0KS50b0lTT1N0cmluZygpO2Vsc2UgY29uc29sZS5lcnJvcign0JTQsNGC0LAgWycgKyBhICsgJ10g0L3QtSDQstCw0LvQuNC00L3QsCEgLSAnICsgcHR0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYSkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJC5wYXJzZURhdGUgPSBmdW5jdGlvbiAoZCkge1xuXG4gICAgICAgICAgICB2YXIgc2QgPSBkLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIGlmIChEYXRlLnBhcnNlKHNkWzBdKSkgcmV0dXJuIG5ldyBEYXRlKHNkWzBdKS50b0xvY2FsZURhdGVTdHJpbmcoUmVzb3VyY2VzLkxhbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHNkWzBdO1xuICAgICAgICB9O1xuICAgIH0pKGpRdWVyeSk7XG5cbiAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgZnVuY3Rpb24gZ2V0UHJvcGVydHlPYmoodGV4dCkge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICBpZiAoY291bnQgPiA1KSByZXR1cm4gXCJcIjtcbiAgICAgICAgdmFyIHR4dCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIHByIGluIHRleHQpIHtcbiAgICAgICAgICAgIHZhciB2ID0gdGV4dFtwcl07XG4gICAgICAgICAgICBpZiAoJC50eXBlKHYpID09PSBcImZ1bmN0aW9uXCIpIGNvbnRpbnVlO2Vsc2UgaWYgKCQudHlwZSh2KSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHR4dCArPSBnZXRQcm9wZXJ0eU9iaih2KTtcbiAgICAgICAgICAgIH0gZWxzZSB0eHQgKz0gcHIgKyBcIj1cIiArIHRleHRbcHJdICsgXCI8L2JyPlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SWNvbihzKSB7XG4gICAgICAgIHZhciBfb3V0ID0gXCJ1aS1pY29uLWluZm9cIjtcbiAgICAgICAgc3dpdGNoIChzKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5rbm93blwiOlxuICAgICAgICAgICAgICAgIF9vdXQgPSBcInVpLWljb24taW5mb1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0b3BwZWRcIjpcbiAgICAgICAgICAgICAgICBfb3V0ID0gXCJ1aS1pY29uLWxpZ2h0YnVsYlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbXBsaXRlZFwiOlxuICAgICAgICAgICAgICAgIF9vdXQgPSBcInVpLWljb24tY2hlY2tcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjcmVhdGVkXCI6XG4gICAgICAgICAgICAgICAgX291dCA9IFwidWktaWNvbi1wZW5jaWxcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcm9jZXNzaW5nXCI6XG4gICAgICAgICAgICAgICAgX291dCA9IFwidWktaWNvbi1jbG9ja1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRcIjpcbiAgICAgICAgICAgICAgICBfb3V0ID0gXCJ1aS1pY29uLXRyYXNoXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9vdXQ7XG4gICAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2MvRWRnZVZpZXcnLCBbJ2luY2x1ZGVNb2R1bGVzJywgJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKGluY2x1ZGUsIFJlc291cmNlcykge1xuXG4gICAgdmFyIEVYUEFORF9XSURUSCA9IDU3MCxcbiAgICAgICAgRVhQQU5EX0hFSUdIVCA9IDM3NixcbiAgICAgICAgVEFCX1NURVAgPSA0OTI7XG5cbiAgICBmdW5jdGlvbiBtZXRhKHApIHtcblxuICAgICAgICB2YXIgcmVzID0gbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXhPZihwKSAhPT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXMubGVuZ3RoKSByZXR1cm4gcmVzWzBdO1xuXG4gICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLnJlcGxhY2UoLyUyZi9nLCAnLycpO1xuXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZigncmV0dXJuVXJsJykgIT09IC0xKSByZXMgPSB1cmwuc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIHJldHVybiBhLmluZGV4T2YocCkgIT09IC0xO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzLmxlbmd0aCkgcmV0dXJuIHJlc1swXTtcblxuICAgICAgICByZXMgPSB1cmwuc3BsaXQoXCImXCIpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXhPZihwKSAhPT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXMubGVuZ3RoKSByZXR1cm4gcmVzWzBdLnNwbGl0KCc9JylbMV07XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByZXBhcmVVcmwobSkge1xuXG4gICAgICAgIHZhciBsYW5nID0gbWV0YShcImxhbmdcIikgfHwgXCJsYW5nLXJ1LVJVXCIsXG4gICAgICAgICAgICBkYiA9IG1ldGEoXCJkYlwiKSB8fCBcImRiMFwiLFxuICAgICAgICAgICAgX3UgPSBtLmdldCgnVXJsJyk7XG5cbiAgICAgICAgaWYgKF91LmluZGV4T2YoXCJodHRwXCIpID09PSAtMSB8fCBfdS5pbmRleE9mKFwiaHR0cHNcIikgPT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gX3UucmVwbGFjZShcIntsYW5nfVwiLCBsYW5nKTtcblxuICAgICAgICAgICAgaWYgKF91LmluZGV4T2YoXCJ7ZGJ9XCIpID09PSAtMSkgdXJsID0gdXJsICsgXCI/ZGI9XCIgKyBkYjtlbHNlIHVybCA9IHVybC5yZXBsYWNlKFwie2RifVwiLCBkYik7XG5cbiAgICAgICAgICAgIG0uc2V0KCdVcmwnLCB1cmwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0YWJzVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZGVmYXVsdC1zdGFydC10YWJzJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRhZ05hbWU6ICdhJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8JT0gR3JvdXBUaXRsZSAlPicpLFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayc6ICdjaGFuZ2U6bW9kdWxlJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdhY3RpdmUnKSkgdGhpcy4kZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYXR0cignaHJlZicsICcjJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ0VkZ2VzJykpIHRoaXMudHJpZ2dlck1ldGhvZCgnYWRkOmVkZ2VzJywgdGhpcy5tb2RlbC5nZXQoJ0VkZ2VzJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0sIGkpIHtcbiAgICAgICAgICAgIGlmICghaSkgbS5zZXQoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnYWRkOmVkZ2VzJzogJ2FkZDplZGdlcycsXG4gICAgICAgICAgICAnY2hhbmdlOm1vZHVsZSc6ICdjaGFuZ2U6bW9kdWxlJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbW9kdWxlc1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRhZ05hbWU6ICd1bCcsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgICB0YWdOYW1lOiAnbGknLFxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxhIGhyZWY9XCI8JT0gVXJsICU+XCIgY2xhc3M9XCJidG4tc3RhcnQgYnRuLXN0YXJ0LS08JT0gQ29kZSAlPlwiIHRhcmdldD1cIl9ibGFua1wiPjwlPSBUaXRsZSAlPjwvYT4nKSxcblxuICAgICAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICAgICAnY2xpY2sgYSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdlZGdlOmNvbGxhcHNlJyxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcbiAgICAgICAgICAgIHByZXBhcmVVcmwobSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdlZGdlOmNvbGxhcHNlJzogJ2VkZ2U6Y29sbGFwc2UnXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZGVmYXVsdC1zdGFydC1uYXYgY29sbGFwc2VkJyxcbiAgICAgICAgdGVtcGxhdGU6ICcjZWRnZS1ibG9jay10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJ0b3VjaHN0YXJ0IC5kZWZhdWx0LXN0YXJ0LW5hdi1wYXRoXCI6ICdkZWZhdWx0TmF2JyxcbiAgICAgICAgICAgIFwiY2xpY2sgLmRlZmF1bHQtc3RhcnQtbmF2LXBhdGhcIjogJ2RlZmF1bHROYXYnLFxuXG4gICAgICAgICAgICBcInRvdWNoc3RhcnQgLmRlZmF1bHQtc3RhcnQtbmF2LWNsb3NlXCI6ICdzdGFydE5hdicsXG4gICAgICAgICAgICBcImNsaWNrIC5kZWZhdWx0LXN0YXJ0LW5hdi1jbG9zZVwiOiAnc3RhcnROYXYnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVmYXVsdE5hdjogZnVuY3Rpb24gZGVmYXVsdE5hdigpIHtcblxuICAgICAgICAgICAgdmFyIGxhbmcgPSBtZXRhKFwibGFuZ1wiKSB8fCBcImxhbmctcnUtUlVcIixcbiAgICAgICAgICAgICAgICBkYiA9IG1ldGEoXCJkYlwiKSB8fCBcImRiMFwiO1xuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGRiID09PSBcImRiMFwiID8gJy8nICsgbGFuZyArICcvaG9tZS9tYWluJyA6ICcvJyArIGxhbmcgKyAnLycgKyBkYiArICcvaG9tZS9tYWluJztcbiAgICAgICAgfSxcblxuICAgICAgICBzdGFydE5hdjogZnVuY3Rpb24gc3RhcnROYXYoKSB7XG5cbiAgICAgICAgICAgIHZhciBjaGVja1VzZXIgPSAkKCcjSW5mb1VzZXInKS50ZXh0KCk7XG4gICAgICAgICAgICBpZiAoY2hlY2tVc2VyID09IFwiQUJTXFxcXERlbW8wMVwiKSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRlbC5oYXNDbGFzcyhcImNvbGxhcHNlZFwiKSkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYW5pbWF0ZSh7IGhlaWdodDogRVhQQU5EX0hFSUdIVCwgd2lkdGg6IEVYUEFORF9XSURUSCB9LCAxNTAsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdleHBhbmRlZCcpLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnaGVhZGVyJykucHJlcGVuZCgnPGRpdiBjbGFzcz1cIm92ZXJsYXlcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRlbC5oYXNDbGFzcyhcImV4cGFuZGVkXCIpKSB0aGlzLl9jb2xsYXBzZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIHRhYnM6IHsgZWw6ICcuZGVmYXVsdC1zdGFydC10YWJzJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIG1vZHVsZXM6ICcuZGVmYXVsdC1zdGFydC10YWJzLWlubmVyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygndGFicycsIG5ldyB0YWJzVmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiB9KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2NvbGxhcHNlOiBmdW5jdGlvbiBfY29sbGFwc2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmFuaW1hdGUoeyBoZWlnaHQ6IDQ0LCB3aWR0aDogNDQgfSwgMTUwLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdjb2xsYXBzZWQnKS5yZW1vdmVDbGFzcygnZXhwYW5kZWQnKTtcbiAgICAgICAgICAgICAgICAkKCdkaXYub3ZlcmxheScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdFdmVudHM6IHtcblxuICAgICAgICAgICAgJ2VkZ2U6Y29sbGFwc2UnOiBmdW5jdGlvbiBlZGdlQ29sbGFwc2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGFwc2UoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdhZGQ6ZWRnZXMnOiBmdW5jdGlvbiBhZGRFZGdlcyhvKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZCA9IF8uZmlsdGVyKG8sIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLkVuYWJsZWQgJiYgaW5jbHVkZS5pbmRleE9mKGEuQ29kZSkgIT09IC0xO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldFJlZ2lvbignbW9kdWxlcycpLmhhc1ZpZXcoKSkgdGhpcy5zaG93Q2hpbGRWaWV3KCdtb2R1bGVzJywgbmV3IG1vZHVsZXNWaWV3KHsgY29sbGVjdGlvbjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oZCkgfSkpO2Vsc2UgdGhpcy5nZXRSZWdpb24oJ21vZHVsZXMnKS5hdHRhY2hIdG1sKG5ldyBtb2R1bGVzVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKGQpIH0pLnJlbmRlcigpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjaGFuZ2U6bW9kdWxlJzogZnVuY3Rpb24gY2hhbmdlTW9kdWxlKHYpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJCgnLmRlZmF1bHQtc3RhcnQtdGFicyBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB2LiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IHYuX2luZGV4ICogVEFCX1NURVA7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIuZGVmYXVsdC1zdGFydC10YWJzLWlubmVyXCIpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzdGVwID8gXCItXCIgKyBzdGVwIDogMFxuICAgICAgICAgICAgICAgIH0sIDQwMCwgJ2Vhc2VJbk91dEJhY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBTY2hlZHVsZU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICBpZEF0dHJpYnV0ZTogXCJVSURcIixcbiAgICBkZWZhdWx0czoge1xuICAgICAgICBVSUQ6IG51bGwsXG4gICAgICAgIFRpdGxlOiBcIlwiLFxuICAgICAgICBUaW1lU3RhcnRFeGVjdXRpb246IG51bGwsXG4gICAgICAgIFBvaW50RGF0ZUZvclNlbGVjdGlvbjogbnVsbCxcbiAgICAgICAgUGVyaW9kaWNpdHk6IDEsXG4gICAgICAgIFdoaWNoRGF5c09mV2VlazogW10sXG4gICAgICAgIFN1YnNjcmliZXJzOiBcIlwiLFxuICAgICAgICBTY2hlZHVsaW5nVGFza1R5cGU6IDAsXG4gICAgICAgIFN0YXRlOiAxLFxuICAgICAgICBFbWFpbFRvcGljOiBcIlwiLFxuICAgICAgICBFbWFpbEJvZHk6IFwiXCJcbiAgICB9LFxuXG4gICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGF0dHIpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xuXG4gICAgICAgIGlmICghJC50cmltKGF0dHIuVGl0bGUpKSBvdXRwdXQucHVzaChcIlRpdGxlXCIpO1xuXG4gICAgICAgIGlmICghJC50cmltKGF0dHIuVGltZVN0YXJ0RXhlY3V0aW9uKSkgb3V0cHV0LnB1c2goXCJUaW1lU3RhcnRFeGVjdXRpb25cIik7XG5cbiAgICAgICAgaWYgKCEkLnRyaW0oYXR0ci5TdWJzY3JpYmVycykpIG91dHB1dC5wdXNoKFwiU3Vic2NyaWJlcnNcIik7XG5cbiAgICAgICAgaWYgKGF0dHIuUGVyaW9kaWNpdHkgPT09IFwiM1wiKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIGF0dHIpIHtcbiAgICAgICAgICAgICAgICBpZiAocC5pbmRleE9mKFwiRGF5X1wiKSAhPT0gLTEgJiYgYXR0cltwXSkge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChwYXJzZUludChwLnNwbGl0KFwiX1wiKVsxXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0KFwiV2hpY2hEYXlzT2ZXZWVrXCIsIGFycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXQoXCJQZXJpb2RpY2l0eVwiLCBwYXJzZUludChhdHRyLlBlcmlvZGljaXR5KSk7XG4gICAgICAgIGlmIChvdXRwdXQubGVuZ3RoKSByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn0pO1xuXG52YXIgc2NoZWR1bGVDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgIG1vZGVsOiBTY2hlZHVsZU1vZGVsLFxuICAgIHVybDogXCIvYXBpL2F1dG9leGVjc2NoZWR1bGluZy9pdGVtc1wiXG59KTtcblxuZGVmaW5lKCdzY2hlZHVsZScsIFsnUlUnLCAnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAocnUsIFJlc291cmNlcykge1xuXG4gICAgdmFyIGRheXNWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJEYXlfPCUtIG5hbWUgJT5cIiB2YWx1ZT1cIjwlLSBpZCAlPlwiIGlkPVwiZDwlLSBpZCAlPlwiIGNsYXNzPVwiZy1mb3JtLS1jaGVja2JveFwiPjxsYWJlbCBmb3I9XCJkPCUtIGlkICU+XCI+PCUtIHRpdGxlICU+PC9sYWJlbD4nKSxcbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5jc3MoeyBmbG9hdDogJ2xlZnQnLCB3aWR0aDogJzEyMHB4JyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiQoJ2lucHV0JykucHJvcCgnY2hlY2tlZCcsIHRoaXMubW9kZWwuZ2V0KCdjaGVja2VkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgY2hpbGRWaWV3T3B0aW9uczogZnVuY3Rpb24gY2hpbGRWaWV3T3B0aW9ucyhtKSB7XG4gICAgICAgICAgICBtLnNldCh7IGNoZWNrZWQ6IHRoaXMubW9kZWwuZ2V0KCd2YWx1ZScpLmluZGV4T2YobS5pZCkgIT09IC0xIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgcmFkaW9WaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCI8JS0gbmFtZSAlPlwiIHZhbHVlPVwiPCUtIGlkICU+XCIgY2xhc3M9XCJnLWZvcm0tLXJhZGlvXCIgaWQ9XCJyPCUtIGlkICU+XCIgLz48bGFiZWwgZm9yPVwicjwlLSBpZCAlPlwiPjwlLSB0aXRsZSAlPjwvbGFiZWw+JyksXG4gICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKCdpbnB1dCcpLnByb3AoJ2NoZWNrZWQnLCB0aGlzLm1vZGVsLmlkID09PSB0aGlzLm1vZGVsLmdldCgndmFsdWUnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIGlucHV0JzogZnVuY3Rpb24gY2xpY2tJbnB1dCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdjbGljazpyYWRpbycsIHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGNoaWxkVmlld09wdGlvbnM6IGZ1bmN0aW9uIGNoaWxkVmlld09wdGlvbnMobSkge1xuICAgICAgICAgICAgbS5zZXQoeyBuYW1lOiB0aGlzLm1vZGVsLmdldCgnbmFtZScpLCB2YWx1ZTogcGFyc2VJbnQodGhpcy5tb2RlbC5nZXQoJ3ZhbHVlJykpIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiAnI2Nhc2Utc2NoZWR1bGUtaXRlbS10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBwZXJpb2Q6ICcucGVyaW9kJyxcbiAgICAgICAgICAgIGRheXM6ICcuZGF5cy1ibG9jaydcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgJ2NsaWNrIC5jYW5jZWwsIC5jbG9zZSc6IGZ1bmN0aW9uIGNsaWNrQ2FuY2VsQ2xvc2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuaGlkZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgXCJjbGljayAuc2F2ZVwiOiBmdW5jdGlvbiBjbGlja1NhdmUoZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkLkdldERhdGEodGhpcy4kKFwiLlNjaGVGb3JtOm5vdCguZGlnZXN0KVwiKSksXG4gICAgICAgICAgICAgICAgICAgIGRpZ2VzdCA9ICQuR2V0RGF0YSh0aGlzLiQoXCIuZGlnZXN0XCIpKSxcbiAgICAgICAgICAgICAgICAgICAgb2xkID0gSlNPTi5wYXJzZSh0aGlzLm1vZGVsLmdldChcIkRhdGFcIikpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJEYXRhXCIsIEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24ob2xkLCBkaWdlc3QpKSk7XG5cbiAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5zaG93SW5kaWNhdG9yKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zYXZlKGRhdGEsIHsgd2FpdDogdHJ1ZSwgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLmhpZGVJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld0NsaWNrUmFkaW86IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q2xpY2tSYWRpbyhtKSB7XG5cbiAgICAgICAgICAgIGlmIChtLmlkID09PSAzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsID0gUmVzb3VyY2VzLnNldGxvY2FsKCk7XG4gICAgICAgICAgICAgICAgdmFyIHdlZWsgPSBfLm1hcChbMCwgMSwgMiwgMywgNCwgNSwgNl0sIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGlkOiBkLCB0aXRsZTogbG9jYWwuZGF5TmFtZXNbZF0gfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2RheXMnLCBuZXcgZGF5c1ZpZXcoe1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHsgdmFsdWU6IHRoaXMubW9kZWwuZ2V0KFwiV2hpY2hEYXlzT2ZXZWVrXCIpIH0pLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbih3ZWVrKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLmdldFJlZ2lvbignZGF5cycpLmVtcHR5KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKHApIHtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdwZXJpb2QnLCBuZXcgcmFkaW9WaWV3KHsgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbCh7IG5hbWU6ICdQZXJpb2RpY2l0eScsIHZhbHVlOiB0aGlzLm1vZGVsLmdldChcIlBlcmlvZGljaXR5XCIpIH0pLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFt7IHRpdGxlOiBSZXNvdXJjZXMuZXZlcnlob3VyLCBpZDogMSB9LCB7IHRpdGxlOiBSZXNvdXJjZXMuZXZlcnlkYXksIGlkOiAyIH0sIHsgdGl0bGU6IFJlc291cmNlcy5ldmVyeXdlZWssIGlkOiAzIH1dKVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLm1vZGVsLmdldChcIlRpbWVTdGFydEV4ZWN1dGlvblwiKSA/IG5ldyBEYXRlKHRoaXMubW9kZWwuZ2V0KFwiVGltZVN0YXJ0RXhlY3V0aW9uXCIpKSA6IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLiQoXCIuZWp0aW1lcGlja2VyXCIpLmVqVGltZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiBSZXNvdXJjZXMuTGFuZyxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMHB4JyxcbiAgICAgICAgICAgICAgICBpbnRlcnZhbDogMTAsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnZXhwb3J0JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGVtcGxhdGU6ICcjY2FzZS1leHBvcnQtdGVtcGxhdGUnLFxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShyKSB7XG5cbiAgICAgICAgICAgIHIuJGVsLmFkZENsYXNzKFwiZGlzYWJsZWRcIikuYXR0cignZGF0YS1pY29uJywgJ2ljb24tbG9hZGVyJyk7XG5cbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAkLkdldERhdGEodGhpcy4kZWwpLFxuICAgICAgICAgICAgICAgIGlkcyA9IF8ubWFwKHRoaXMub3B0aW9ucy5zZWxlY3RlZCwgZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5pZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBvdXRwdXQubGlzdCA9IGlkcztcblxuICAgICAgICAgICAgJC5wb3N0KHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2FwaS9FeHBvcnRcIixcbiAgICAgICAgICAgICAgICBkYXRhOiAkLnBhcmFtKG91dHB1dClcbiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgICAgICAgICByLiRlbC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLnJlbW92ZUF0dHIoJ2RhdGEtaWNvbicpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnc2hvdzptZXNzYWdlJywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG5kZWZpbmUoJ2ltcG9ydCcsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdnbG9iYWwudmlldy5kcm9wRG93biddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBEcm9wRG93bikge1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogJyNjYXNlLWltcG9ydC10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBkZDogJyNleHAtaXRlbXMnXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24udXJsID0gXCIvYXBpL0V4cG9ydFwiO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdkZCcsIG5ldyBEcm9wRG93bih7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCkgfSkpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ2RkJykuY29sbGVjdGlvbi5yZXNldCh0aGlzLmNvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHRpdGxlOiBvLmdldCgnQ0RhdGUnKSwgaWQ6IG8uZ2V0KCdJRCcpIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUocikge1xuXG4gICAgICAgICAgICB2YXIgcyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdkZCcpLmN1cnJlbnQ7XG5cbiAgICAgICAgICAgIGlmIChzLmhhcygnaWQnKSkge1xuXG4gICAgICAgICAgICAgICAgci4kZWwucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKS5hdHRyKCdkYXRhLWljb24nLCAnaWNvbi1sb2FkZXInKTtcblxuICAgICAgICAgICAgICAgICQucG9zdCh7XG5cbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hcGkvZXhwb3J0L3RyYW5zZmVyZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAkLnBhcmFtKHsgSUQ6IHMuaWQsIENEYXRlOiBzLmdldCgndGl0bGUnKSB9KVxuXG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgICAgICAgICAgICByLiRlbC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLnJlbW92ZUF0dHIoJ2RhdGEtaWNvbicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3Nob3c6bWVzc2FnZScsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnZmFjdGRpZ2VzdCcsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdzY2hlZHVsZScsICdSVSddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBTY2hlZHVsZVZpZXcsIHJ1KSB7XG5cbiAgICB2YXIgZmFjdERpZ2VzdE1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgVGl0bGVUb3A6ICcnLFxuICAgICAgICAgICAgVGl0bGVNaWRkbGU6ICcnLFxuICAgICAgICAgICAgVGl0bGVCb3R0b206ICcnLFxuICAgICAgICAgICAgUG9pbnREYXRlRm9yU2VsZWN0aW9uOiBuZXcgRGF0ZSgpLnRvU3RyaW5nKClcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogJyNjYXNlLWZhY3RkaWdlc3RzLXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICAnY2hhbmdlICNzaG93LXNjaGUnOiBmdW5jdGlvbiBjaGFuZ2VTaG93U2NoZShlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoJChlLnRhcmdldCkucHJvcCgnY2hlY2tlZCcpKSB0aGlzLnNob3dDaGlsZFZpZXcoJ3NjaGUnLCBuZXcgU2NoZWR1bGVWaWV3KHsgbW9kZWw6IG5ldyBTY2hlZHVsZU1vZGVsKCkgfSkpO2Vsc2UgdGhpcy5nZXRSZWdpb24oJ3NjaGUnKS5lbXB0eSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2JsdXIgaW5wdXQnOiBmdW5jdGlvbiBibHVySW5wdXQoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRSZWdpb24oJ3NjaGUnKS5oYXNWaWV3KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSB0aGlzLmdldENoaWxkVmlldygnc2NoZScpLm1vZGVsO1xuICAgICAgICAgICAgICAgICAgICBtLnNldCgkLkdldERhdGEodGhpcy4kKFwiLnNjaGUtY29udGFpbmVyXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJib3JkZXItY29sb3JcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5uZXh0XCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIubmV4dFwiKS5maW5kKFwic3Bhbi5sb2FkZXJcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgc2NoZTogJy5zY2hlLWNvbnRhaW5lcidcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IG5ldyBmYWN0RGlnZXN0TW9kZWwoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJChcImlucHV0W25hbWU9J1BvaW50RGF0ZUZvclNlbGVjdGlvbiddXCIpLmVqRGF0ZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgbG9jYWxlOiBSZXNvdXJjZXMuTGFuZyxcbiAgICAgICAgICAgICAgICBidXR0b25UZXh0OiBSZXNvdXJjZXMuVG9kYXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKHRoaXMubW9kZWwuZ2V0KCdQb2ludERhdGVGb3JTZWxlY3Rpb24nKSkudG9Mb2NhbGVEYXRlU3RyaW5nKFJlc291cmNlcy5MYW5nKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gdGhpcy5vcHRpb25zLnNlbGVjdGVkWzBdO1xuICAgICAgICAgICAgaWYgKHMpIHRoaXMuJChcIiNvYmpGb3JGYWN0RGlnZXN0XCIpLmh0bWwocy5nZXQoXCJkaXNwbGF5X25hbWVcIikgKyAnJm5ic3A7LSZuYnNwOzxpPicgKyBzLmdldChcInR5cGVuYW1lXCIpICsgJzwvaT4nKTtlbHNlIHRoaXMudHJpZ2dlck1ldGhvZCgnc2hvdzptZXNzYWdlJywgUmVzb3VyY2VzLm5vc2VsZWN0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKHIpIHtcblxuICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJib3JkZXItY29sb3JcIiwgXCJcIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJC5HZXREYXRhKHRoaXMuJGVsKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFJlZ2lvbignc2NoZScpLmhhc1ZpZXcoKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG0gPSB0aGlzLmdldENoaWxkVmlldygnc2NoZScpLm1vZGVsO1xuICAgICAgICAgICAgICAgIG0uc2V0KCQuR2V0RGF0YSh0aGlzLiQoXCIuc2NoZS1jb250YWluZXJcIikpKTtcblxuICAgICAgICAgICAgICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBfLmVhY2gobS52YWxpZGF0aW9uRXJyb3IsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFtuYW1lPSdcIiArIGEgKyBcIiddXCIpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcInJlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBtLnNldChcIlNjaGVkdWxpbmdUYXNrVHlwZVwiLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ1NjaGVkdWxpbmdUYXNrRGF0YScsIG0udG9KU09OKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgci4kZWwuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKS5hdHRyKCdkYXRhLWljb24nLCAnaWNvbi1sb2FkZXInKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcblxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICAgICAgICAgICAgdXJsOiBcIi9hcGkvZXhwb3J0L2dlbmZhY3RkaWdlc3QvXCIgKyB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRbMF0uaWQsXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodGhpcy5tb2RlbC50b0pTT04oKSlcblxuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgICAgICAgIHIuJGVsLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIikucmVtb3ZlQXR0cignZGF0YS1pY29uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdzaG93Om1lc3NhZ2UnLCByZXN1bHQpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTtcblxuZGVmaW5lKCdkb2NkaWdlc3QnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnc2NoZWR1bGUnLCAnZy90cmVlJywgJ2Mvc2VhcmNoUGFuZWwnLCAnZ2xvYmFsLnZpZXcuZGlhbG9nJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIFNjaGVkdWxlVmlldywgdHJlZVZpZXcsIHNlYXJjaFBhbmVsLCBkaWFsb2cpIHtcblxuICAgIHZhciBkb2NEaWdlc3RNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICAgIFRpdGxlVG9wOiAnJyxcbiAgICAgICAgICAgIFRpdGxlTWlkZGxlOiAnJyxcbiAgICAgICAgICAgIFRpdGxlQm90dG9tOiAnJyxcbiAgICAgICAgICAgIFNlbGVjdGVkT2JqZWN0c0ZvcktleVBocmFzZXM6IFtdLFxuICAgICAgICAgICAgU291cmNlczogW11cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogJyNjYXNlLWRvY2RpZ2VzdC10ZW1wbGF0ZScsXG5cbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICByZXE6ICcjc2VsLXJlcXVlc3QnLFxuICAgICAgICAgICAga2V5czogJy5zZWxlY3RlZC1rZXktb2JqJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIHNjaGU6ICcuc2NoZS1jb250YWluZXInLFxuICAgICAgICAgICAgc2Q6ICcjY2hvb3NlLWRpYWxvZydcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gbmV3IGRvY0RpZ2VzdE1vZGVsKHsgU291cmNlczogdGhpcy5jb2xsZWN0aW9uLnBsdWNrKCdvYmplY3RfaWQnKSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIC8vdmFyIHMgPSB0aGlzLm9wdGlvbnMuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAvL2lmIChzLmxlbmd0aClcbiAgICAgICAgICAgIC8vICAgIHRoaXMuJChcIi5zb3VyY2VzLWZyb20tYmFza2V0XCIpLmh0bWwocy5wbHVjayhcImRpc3BsYXlfbmFtZVwiKS5qb2luKCcsJykpO1xuICAgICAgICAgICAgLy9lbHNlXG4gICAgICAgICAgICAvLyAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3Nob3c6bWVzc2FnZScsIFJlc291cmNlcy5ub3NlbGVjdCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgJ2NoYW5nZSAjc2hvdy1zY2hlJzogZnVuY3Rpb24gY2hhbmdlU2hvd1NjaGUoZSkge1xuICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5wcm9wKCdjaGVja2VkJykpIHRoaXMuc2hvd0NoaWxkVmlldygnc2NoZScsIG5ldyBTY2hlZHVsZVZpZXcoeyBtb2RlbDogbmV3IFNjaGVkdWxlTW9kZWwoKSB9KSk7ZWxzZSB0aGlzLmdldFJlZ2lvbignc2NoZScpLmVtcHR5KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgaW5wdXRbdmFsdWU9YV0nOiBmdW5jdGlvbiBjbGlja0lucHV0VmFsdWVBKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdTb3VyY2VzJywgdGhpcy5jb2xsZWN0aW9uLnBsdWNrKCdpZCcpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnJlcS5odG1sKCcnKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vYnkgcmVxdWVzdFxuICAgICAgICAgICAgJ2NsaWNrIGlucHV0W3ZhbHVlPWJdJzogZnVuY3Rpb24gY2xpY2tJbnB1dFZhbHVlQigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2dPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmVzb3VyY2VzLnNlbGVjdFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBuZXcgdHJlZVZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLCBub2RlOiB7IGNoZWNrYm94OiBmYWxzZSB9IH0pLFxuICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDEwMDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZGlhbG9nT3B0aW9ucy5jb250ZW50LmNvbGxlY3Rpb24udXJsID0gJy9hcGkvcmVxdWVzdCc7XG4gICAgICAgICAgICAgICAgZGlhbG9nT3B0aW9ucy5jb250ZW50LmNvbGxlY3Rpb24uZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdOb3RpZnknKS5yZXF1ZXN0KCdvbmNlOmRpYWxvZycsIGRpYWxvZ09wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhkaWFsb2csICdjb250YWluZXI6c2VsZWN0Oml0ZW0nLCBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZGVsLmdldCgnaXNkb2MnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ1NvdXJjZXMnLCBbdi5tb2RlbC5pZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5yZXEuaHRtbCgnIC0gWyA8Yj4nICsgdi5tb2RlbC5nZXQoJ3RpdGxlJykgKyAnPC9iPiBdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnYmx1ciBpbnB1dCc6IGZ1bmN0aW9uIGJsdXJJbnB1dCgpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFJlZ2lvbignc2NoZScpLmhhc1ZpZXcoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdzY2hlJykubW9kZWw7XG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KCQuR2V0RGF0YSh0aGlzLiQoXCIuc2NoZS1jb250YWluZXJcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiLm5leHRcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5uZXh0XCIpLmZpbmQoXCJzcGFuLmxvYWRlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayAuY2hvb3NlJzogZnVuY3Rpb24gY2xpY2tDaG9vc2UoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5zZWxlY3RpbmdPYmosXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NlYXJjaE9iaicsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzZWFyY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImctZm9ybS0taW5wdXQgaW5wdXQtZGF0YVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzZWFyY2gtbmFtZVwiIHZhbHVlPVwiXCIgY2xhc3M9XCJnLWZvcm0tLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBrZXl3b3JkXCIvPjxpIGNsYXNzPVwic2VhcmNoIHJ0bC0xXCIgbmFtZT1cInNlYXJjaFwiPjwvaT48L3NwYW4+J1xuICAgICAgICAgICAgICAgICAgICB9LCB7IGlkOiAnZmlsdGVyQnlUeXBlJywgY2xhc3NOYW1lOiAnZmlsdGVyJyB9XSksXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlcjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3sgaWQ6ICdzYXZlJywgdGl0bGU6IFJlc291cmNlcy5zYXZlLCBjbGFzc05hbWU6ICdyaWdodCBibHVlJyB9XSksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyBzZWFyY2hQYW5lbCh7IHJpZzogdGhpcy5vcHRpb25zLnJpZCwgY29sbGVjdGlvbjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKSB9KSxcbiAgICAgICAgICAgICAgICAgICAgemluZGV4OiAxMDAwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vbGV0IGRpYWxvZyA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ05vdGlmeScpLnJlcXVlc3QoJ29uY2U6ZGlhbG9nJywgZGlhbG9nT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3NkJywgbmV3IGRpYWxvZyhkaWFsb2dPcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlblRvKGRpYWxvZywgJ2Zvb3RlcjpidXR0b246Y2xpY2snLCBmdW5jdGlvbiAodikge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2Lm1vZGVsLmlkID09PSAnc2F2ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gZGlhbG9nT3B0aW9ucy52aWV3LmNvbGxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnU2VsZWN0ZWRPYmplY3RzRm9yS2V5UGhyYXNlcycsIGMucGx1Y2soJ2lkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudWkua2V5cy5odG1sKGMucGx1Y2soJ3RpdGxlJykuam9pbignOyAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy51aS5rZXlzLmh0bWwoUmVzb3VyY2VzLm5vc2VsZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUocikge1xuXG4gICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcIlwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgkLkdldERhdGEodGhpcy4kZWwpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVnaW9uKCdzY2hlJykuaGFzVmlldygpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdzY2hlJykubW9kZWw7XG4gICAgICAgICAgICAgICAgbS5zZXQoJC5HZXREYXRhKHRoaXMuJChcIi5zY2hlLWNvbnRhaW5lclwiKSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKG0udmFsaWRhdGlvbkVycm9yLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRbbmFtZT0nXCIgKyBhICsgXCInXVwiKS5jc3MoXCJib3JkZXItY29sb3JcIiwgXCJyZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtLnNldChcIlNjaGVkdWxpbmdUYXNrVHlwZVwiLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ1NjaGVkdWxpbmdUYXNrRGF0YScsIG0udG9KU09OKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmdldCgnU291cmNlcycpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcInNob3c6bWVzc2FnZVwiLCBSZXNvdXJjZXMud2FybmluZyArICc6IDxici8+PHNtYWxsPicgKyBSZXNvdXJjZXMubm90c2VsZWN0ZWQgKyBcIiBcIiArIFJlc291cmNlcy5zb3VyY2UudG9Mb3dlckNhc2UoKSArICc8L3NtYWxsPicpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByLiRlbC5hZGRDbGFzcyhcImRpc2FibGVkXCIpLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLWxvYWRlcicpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICAgICAgICAgIHVybDogXCIvYXBpL2V4cG9ydC9nZW5kb2NzZGlnZXN0XCIsXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodGhpcy5tb2RlbC50b0pTT04oKSlcblxuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgICAgICAgIHIuJGVsLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIikucmVtb3ZlQXR0cignZGF0YS1pY29uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdzaG93Om1lc3NhZ2UnLCByZXN1bHQuc3RhdHVzID09PSA1MDAgPyBSZXNvdXJjZXMud2FybmluZyArICc6IDxici8+PHNtYWxsPicgKyByZXN1bHQuc3RhdHVzVGV4dCArICc8L3NtYWxsPicgOiByZXN1bHQpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnc2NoZXRhc2tzJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ3NjaGVkdWxlJywgJ2MvU2ltcGxlVGFibGVWaWV3JywgJ2ZhY3RkaWdlc3QnLCAnZG9jZGlnZXN0J10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIFNjaGVkdWxlVmlldywgdGFibGVWaWV3LCBmYWN0RGlnZXN0VmlldywgZG9jRGlnZXN0Vmlldykge1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogJyNjYXNlLXNjaGVkdWxlcy10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBsaXN0OiAnLmxpc3QtdGFza3MnLFxuICAgICAgICAgICAgc2NoZWR1bGU6ICcuaXRlbS1zY2hlJyxcbiAgICAgICAgICAgIGRpZ2VzdDogJy5pdGVtLWRpZ2VzdCdcbiAgICAgICAgfSxcblxuICAgICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQobSkge1xuXG4gICAgICAgICAgICAkLmdldCgnL2FwaS9hdXRvZXhlY3NjaGVkdWxpbmcvaXRlbXMvJyArIG0uaWQgKyAnL2V4ZWN1dGUnKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJzaG93Om1lc3NhZ2VcIiwgUmVzb3VyY2VzLnN1Y2Nlc3MpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIobW9kZWwpIHtcblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwic2hvdzptZXNzYWdlOmNvbmZpcm1cIiwge1xuICAgICAgICAgICAgICAgIHRleHQ6IFJlc291cmNlcy5hc2t5b3VzdXJlICsgJzxici8+PHNtYWxsPicgKyAkLkZvcm1hdChSZXNvdXJjZXMuZGVsdGV4dCwgUmVzb3VyY2VzLnNjaGVUYXNrcywgbW9kZWwuZ2V0KFwiVGl0bGVcIikpICsgXCI8L3NtYWxsPlwiLFxuICAgICAgICAgICAgICAgIGZ4OiBmdW5jdGlvbiBmeCgpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGVzdHJveSh7IHdhaXQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjdHg6IHRoaXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKG0pIHtcblxuICAgICAgICAgICAgdmFyIHVybCA9IG0uY29sbGVjdGlvbi51cmwgKyAnLycgKyBtLmlkICsgJy9hY3RpdmF0ZSc7XG4gICAgICAgICAgICBtLnNldCgnU3RhdGUnLCAxKTtcbiAgICAgICAgICAgICQuYWpheCh7IG1ldGhvZDogJ1BVVCcsIHVybDogdXJsLCBkYXRhOiAkLnBhcmFtKHsgU3RhdGU6IDEgfSkgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZShtKSB7XG5cbiAgICAgICAgICAgIHZhciB1cmwgPSBtLmNvbGxlY3Rpb24udXJsICsgJy8nICsgbS5pZCArICcvZGVhY3RpdmF0ZSc7XG4gICAgICAgICAgICBtLnNldCgnU3RhdGUnLCAwKTtcbiAgICAgICAgICAgICQuYWpheCh7IG1ldGhvZDogJ1BVVCcsIHVybDogdXJsLCBkYXRhOiAkLnBhcmFtKHsgU3RhdGU6IDAgfSkgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGlnZXN0OiBmdW5jdGlvbiBkaWdlc3QobW9kZWwpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VyZW50ICE9PSBtb2RlbC5pZCkgdGhpcy5nZXRSZWdpb24oJ3NjaGVkdWxlJykuZW1wdHkoKTtcblxuICAgICAgICAgICAgaWYgKG1vZGVsLmdldChcIlNjaGVkdWxpbmdUYXNrVHlwZVwiKSA9PT0gMSkgdGhpcy5zaG93Q2hpbGRWaWV3KCdkaWdlc3QnLCBuZXcgZG9jRGlnZXN0Vmlldyh7IG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoSlNPTi5wYXJzZShtb2RlbC5nZXQoJ0RhdGEnKSkpLCBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO2Vsc2UgdGhpcy5zaG93Q2hpbGRWaWV3KCdkaWdlc3QnLCBuZXcgZmFjdERpZ2VzdFZpZXcoeyBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKEpTT04ucGFyc2UobW9kZWwuZ2V0KCdEYXRhJykpKSwgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzY2hlZHVsZTogZnVuY3Rpb24gc2NoZWR1bGUobW9kZWwpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VyZW50ICE9PSBtb2RlbC5pZCkgdGhpcy5nZXRSZWdpb24oJ2RpZ2VzdCcpLmVtcHR5KCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnc2NoZWR1bGUnLCBuZXcgU2NoZWR1bGVWaWV3KHsgbW9kZWw6IG1vZGVsIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld1RhYmxlUm93Q21kOiBmdW5jdGlvbiBvbkNoaWxkdmlld1RhYmxlUm93Q21kKHIpIHtcbiAgICAgICAgICAgIHZhciAkZSA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXNbJGUuYXR0cignZGF0YS1jbWQnKV0uY2FsbCh0aGlzLCByLm1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuY3VyZW50ID0gci5tb2RlbC5pZDtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IHNjaGVkdWxlQ29sbGVjdGlvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdmFyIGhlYWQgPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbeyBpZDogMCwgdGl0bGU6ICcnIH0sIHsgaWQ6IDEsIHRpdGxlOiBSZXNvdXJjZXMudGl0bGUsIHdpZHRoOiAnMzAlJyB9LCB7IGlkOiAyLCB0aXRsZTogUmVzb3VyY2VzLnR5cGUgfSwgeyBpZDogMywgdGl0bGU6IFJlc291cmNlcy5zZW5kIH0sIHsgaWQ6IDQsIHRpdGxlOiBSZXNvdXJjZXMudG9zZW5kIH0sIHsgaWQ6IDUsIHRpdGxlOiBSZXNvdXJjZXMuc3RhdHVzIH0sIHsgaWQ6IDcsIHRpdGxlOiAnJyB9XSksXG4gICAgICAgICAgICAgICAgcm93VGVtcGxhdGUgPSAnPHRkPjxzcGFuIGRhdGEtY21kPVwic3RhcnRcIiBkYXRhLWljb249XCJpY29uLW5leHRcIiB0aXRsZT1cIjwlPSBSZXNvdXJjZXMucnVuICU+XCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIGNsYXNzPVwibGlua1wiIGRhdGEtY21kPVwiZGlnZXN0XCI+PCU9IFRpdGxlICU+PC9zcGFuPiZuYnNwOyZuYnNwOzxzcGFuIGRhdGEtaWNvbj1cImljb24tY2xvY2tcIiBkYXRhLWNtZD1cInNjaGVkdWxlXCI+PC9zcGFuPjwvdGQ+PHRkPjwlPSBTY2hlZHVsaW5nVGFza1R5cGU9PTE/UmVzb3VyY2VzLnR5cGVUYXNrMTpSZXNvdXJjZXMudHlwZVRhc2syICU+PC90ZD48dGQ+PCU9IExhc3RTdGFydERhdGVUaW1lP25ldyBEYXRlKExhc3RTdGFydERhdGVUaW1lKS50b0xvY2FsZVN0cmluZygpOlwiXCIgJT48L3RkPjx0ZD48JT0gTmV4dFN0YXJ0RGF0ZVRpbWU/bmV3IERhdGUoTmV4dFN0YXJ0RGF0ZVRpbWUpLnRvTG9jYWxlU3RyaW5nKCk6XCJcIiAlPjwvdGQ+PHRkPjwlPSBTdGF0ZT9SZXNvdXJjZXMuc3RhdGUxOlJlc291cmNlcy5zdGF0ZTIgJT4mbmJzcDs8JSBpZihTdGF0ZSl7ICU+PHNwYW4gZGF0YS1pY29uPVwiaWNvbi1zdGF0dXMtLWdyZWVuXCIgZGF0YS1jbWQ9XCJkaXNhYmxlXCIgdGl0bGU9XCI8JT0gUmVzb3VyY2VzLnRvc3RhdGUxICU+XCI+PC9zcGFuPjwlIH0gZWxzZSB7ICU+PHNwYW4gZGF0YS1pY29uPVwiaWNvbi1zdGF0dXMtLWdyZXlcIiBkYXRhLWNtZD1cImVuYWJsZVwiIHRpdGxlPVwiPCU9IFJlc291cmNlcy50b3N0YXRlMiAlPlwiPjwvc3Bhbj48JSB9ICU+PC90ZD48dGQ+PHNwYW4gZGF0YS1jbWQ9XCJjbGVhclwiIGRhdGEtaWNvbj1cImljb24tdHJhc2hcIj48L3NwYW4+PC90ZD4nO1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2xpc3QnLCBuZXcgdGFibGVWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uLCByb3dUZW1wbGF0ZTogcm93VGVtcGxhdGUsIGhlYWQ6IGhlYWQgfSkpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnYy9CYXNrZXRWaWV3JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC5tb2RlbC5kaWFsb2cnLCAnZ2xvYmFsLnZpZXcuZGlhbG9nJywgJ2dsb2JhbC5ncmlkLmRhdGFJdGVtc1ZpZXcnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgZGlhbG9nTW9kZWwsIGRpYWxvZywgdGFibGVWaWV3KSB7XG5cbiAgICByZXR1cm4gZGlhbG9nLmV4dGVuZCh7XG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblxuICAgICAgICAgICAgQmFja2JvbmUub24oXCJiYXNrZXQ6YWRkXCIsIHRoaXMuYWRkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi51cmwgPSBcIi9hcGkvQ2FydC9cIjtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IG5ldyBkaWFsb2dNb2RlbCh7XG4gICAgICAgICAgICAgICAgc2l6ZTogJ2Z1bGwnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnaWNvbi1jYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlOiBbeyBpZDogJ2Nsb3NlJyB9XVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYXV0b09wZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBSZXNvdXJjZXMuYmFza2V0LFxuXG4gICAgICAgICAgICAgICAgdG9vbGJhcjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3sgaWQ6IFwiZXhwb3J0XCIsIGNsYXNzTmFtZTogXCJleHBvcnRcIiwgdGl0bGU6IFJlc291cmNlcy5leHBvcnQgfSwgeyBpZDogXCJpbXBvcnRcIiwgY2xhc3NOYW1lOiBcImltcG9ydFwiLCB0aXRsZTogUmVzb3VyY2VzLmltcG9ydCB9LCB7IGlkOiBcImZhY3RkaWdlc3RcIiwgY2xhc3NOYW1lOiBcImZhY3RcIiwgdGl0bGU6IFJlc291cmNlcy53aXphcmRkaWdlc3QgKyAnIDogJyArIFJlc291cmNlcy5mYWN0RGlnZXN0IH0sIHsgaWQ6IFwiZG9jZGlnZXN0XCIsIGNsYXNzTmFtZTogXCJkb2NcIiwgdGl0bGU6IFJlc291cmNlcy53aXphcmRkaWdlc3QgKyAnIDogJyArIFJlc291cmNlcy5kb2NEaWdlc3QgfSwgeyBpZDogXCJzY2hldGFza3NcIiwgY2xhc3NOYW1lOiBcInRhc2tcIiwgdGl0bGU6IFJlc291cmNlcy5zY2hlVGFza3MgfSwgeyBpZDogXCJjbGVhclwiLCBjbGFzc05hbWU6IFwiY2xlYXJcIiwgdGl0bGU6IFJlc291cmNlcy5jbGVhclNlbGVjdGVkIH0sIHsgaWQ6IFwiZXJhc2VcIiwgY2xhc3NOYW1lOiBcImVyYXNlIHJpZ2h0XCIsIHRpdGxlOiBSZXNvdXJjZXMuY2xlYXJCYXNrZXQgfV0pLFxuXG4gICAgICAgICAgICAgICAgY29udGVudDogbmV3IHRhYmxlVmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgaGlkZUJ1dHRvbjogdHJ1ZSB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld0FmdGVyTG9hZDogZnVuY3Rpb24gb25DaGlsZHZpZXdBZnRlckxvYWQobikge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3RpdGxlJywgUmVzb3VyY2VzLmJhc2tldCArICcgKCcgKyBuICsgJyknKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgndXBkYXRlOmNhc2UnLCBuKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld1Rvb2xiYXJJdGVtQ2xpY2s6IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3VG9vbGJhckl0ZW1DbGljayhyKSB7XG5cbiAgICAgICAgICAgIHZhciBhY3QgPSByLm1vZGVsLmlkLFxuICAgICAgICAgICAgICAgIHRhYmxlID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2NvbnRlbnQnKS5nZXRDaGlsZFZpZXcoJ3RhYmxlJyk7XG5cbiAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24odGhpc1thY3RdKSkgdGhpc1thY3RdKCk7ZWxzZSBpZiAoIXRhYmxlLm1vZGVsc1NlbGVjdGVkICYmIChhY3QgPT09ICdleHBvcnQnIHx8IGFjdCA9PT0gJ2ZhY3RkaWdlc3QnKSkgdGhpcy5nZXRDaGlsZFZpZXcoJ25vdGlmeScpLnNob3dOb3RpZnkoUmVzb3VyY2VzLnNlbGVjdG9iaik7ZWxzZSByZXF1aXJlKFthY3RdLCBmdW5jdGlvbiAoY21kKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nVmlldyA9IG5ldyBkaWFsb2coe1xuXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByLm1vZGVsLmdldCgndGl0bGUnKSxcblxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBuZXcgY21kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IHRhYmxlLmdldENoaWxkVmlldyhcImJvZHlcIikuY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB0YWJsZS5tb2RlbHNTZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICB0b29sYmFyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLFxuXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlcjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3sgdGl0bGU6IFJlc291cmNlcy5uZXh0LCBpZDogJ3NhdmUnLCBjbGFzc05hbWU6ICdyaWdodCBuZXh0JyB9XSlcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlZ2lvbignYWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5jb250ZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cImFjdGlvbi1jb250YWluZXJcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZWdpb24oJ2FjdGlvbicsICcuYWN0aW9uLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnYWN0aW9uJywgZGlhbG9nVmlldyk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3Rm9vdGVyQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Rm9vdGVyQnV0dG9uQ2xpY2socikge1xuXG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdhY3Rpb24nKS5tb2RlbC5nZXQoJ2NvbnRlbnQnKTtcblxuICAgICAgICAgICAgdmFyIGZ4ID0gYVtyLm1vZGVsLmlkXTtcbiAgICAgICAgICAgIGlmIChmeCAmJiB0eXBlb2YgZnggPT09ICdmdW5jdGlvbicpIGZ4LmNhbGwoYSwgcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXJhc2U6IGZ1bmN0aW9uIGVyYXNlKCkge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdjb250ZW50JykuZ2V0Q2hpbGRWaWV3KCd0YWJsZScpLmdldENoaWxkVmlldygnYm9keScpLmNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgbm90aWZ5ID0gdGhpcy5nZXRDaGlsZFZpZXcoJ25vdGlmeScpO1xuXG4gICAgICAgICAgICBpZiAoYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBub3RpZnkuc2hvd0NvbmZpcm0oUmVzb3VyY2VzLnN1cmUgKyAnPGJyLz48c21hbGw+JyArIFJlc291cmNlcy5jbGVhcmFsbCArICc/PC9zbWFsbD4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVnaW9uKCdhY3Rpb24nKS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICAkLmdldCgnL2FwaS9DYXJ0L0NsZWFyLzAnKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vdGlmeS5zaG93Tm90aWZ5KFJlc291cmNlcy5zZWxlY3RvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcblxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmdldENoaWxkVmlldygnY29udGVudCcpLmdldENoaWxkVmlldygndGFibGUnKS5tb2RlbHNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBub3RpZnkgPSB0aGlzLmdldENoaWxkVmlldygnbm90aWZ5Jyk7XG5cbiAgICAgICAgICAgIGlmIChjICYmIGMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5LnNob3dDb25maXJtKFJlc291cmNlcy5zdXJlICsgJzxici8+PHNtYWxsPicgKyBSZXNvdXJjZXMuY29uZmlybU9iakRlbGV0ZS5yZXBsYWNlKCd7MH0nLCBjLmxlbmd0aCkgKyAnPC9zbWFsbD4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVnaW9uKCdhY3Rpb24nKS5lbXB0eSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHMgPSBfLm1hcChjLCBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsIHVybDogXCIvYXBpL0NhcnRcIiwgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyBJRHM6IGlkcyB9KVxuICAgICAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vdGlmeS5zaG93Tm90aWZ5KFJlc291cmNlcy5zZWxlY3RvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKGxpc3RJRHMpIHtcblxuICAgICAgICAgICAgdmFyIGNvID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2NvbnRlbnQnKS5nZXRDaGlsZFZpZXcoJ3RhYmxlJykuZ2V0Q2hpbGRWaWV3KCdib2R5JykuY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICBpZHMgPSBfLmZpbHRlcihsaXN0SURzLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhY28uZ2V0KGEudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9LCB0aGlzKSxcbiAgICAgICAgICAgICAgICBtID0gbmV3IEJhY2tib25lLk1vZGVsKHsgaWQ6IG51bGwsIElEczogW10gfSk7XG5cbiAgICAgICAgICAgIG0udXJsID0gXCIvYXBpL0NhcnRcIjtcbiAgICAgICAgICAgIGlmIChpZHMubGVuZ3RoKSBtLnNhdmUoeyBJRHM6IGlkcyB9LCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvL0JhY2tib25lLnRyaWdnZXIoXCJtZXNzYWdlOnN1Y2Nlc3NcIiwgeyB0aXRsZTogUmVzb3VyY2VzLmFkZGVkLCBtZXNzYWdlOiBSZXNvdXJjZXMub2JqZWN0cyArIFwiOiBcIiArIGlkcy5sZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ01lc3NhZ2VWaWV3JywgWydhcHAnLCAnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoQXBwLCBSZXNvdXJjZXMpIHtcblxuICAgIHZhciB0ZW1wbGF0ZU1vZGFsTWVzc2FnZSA9ICc8ZGl2IGNsYXNzPVwibWVzc2FnZVwiPjwlIGlmKGNhbmNlbEJ0bikgeyAlPjxzcGFuIGNsYXNzPVwiZHJvcGRvd24tbWVudV9jbG9zZVwiPjxzdmcgY2xhc3M9XCJpY29uIGljb24tY2xvc2VcIj48dXNlIHhsaW5rOiBocmVmPVwiI2ljb24tY2xvc2VcIj48L3VzZT48L3N2Zz48L3NwYW4+PCUgfSAlPjxiPjwlPSB0aXRsZSAlPjwvYj48cCBjbGFzcz1cIm1lc3NhZ2UtdGV4dFwiPjwlPSBtZXNzYWdlICU+PC9wPjxkaXYgY2xhc3M9XCJzay1jdWJlLWdyaWRcIj48ZGl2IGNsYXNzPVwic2stY3ViZSBzay1jdWJlMVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJzay1jdWJlIHNrLWN1YmUyXCI+PC9kaXY+PGRpdiBjbGFzcz1cInNrLWN1YmUgc2stY3ViZTNcIj48L2Rpdj48ZGl2IGNsYXNzPVwic2stY3ViZSBzay1jdWJlNFwiPjwvZGl2PjxkaXYgY2xhc3MgPVwic2stY3ViZSBzay1jdWJlNVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJzay1jdWJlIHNrLWN1YmU2XCI+PC9kaXY+PGRpdiBjbGFzcyA9XCJzay1jdWJlIHNrLWN1YmU3XCI+PC9kaXY+PGRpdiBjbGFzcz1cInNrLWN1YmUgc2stY3ViZThcIj48L2Rpdj48ZGl2IGNsYXNzID1cInNrLWN1YmUgc2stY3ViZTlcIj48L2Rpdj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICB0ZW1wbGF0ZUNvbmZpcm0gPSAnPGRpdiBjbGFzcz1cIm1lc3NhZ2VcIj48c3BhbiBjbGFzcz1cImRyb3Bkb3duLW1lbnVfY2xvc2VcIj48c3ZnIGNsYXNzPVwiaWNvbiBpY29uLWNsb3NlXCI+PHVzZSB4bGluazpocmVmPVwiI2ljb24tY2xvc2VcIj48L3VzZT48L3N2Zz48L3NwYW4+PGI+PCU9IHRpdGxlICU+PC9iPjxkaXYgY2xhc3M9XCJtZXNzYWdlLXRleHRcIj48JT0gbWVzc2FnZSAlPjwvZGl2PjxkaXY+PGJ1dHRvbiBjbGFzcz1cImJ0bi1leGVjXCI+PCU9IHRleHRCdG5FeGVjICU+PC9idXR0b24+Jm5ic3A7PGJ1dHRvbiBjbGFzcz1cImJ0bi1jYW5jZWxcIj48JT0gUmVzb3VyY2VzLmNhbmNlbCAlPjwvYnV0dG9uPjwvZGl2PjwvZGl2PicsXG4gICAgICAgIHRlbXBsYXRlSW5mbyA9ICc8Yj48JT0gdGl0bGUgJT48L2I+PGRpdj48JT0gbWVzc2FnZSAlPjwvZGl2Pic7XG5cbiAgICB2YXIgY2xlYXIgPSBbXCI4NjA1NjUzNC0wRENCLTQ4Q0YtQjA2RC0zRThEMjNGRDUwMDFcIl07XG5cbiAgICB2YXIgbSA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBlbDogJChcIiNtZXNzYWdlLWFyZWFcIiksXG5cbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICBcImNsaWNrIC5pY29uLWNsb3NlXCI6IFwiY2xvc2VcIixcbiAgICAgICAgICAgIFwiY2xpY2sgLmJ0bi1leGVjXCI6IFwiX2V4ZWNDb25maXJtXCIsXG4gICAgICAgICAgICBcImNsaWNrIC5idG4tY2FuY2VsXCI6IFwiY2xvc2VcIlxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcIm1lc3NhZ2U6aGlkZVwiLCB0aGlzLmhpZGUsIHRoaXMpO1xuICAgICAgICAgICAgQmFja2JvbmUub24oXCJtZXNzYWdlOm1vZGFsXCIsIHRoaXMubW9kYWwsIHRoaXMpO1xuICAgICAgICAgICAgQmFja2JvbmUub24oXCJtZXNzYWdlOndhcm5pbmdcIiwgdGhpcy53YXJuaW5nLCB0aGlzKTtcbiAgICAgICAgICAgIEJhY2tib25lLm9uKFwibWVzc2FnZTpzdWNjZXNzXCIsIHRoaXMuc3VjY2VzcywgdGhpcyk7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcIm1lc3NhZ2U6ZXhlY1wiLCB0aGlzLmV4ZWMsIHRoaXMpO1xuICAgICAgICAgICAgQmFja2JvbmUub24oXCJtZXNzYWdlOmNvbmZpcm1cIiwgdGhpcy5jb25maXJtLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwoJzxkaXYgaWQ9XCJpbmZvXCI+PC9kaXY+PGRpdiBpZD1cInNob1wiPjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj48L2Rpdj48L2Rpdj4nKTtcblxuICAgICAgICAgICAgJChcImJvZHlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI2luZm9cIikuaGlkZSgpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICAgICAgdGhpcy4kKFwiI3Nob1wiKS5oaWRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXhlYzogZnVuY3Rpb24gZXhlYyhvKSB7XG4gICAgICAgICAgICAvL2lmIChBcHAuY2hlY2soby5zaWQpKSB7XG4gICAgICAgICAgICBpZiAoY2xlYXIuaW5kZXhPZihvLnNpZCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBSZXNvdXJjZXMuY29uZmlybU9iakRlbGV0ZS5yZXBsYWNlKFwiezB9XCIsIG8uYW1vdW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm0oeyB0aXRsZTogUmVzb3VyY2VzLndhcm5pbmcsIG1lc3NhZ2U6IG1lc3NhZ2UsIGZ4OiBvLmZ4LCBjdHg6IG8uY3R4IH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gby5meC5jYWxsKG8uY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB0aGlzLnN1Y2Nlc3MoeyB0aXRsZTogcmVzdWx0LnRpdGxlLCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vfSBlbHNlXG4gICAgICAgICAgICAvLyAgICB0aGlzLnNob3coXCJ3YXJuaW5nXCIsIHsgdGl0bGU6IFJlc291cmNlcy5maWFzY28gfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KG1vZGUsIG8pIHtcbiAgICAgICAgICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtb2RhbFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIW8uY2FuY2VsQnRuKSBvLmNhbmNlbEJ0biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIuY29udGFpbmVyXCIpLmh0bWwoXy50ZW1wbGF0ZSh0ZW1wbGF0ZU1vZGFsTWVzc2FnZSkobykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIjc2hvXCIpLnJlbW92ZUNsYXNzKFwibm9iZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiI3Nob1wiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb25maXJtXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybShvKTticmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3VjY2Vzc1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3Mobyk7YnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIndhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXJuaW5nKG8pO2JyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9kYWw6IGZ1bmN0aW9uIG1vZGFsKG8pIHtcbiAgICAgICAgICAgIGlmICghbykgbyA9IHsgdGl0bGU6IFJlc291cmNlcy53YWl0MiwgbWVzc2FnZTogUmVzb3VyY2VzLm1lc3NhZ2UgfTtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhcIm1vZGFsXCIsIG8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHdhcm5pbmc6IGZ1bmN0aW9uIHdhcm5pbmcobykge1xuICAgICAgICAgICAgdGhpcy5zdWNjZXNzKG8pO1xuICAgICAgICAgICAgdGhpcy4kKFwiI2luZm8gYlwiKS5hZGRDbGFzcyhcInN0YXRlLWVycm9yXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3Mobykge1xuICAgICAgICAgICAgaWYgKCFvLnRpdGxlKSBvLnRpdGxlID0gUmVzb3VyY2VzLmFsZXJ0O1xuICAgICAgICAgICAgdmFyIGZsYWcgPSB0aGlzLnN0b3JhZ2UgIT09IG8ubWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChmbGFnKSB0aGlzLnN0b3JhZ2UgPSBvLm1lc3NhZ2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiQoXCIjaW5mb1wiKS5pcyhcIjpoaWRkZW5cIikpIHtcblxuICAgICAgICAgICAgICAgIGlmIChmbGFnKSB0aGlzLiQoXCIjaW5mb1wiKS5odG1sKF8udGVtcGxhdGUodGVtcGxhdGVJbmZvKShvKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjaW5mb1wiKS5zaG93KFwic2xpZGVcIiwgeyBkaXJlY3Rpb246IFwicmlnaHRcIiB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjaW5mb1wiKS5kZWxheSg3MDAwKS5oaWRlKFwic2xpZGVcIiwgeyBkaXJlY3Rpb246IFwicmlnaHRcIiB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNpbmZvXCIpLmFwcGVuZChfLnRlbXBsYXRlKHRlbXBsYXRlSW5mbykobykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9leGVjQ29uZmlybTogZnVuY3Rpb24gX2V4ZWNDb25maXJtKCkge1xuICAgICAgICAgICAgdGhpcy5leGVjQ29uZmlybS5jYWxsKHRoaXMuY29udGV4dENvbmZpcm0pO1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybShvKSB7XG4gICAgICAgICAgICB2YXIgJGwgPSAkKFwiYm9keVwiKS5jaGlsZHJlbigpLmxhc3QoKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmluc2VydEFmdGVyKCRsKTtcbiAgICAgICAgICAgIHRoaXMuJChcIi5jb250YWluZXJcIikuaHRtbChfLnRlbXBsYXRlKHRlbXBsYXRlQ29uZmlybSkoe1xuICAgICAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBvLnRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG8ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0ZXh0QnRuRXhlYzogby50aXRsZUV4ZWMgfHwgUmVzb3VyY2VzLmRlbGV0ZUl0ZW1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRoaXMuJChcIiNzaG9cIikuYWRkQ2xhc3MoXCJub2JnXCIpLnNob3coKTtcbiAgICAgICAgICAgIHRoaXMuZXhlY0NvbmZpcm0gPSBvLmZ4O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Q29uZmlybSA9IG8uY3R4O1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICB0aGlzLiQoXCIjc2hvXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgbSgpO1xufSk7XG5cbmRlZmluZSgnTW9kZUluZm9WaWV3JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2FjY2VzcyddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBhY2MpIHtcblxuICAgIHZhciBhY2Nlc3MgPSBhY2MuZGF0YS5Qb2ludHM7XG5cbiAgICAvL3RlbXJ0ZW1wbCA9IFwiPHNwYW4gY2xhc3M9J2Ryb3Bkb3duLW1lbnVfY2xvc2UnPjxzdmcgY2xhc3M9J2ljb24gaWNvbi1jbG9zZSBjbG9zZWQnPjx1c2UgeGxpbms6aHJlZj0nI2ljb24tY2xvc2UnPjwvdXNlPjwvc3ZnPjwvc3Bhbj48ZGl2IGNsYXNzPSdUZXh0JyBkYXRhLXNlYz0ndHJ1ZSc+PC9kaXY+PGRpdiBjbGFzcz0nTm9Nb3JlJz48YnV0dG9uIGNsYXNzPSdjbG9zZWQnPjwlPSBSZXNvdXJjZXMuY2xvc2VUZXh0ICU+PC9idXR0b24+PHA+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdOb01vcmUnIC8+Jm5ic3A7PGxhYmVsPjwlPSBSZXNvdXJjZXMubm9Nb3JlVmlldyAlPjwvbGFiZWw+PC9wPjwvZGl2PjxkaXYgY2xhc3M9J1dUJz48L2Rpdj5cIjtcblxuICAgIC8vdmFyIFRlcm1WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIC8vICAgIGVsOiAkKFwiI1Rlcm1zXCIpLFxuICAgIC8vICAgIGV2ZW50czoge1xuICAgIC8vICAgICAgICBcImNsaWNrIC5jbG9zZWRcIjogXCJjbG9zZVwiXG4gICAgLy8gICAgfSxcbiAgICAvLyAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAvLyAgICAgICAgaWYgKHRoaXMuJChcImlucHV0W25hbWU9J05vTW9yZSddXCIpLnByb3AoXCJjaGVja2VkXCIpKVxuICAgIC8vICAgICAgICAgICAgJC5jb29raWUoKHRoaXMub3B0aW9ucy5kYXRhaWQgKyBcIl9cIiArIHRoaXMudHMpLCBcIm5vbW9yZVwiLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgIC8vICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKFwiaW5mbzpoaWRlXCIpO1xuICAgIC8vICAgIH0sXG4gICAgLy8gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG8pIHtcbiAgICAvLyAgICAgICAgdGhpcy5vcHRpb25zID0gbztcbiAgICAvLyAgICAgICAgQmFja2JvbmUub24oXCJ3aW5kb3c6cmVzaXplZW5kXCIsXG4gICAgLy8gICAgICAgICAgICBmdW5jdGlvbiAoKSB7ICQoXCIjVGVybXNcIikuY3NzKHsgXCJoZWlnaHRcIjogJCh3aW5kb3cpLmhlaWdodCgpIC0gMjAwLCBcIndpZHRoXCI6ICQod2luZG93KS53aWR0aCgpIC0gNDAwIH0pLnBvc2l0aW9uKHsgb2Y6ICQod2luZG93KSB9KSB9LCB0aGlzKTtcbiAgICAvLyAgICB9LFxuICAgIC8vICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgIHRoaXMuJGVsLmh0bWwoXy50ZW1wbGF0ZSh0ZW1ydGVtcGwpKHsgUmVzb3VyY2VzOiBSZXNvdXJjZXMgfSkpO1xuICAgIC8vICAgICAgICB0aGlzLiQoXCIuVGV4dFwiKS5hdHRyKFwiZGF0YS1zZWNpZFwiLCB0aGlzLm9wdGlvbnMuZGF0YWlkKTtcbiAgICAvLyAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgLy8gICAgfVxuICAgIC8vfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiBmYWxzZSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7fVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnZ2xvYmFsLnZpZXcuaGVhZGVyVmlldycsIFsnYWNjZXNzJywgJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnTWVzc2FnZVZpZXcnLCAnYy9BbGVydHNWaWV3JywgJ2MvRWRnZVZpZXcnLCAnYy9CYXNrZXRWaWV3JywgJ2dsb2JhbC5yYWRpby5kaWFsb2cnXSwgZnVuY3Rpb24gKGFjYywgUmVzb3VyY2VzLCBNZXNzYWdlVmlldywgQWxlcnRzQmFyLCBFZGdlVmlldywgQmFza2V0Vmlldykge1xuXG4gICAgdmFyIGRlbW9JbmZvID0gTW4uT2JqZWN0LmV4dGVuZCh7XG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24udXJsID0gJy9hcGkvY29tbW9uLzAvJyArIHRoaXMub3B0aW9ucy5ndWlkO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGVtcGxhdGU6IGZhbHNlLFxuXG4gICAgICAgIGVsOiBcImhlYWRlclwiLFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICBjYXNlYnRuOiAnLmNhc2UtYmxvY2snLFxuICAgICAgICAgICAgY2FzZW51bTogJy5iYWRnZScsXG4gICAgICAgICAgICBsb2dvOiAnLmxvZ28nLFxuICAgICAgICAgICAgaW5mbzogJy5pbmZvLWJsb2NrJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgICdlZGdlJzogeyBlbDogJyNlZGdlJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgICdhbGVydCc6IHsgZWw6ICcuYWxlcnQtYmxvY2snLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9LFxuICAgICAgICAgICAgJ2Nhc2UnOiAnI2Nhc2Utd2luZG93J1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICBcImNsaWNrICNJbmZvREJcIjogXCJzaG93XCIsXG4gICAgICAgICAgICBcImNsaWNrICNJbmZvVXNlclwiOiBcInNob3dcIixcblxuICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCI6IFwiaGlkZVwiLFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmNhc2VidG4nOiBmdW5jdGlvbiBjbGlja1VpQ2FzZWJ0bigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnY2FzZScpLiRlbC5zaG93KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmxvZ28nOiBmdW5jdGlvbiBjbGlja1VpTG9nbygpIHtcbiAgICAgICAgICAgICAgICBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKCcnLCB7IHRyaWdnZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmluZm8nOiBmdW5jdGlvbiBjbGlja1VpSW5mbygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dEZW1vSW5mbygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShvKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudGlkID0gXCJcIjtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnVpLmNhc2VidG4uZ2V0KDApKSB0aGlzLnNob3dDaGlsZFZpZXcoJ2Nhc2UnLCBuZXcgQmFza2V0VmlldygpKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdhbGVydCcsIG5ldyBBbGVydHNCYXIoKSk7XG5cbiAgICAgICAgICAgIC8vbmV3IE9ubGluZUVkaXRvclZpZXcoKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNEZW1vKSB0aGlzLnNob3dDaGlsZFZpZXcoJ2VkZ2UnLCBuZXcgRWRnZVZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihhY2MuZGF0YS5FZGdlcykgfSkpO2Vsc2UgdGhpcy51aS5jYXNlYnRuLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIGd1aWQgPSAnRkUxOTVFNEEtQ0FBRC00OTg3LUExRTgtMjc4OEYxNzk2Rjk1JztcbiAgICAgICAgICAgIHZhciBkZW1vID0gbmV3IGRlbW9JbmZvKHsgZ3VpZDogZ3VpZCB9KTtcblxuICAgICAgICAgICAgaWYgKGFjYy5kYXRhLlBvaW50cyAmJiBhY2MuZGF0YS5Qb2ludHMuaW5kZXhPZihndWlkKSAhPT0gLTEpIGRlbW8uY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgICAgICAgICAgcmVzZXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGMsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZW1vSW5mb0NvbnRlbnQgPSBvLmRhdGFbMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVtb1RzID0gby5kYXRhWzJdLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobyAmJiBwYXJzZUludChvLmRhdGFbMF0udmFsdWUpICYmICEkLmNvb2tpZShcIkRlbW9Nb2RlX1wiICsgdGhpcy5kZW1vVHMpICYmICQudHJpbSh0aGlzLmRlbW9JbmZvQ29udGVudCkpIHRoaXMuc2hvd0RlbW9JbmZvKCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93RGVtb0luZm86IGZ1bmN0aW9uIHNob3dEZW1vSW5mbygpIHtcblxuICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gXy50ZW1wbGF0ZSgnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIDwlIGlmKGNoZWNrZWQpeyAlPmNoZWNrZWQ9XCJjaGVja2VkXCI8JSB9ICU+IGNsYXNzPVwiZy1mb3JtLS1jaGVja2JveFwiIG5hbWU9XCJkb250c2hvd1wiIGlkPVwiaGlkZW1lbm93XCI+PGxhYmVsIGZvcj1cImhpZGVtZW5vd1wiPjwlLSBSZXNvdXJjZXMubm9Nb3JlVmlldyAlPjwvbGFiZWw+Jykoe1xuICAgICAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICQuY29va2llKFwiRGVtb01vZGVfXCIgKyB0aGlzLmRlbW9UcylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZGlhbG9nID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnTm90aWZ5JykucmVxdWVzdCgnb25jZTpkaWFsb2cnLCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5pbmZvcm1hdGlvbixcbiAgICAgICAgICAgICAgICBjb250ZW50OiAkLnRyaW0odGhpcy5kZW1vSW5mb0NvbnRlbnQpID8gdGhpcy5kZW1vSW5mb0NvbnRlbnQgOiBSZXNvdXJjZXMuTixcbiAgICAgICAgICAgICAgICBmb290ZXI6IFt7IGlkOiAnY2J4JywgdGVtcGxhdGU6IGNvbnRyb2xzIH1dXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhkaWFsb2csICdkaWFsb2c6Y2xvc2VkJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZy5nZXRDaGlsZFZpZXcoJ2Zvb3RlcicpLmNoaWxkcmVuLmZpbmRCeUluZGV4KDApLiQoXCJpbnB1dFtuYW1lPSdkb250c2hvdyddXCIpLnByb3AoXCJjaGVja2VkXCIpKSAkLmNvb2tpZShcIkRlbW9Nb2RlX1wiICsgdGhpcy5kZW1vVHMsIFwibm9tb3JlXCIsIHsgZXhwaXJlczogMzAgfSk7ZWxzZSAkLmNvb2tpZShcIkRlbW9Nb2RlX1wiICsgdGhpcy5kZW1vVHMsICcnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3RoaXMuJChcIi5UZXh0XCIpLmF0dHIoXCJkYXRhLXNlY2lkXCIsIHRoaXMub3B0aW9ucy5kYXRhaWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3VXBkYXRlQ2FzZTogZnVuY3Rpb24gb25DaGlsZHZpZXdVcGRhdGVDYXNlKG51bSkge1xuXG4gICAgICAgICAgICB0aGlzLnVpLmNhc2VudW0udGV4dChudW0pO1xuXG4gICAgICAgICAgICBpZiAobnVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jYXNlYnRuLmFkZENsYXNzKCdhY3Rpb24tLWJsaW5rJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWkuY2FzZWJ0bi5yZW1vdmVDbGFzcygnYWN0aW9uLS1ibGluaycpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgMjAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudGlkKSB0aGlzLiQoXCIjXCIgKyB0aGlzLmN1cnJlbnRpZCkubmV4dChcImRpdlwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyhlKSB7XG5cbiAgICAgICAgICAgIHZhciAkYiA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3NwYW4nKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50aWQgPSAkYi5hdHRyKFwiaWRcIik7XG5cbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmFnZS5pbmRleE9mKHRoaXMuY3VycmVudGlkKSA9PT0gLTEpIHRoaXMuc3RvcmFnZS5wdXNoKHRoaXMuY3VycmVudGlkKTtcblxuICAgICAgICAgICAgJGIubmV4dChcImRpdlwiKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICBfLmVhY2godGhpcy5zdG9yYWdlLCBmdW5jdGlvbiAobikge1xuXG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IHRoaXMuY3VycmVudGlkKSB0aGlzLiQoXCIjXCIgKyBuKS5uZXh0KFwiZGl2XCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdGZWVkYmFjaycsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImctZGlhbG9nLS1oZWFkZXJcIj5cXG4gICAgICAgIDxkaXYgY2xhc3MgPVwiZy1kaWFsb2ctLXRpdGxlXCIgZGF0YS1pY29uPVwiaWNvbi1hdHRlbnRpb25cIj48JS1SZXNvdXJjZXMuYWxlcnQgJT48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnLWRpYWxvZy0tbWFuYWdlXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XCJjbG9zZVwiPjwvaT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImctZGlhbG9nLS1jb250YWluZXJcIj5cXG4gICAgICAgIDxkaXYgY2xhc3MgPVwiZy1kaWFsb2ctLWNvbnRlbnRcIj48JT0gaHRtbCAlPjwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImctZGlhbG9nLS1zaWRlYmFyXCI+PC9kaXY+XFxuICAgIDwvZGl2Pic7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctZGlhbG9nLS13cmFwcGVyJyxcblxuICAgICAgICBlbDogJyNmZWVkYmFjay1hbGVydHMtcGFuZWwnLFxuXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRlbXBsYXRlKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgXCJjbGljayAuY2xvc2VcIjogZnVuY3Rpb24gY2xpY2tDbG9zZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB3aW5kb3cuc2VuZHJlc3VsdCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd2luZG93LlNldFJlc3VsdCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd2luZG93LlNldFN1YlJlc3VsdCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd2luZG93LmNhcHRjaGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSAkLnRyaW0odGhpcy4kKFwiaW5wdXRbdHlwZT10ZXh0XVwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIHRoaXMuc2VuZCh0ZXh0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLnNob3coKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQocmVzdWx0KSB7XG5cbiAgICAgICAgICAgIHZhciByID0geyByZXN1bHQ6IHJlc3VsdCB9LFxuICAgICAgICAgICAgICAgIHNlbmRkYXRhID0geyBtb2RlbGlkOiB0aGlzLm1vZGVsLmlkLCBtb2RlbHR5cGVpZDogdGhpcy5tb2RlbC5nZXQoXCJ0eXBlaWRcIikgfTtcblxuICAgICAgICAgICAgdmFyIGh1YiA9IFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7IGNsaWVudDoge30gfSk7XG5cbiAgICAgICAgICAgIGh1Yi5zZXJ2ZXIuc2VuZE1lc3NhZ2Uociwgc2VuZGRhdGEubW9kZWxpZCwgc2VuZGRhdGEubW9kZWx0eXBlaWQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5jb2xsZWN0aW9uKSB0aGlzLm1vZGVsLmNvbGxlY3Rpb24ucmVtb3ZlKHRoaXMubW9kZWwpO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdjL0FsZXJ0c1ZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnRmVlZGJhY2snXSwgZnVuY3Rpb24gKFJlc291cmNlcywgZmVlZGJhY2tWaWV3KSB7XG5cbiAgICB2YXIgQWxlcnRDaGFubmVsID0gTW4uT2JqZWN0LmV4dGVuZCh7XG4gICAgICAgIGNoYW5uZWxOYW1lOiAnQWxlJ1xuICAgIH0pO1xuXG4gICAgbmV3IEFsZXJ0Q2hhbm5lbCgpO1xuXG4gICAgdmFyIE1lc3NhZ2VWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuICAgICAgICB0YWdOYW1lOiBcImxpXCIsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8c3Bhbj48JS0gdGl0bGUgJT48L3NwYW4+PGkgY2xhc3M9XCJlcmFzZVwiPjwvaT4nKSxcblxuICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrIHNwYW4nOiAnY2xpY2s6bWVzc2FnZSdcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJjbGljayAuZXJhc2VcIjogZnVuY3Rpb24gY2xpY2tFcmFzZShlKSB7XG5cbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5jb2xsZWN0aW9uLnJlbW92ZSh0aGlzLm1vZGVsKTtcblxuICAgICAgICAgICAgICAgIFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7IGNsaWVudDoge30gfSkuc2VydmVyLnNlbmRNZXNzYWdlKHsgcmVzdWx0OiBudWxsIH0sIHRoaXMubW9kZWwuaWQsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdTdGF0dXMnKSA9PT0gJ3JlZCcpIHRoaXMuJGVsLmFkZENsYXNzKFwiYWxlcnQtcmVkXCIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ1N0YXR1cycpID09PSAnYmx1ZScpIHRoaXMuJGVsLmFkZENsYXNzKFwiYWxlcnQtYmx1ZVwiKTtcblxuICAgICAgICAgICAgLy8g0L7RgtC60YDRi9Cy0LDQtdC8INGB0YDQsNC30YMg0YTQtdC00LHQtdC6XG4gICAgICAgICAgICB2YXIgYXBwID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnb00nKS5yZXF1ZXN0KCdnZXQ6YXBwJyk7XG4gICAgICAgICAgICBpZiAoYXBwICYmIGFwcC5UYXNrcy5pbmRleE9mKHRoaXMubW9kZWwuZ2V0KFwidGFza1VJRFwiKSkgIT09IC0xKSB0aGlzLnRyaWdnZXJNZXRob2QoJ2NsaWNrOm1lc3NhZ2UnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIG1lc3NhZ2VzTGlzdCA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3VsJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1lc3NhZ2VWaWV3LFxuXG4gICAgICAgIGVtcHR5VmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICB0YWdOYW1lOiAnbGknLFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHNwYW4+PCUtIFJlc291cmNlcy5OICU+PC9zcGFuPicpLFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcblxuICAgICAgICAgICAgdmFyIGtpbmQgPSBtLmhhcygna2luZCcpID8gbS5nZXQoXCJraW5kXCIpIDogMCxcbiAgICAgICAgICAgICAgICAvLyAwLSBtZXNzYWdlLCAxLXdhcm5pbmcsIDItZXJyb3JcbiAgICAgICAgICAgIHN0YXRlID0gbS5oYXMoJ3N0YXRlJykgPyBtLmdldChcInN0YXRlXCIpIDogJ2hvdCc7IC8vIGhvdCwgY29sZCwgZnJvemVuXG5cbiAgICAgICAgICAgIHN3aXRjaCAobS5nZXQoXCJ0eXBlaWRcIikpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgIC8vINGB0L7QvtCx0YnQtdC90LjQtSDQvtGCINGB0LjRgtC10LzRiyDQsdC10Lcg0LrQvdC+0L/QvtC6XG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KHsgXCJTdGF0dXNcIjogXCJub25lXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDRg9GC0L7Rh9C90LXQvdC40LUg0L/QviDQt9Cw0LTQsNGH0LUsINCy0YvQsdC+0YAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAvLyBjYXB0dXJlXG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KHsgXCJTdGF0dXNcIjogXCJyZWRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIC8vINC30LDQv9GA0L7RgSDQv9C+INCV0JPQoNCu0JtcbiAgICAgICAgICAgICAgICAgICAgbS5zZXQoeyBcIlN0YXR1c1wiOiBcImJsdWVcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBtLnNldCh7IFwiU3RhdHVzXCI6IFwibm9uZVwiIH0pO2JyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6bWVzc2FnZSc6ICdjbGljazptZXNzYWdlJ1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ2xpJyxcbiAgICAgICAgY2xhc3NOYW1lOiAndHJheS0taXRlbSBhbGVydC1ibG9jaycsXG5cbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxzcGFuIGNsYXNzPVwiYWxlcnRcIj48L3NwYW4+PGRpdiBjbGFzcz1cImFsZXJ0LS1jb250YWluZXJcIj48ZGl2IGNsYXNzPVwiYWxlcnQtLWhlYWRlclwiPjxpIGNsYXNzPVwiY2xvc2VcIj48L2k+PGRpdj48JT0gUmVzb3VyY2VzLnNlcnZlck1lc3NhZ2UgJT48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiYWxlcnQtLWxpc3RcIj48L2Rpdj48L2Rpdj4nKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICBidG46ICcuYWxlcnQnLFxuICAgICAgICAgICAgaGVhZGVyOiAnLmFsZXJ0LS1oZWFkZXI+ZGl2JyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJy5hbGVydC0tY29udGFpbmVyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIGxpc3Q6ICcuYWxlcnQtLWxpc3QnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjbGljayBpLmNsb3NlJzogZnVuY3Rpb24gY2xpY2tJQ2xvc2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIEB1aS5idG4nOiBmdW5jdGlvbiBjbGlja1VpQnRuKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkuY29udGFpbmVyLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbGlzdCcsIG5ldyBtZXNzYWdlc0xpc3QoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQXR0YWNoOiBmdW5jdGlvbiBvbkF0dGFjaCgpIHtcbiAgICAgICAgICAgIHRoaXMubW9uaXRvcmluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3Q2xpY2tNZXNzYWdlOiBmdW5jdGlvbiBvbkNoaWxkdmlld0NsaWNrTWVzc2FnZShyKSB7XG5cbiAgICAgICAgICAgIGlmIChyLm1vZGVsLmdldChcImh0bWxcIikpIHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5mZWVkYmFjaykgdGhpcy5mZWVkYmFjayA9IG5ldyBmZWVkYmFja1ZpZXcoeyBtb2RlbDogci5tb2RlbCB9KTtlbHNlIHRoaXMuZmVlZGJhY2subW9kZWwgPSByLm1vZGVsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mZWVkYmFjay5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSByLm1vZGVsLmNvbGxlY3Rpb24ucmVtb3ZlKHIubW9kZWwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cygpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoYywgbykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMoKTtcblxuICAgICAgICAgICAgICAgIGlmIChvLmFkZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGlja2VyIDo6IG5ldyBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV0dXJuTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVkQ29sbGVjdGlvbi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24ubW9kZWxzO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jb250YWluZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkuaGVhZGVyLmh0bWwoUmVzb3VyY2VzLmFsZXJ0TWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5idG4ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmhlYWRlci5odG1sKFJlc291cmNlcy5zZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXR1cm5NZXNzYWdlOiBmdW5jdGlvbiByZXR1cm5NZXNzYWdlKCkge1xuXG4gICAgICAgICAgICB2YXIgaHViID0gU0ouaXdjLlNpZ25hbFIuZ2V0SHViUHJveHkoJ1RpY2tlcicsIHsgY2xpZW50OiB7fSB9KTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgIGh1Yi5zZXJ2ZXIucmV0dXJuVmFsdWVTZXQoJ2FsZXJ0RGVsaXZlcnknLCBtLmdldCgnZXFJRCcpLCAnMScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9uaXRvcmluZzogZnVuY3Rpb24gbW9uaXRvcmluZygpIHtcblxuICAgICAgICAgICAgdmFyIGh1YiA9IFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7XG5cbiAgICAgICAgICAgICAgICBjbGllbnQ6IHtcblxuICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnRzOiBmdW5jdGlvbiAobWVzc2FnZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCkgdGhpcy5jb2xsZWN0aW9uLmFkZChtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcblxuICAgICAgICAgICAgICAgICAgICBhY2l0aXZlQWxlcnRzOiBmdW5jdGlvbiAoZ3VpZHMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtICYmIGd1aWRzLmluZGV4T2YobS5pZCkgPT09IC0xICYmIG0uZ2V0KFwidHlwZWlkXCIpICE9PSAtMSkgdGhpcy5jb2xsZWN0aW9uLnJlbW92ZShtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICAgICAgaGlkZUFsZXJ0czogZnVuY3Rpb24gKGlkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gdGhpcy5jb2xsZWN0aW9uLmdldChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKG0pO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJEYXRhOiBmdW5jdGlvbiB0cmFuc2ZlckRhdGEoZGF0YSwga2luZCwgd25kKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ0FsZScpLnJlcXVlc3QoJ2dldDp0cmFuc2ZlcjpkYXRhJywgeyBkYXRhOiBkYXRhLCBraW5kOiBraW5kIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlNSID4gdHJhbnNmZXIgZGF0YVwiLCB7IGRhdGE6IGRhdGEsIGtpbmQ6IGtpbmQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgcGluZzogZnVuY3Rpb24gcGluZyhtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaWNrZXIgOjogcGluZyA+PiAnLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGVudHJ5XG4gICAgICAgICAgICAvL1NKLml3Yy5TaWduYWxSLnN0YXJ0KCkuZG9uZSggZnVuY3Rpb24gKCkge30pO1xuXG4gICAgICAgICAgICB0aGlzLnNoYXJlZENvbGxlY3Rpb24gPSBuZXcgU0ouaXdjLlNoYXJlZERhdGEoXCJBbGVydE1lc3NhZ2VzXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnNoYXJlZENvbGxlY3Rpb24ub25DaGFuZ2VkKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnNldChhKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB2YXIgc2MgPSB0aGlzLnNoYXJlZENvbGxlY3Rpb24uZ2V0KCk7XG5cbiAgICAgICAgICAgIGlmIChzYyA9PT0gbnVsbCB8fCAhc2MubGVuZ3RoKSB0aGlzLnNoYXJlZENvbGxlY3Rpb24uc2V0KHRoaXMuY29sbGVjdGlvbi5tb2RlbHMpO2Vsc2UgaWYgKHNjLmxlbmd0aCkgdGhpcy5jb2xsZWN0aW9uLnNldChzYyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2dsb2JhbC52aWV3LmNvbm5lY3QnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnYWNjZXNzJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIGFjY2Vzcykge1xuXG4gICAgdmFyIGxpc3RJdGVtID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgZGVmYXVsdHM6IGZ1bmN0aW9uIGRlZmF1bHRzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIEdyb3VwQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHsgbW9kZWw6IGxpc3RJdGVtIH0pLFxuICAgICAgICBJdGVtID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICB0YWdOYW1lOiBcIm9wdGlvblwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoXCJ2YWx1ZVwiLCB0aGlzLm1vZGVsLmlkKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwoXy50ZW1wbGF0ZShcIjwlPSB0aXRsZSAlPlwiKSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHBhcmFtU2V0ID0ge1xuICAgICAgICBJbnRlcm5ldDoge1xuICAgICAgICAgICAgJ1N0YXJ0JzogeyBcImNtZFwiOiBcIndvcmtzXCIsIFwidG9cIjogXCJXb3JrR3JvdXBzXCIgfSxcbiAgICAgICAgICAgICdXb3JrR3JvdXBzJzogeyBcImNtZFwiOiBcInByb2plY3RzXCIsIFwidG9cIjogXCJQcm9qZWN0c1wiIH0sXG4gICAgICAgICAgICAnUHJvamVjdHMnOiB7IFwiY21kXCI6IFwiZGF0YXNcIiwgXCJ0b1wiOiBcIkNvbm5lY3RzXCIgfSxcbiAgICAgICAgICAgICdDb25uZWN0cyc6IHsgXCJjbWRcIjogXCJjb25uZWN0XCIgfVxuICAgICAgICB9LFxuICAgICAgICBJbnRyYW5ldDoge1xuICAgICAgICAgICAgJ1N0YXJ0JzogeyBcImNtZFwiOiBcIndvcmtzXCIsIFwidG9cIjogXCJXb3JrR3JvdXBzXCIgfSxcbiAgICAgICAgICAgICdXb3JrR3JvdXBzJzogeyBcImNtZFwiOiBcImRhdGFzXCIsIFwidG9cIjogXCJDb25uZWN0c1wiIH0sXG4gICAgICAgICAgICAnQ29ubmVjdHMnOiB7IFwiY21kXCI6IFwiY29ubmVjdFwiIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgdGVtcENvbm5lY3QgPSB7fTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnYXV0aG9yaXNhdGlvbi1ibG9jaycsXG5cbiAgICAgICAgdGVtcGxhdGU6ICcjY29ubmVjdC10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgLy9idG46ICdidXR0b24nXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICBcImNoYW5nZSBzZWxlY3RcIjogXCJnZXREYXRhXCIsXG4gICAgICAgICAgICBcImNsaWNrIEB1aS5idG46bm90KFtkYXRhLWljb249aWNvbi1sb2FkZXJdKVwiOiBcImNvbm5lY3RcIlxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgR3JvdXBDb2xsZWN0aW9uKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLk5ldFZlcnNpb24gPSBhY2Nlc3MuZGF0YS5OZXRWZXJzaW9uIHx8IFwiSW50ZXJuZXRcIjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuTmV0VmVyc2lvbiA9PT0gXCJJbnRyYW5ldFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKFwibGFiZWw6ZXEoMSlcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNQcm9qZWN0c1wiKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZmV0Y2goJ1N0YXJ0Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29sbGVjdGlvbkV2ZW50czoge1xuXG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoYykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBwYXJhbVNldFt0aGlzLk5ldFZlcnNpb25dW3RoaXMubmFtZV0udG8sXG4gICAgICAgICAgICAgICAgICAgICRvID0gdGhpcy4kKCcjJyArIG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICBjdiA9ICQuY29va2llKG5hbWUpIHx8IHRlbXBDb25uZWN0W25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGMubW9kZWxzLCBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG8uYXBwZW5kKG5ldyBJdGVtKHsgbW9kZWw6IG0gfSkucmVuZGVyKCkuZWwpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAkby52YWwoY3YpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2gobmFtZSwgY3YpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYy5sZW5ndGgpIHRoaXMudHJpZ2dlck1ldGhvZCgnY29ubmVjdDptYWRlJyk7XG4gICAgICAgICAgICAgICAgLy90aGlzLnVpLmJ0bi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLnJlbW92ZUF0dHIoJ2RhdGEtaWNvbicpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICAgICAgICAgIC8vdGhpcy50cmlnZ2VyTWV0aG9kKCdjYW46Y29ubmVjdCcpO1xuICAgICAgICAgICAgICAgIC8vdGhpcy51aS5idG4ucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKS5yZW1vdmVBdHRyKCdkYXRhLWljb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKGUpIHtcblxuICAgICAgICAgICAgdmFyIHYgPSAkKGUudGFyZ2V0KS52YWwoKSxcbiAgICAgICAgICAgICAgICBuYW1lID0gJChlLnRhcmdldCkuYXR0cihcImlkXCIpO1xuXG4gICAgICAgICAgICAkLmFqYXhTZXR1cCh7XG4gICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoJC50cmltKHYpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZldGNoKG5hbWUsIHYpO1xuICAgICAgICAgICAgICAgICQuY29va2llKG5hbWUsIHYsIHsgZXhwaXJlczogMzAsIHBhdGg6IFwiL1wiIH0pO1xuICAgICAgICAgICAgICAgIHRlbXBDb25uZWN0W25hbWVdID0gdjtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLnJlc2V0KG5hbWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChuYW1lKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJCgnIycgKyBuYW1lKS5uZXh0QWxsKFwic2VsZWN0XCIpLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgICAgICAkKGUpLmZpbmQoXCI6bm90KG9wdGlvblt2YWx1ZT0nJ10pXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKG5hbWUsIHYpIHtcblxuICAgICAgICAgICAgdmFyIHAgPSBwYXJhbVNldFt0aGlzLk5ldFZlcnNpb25dW25hbWVdO1xuXG4gICAgICAgICAgICBpZiAodikgcC5pdGVtaWQgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLiQoXCIjSW5mb1wiKS50ZXh0KFwiXCIpO1xuXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJDb25uZWN0c1wiKSB7XG5cbiAgICAgICAgICAgICAgICBwLndndGl0bGUgPSB0aGlzLiQoXCIjV29ya0dyb3VwcyBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpO1xuICAgICAgICAgICAgICAgIHAud2dpZCA9IHRoaXMuJChcIiNXb3JrR3JvdXBzXCIpLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgcC5wcmd0aXRsZSA9IHRoaXMuJChcIiNQcm9qZWN0cyBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpO1xuICAgICAgICAgICAgICAgIHAucHJnaWQgPSB0aGlzLiQoXCIjUHJvamVjdHNcIikudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBwLmRidGl0bGUgPSB0aGlzLiQoXCIjQ29ubmVjdHMgb3B0aW9uOnNlbGVjdGVkXCIpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBwLmRiaWQgPSB0aGlzLiQoXCIjQ29ubmVjdHNcIikudmFsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vdGhpcy5wYXJhbWNvbmVjdCA9IHA7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24udXJsID0gJy9hcGkvQXV0aG9yaXNlPycgKyAkLnBhcmFtKHApO1xuXG4gICAgICAgICAgICB0aGlzLnJlc2V0KG5hbWUpO1xuXG4gICAgICAgICAgICAvL3RoaXMudWkuYnRuLmFkZENsYXNzKCdkaXNhYmxlZCcpLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLWxvYWRlcicpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmZldGNoKHsgcmVzZXQ6IHRydWUgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29ubmVjdDogZnVuY3Rpb24gY29ubmVjdCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5jb2xsZWN0aW9uLmF0KDApLmdldChcInRpdGxlXCIpIHx8IFwiL1wiO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcImF1dGhvcml6ZTplbmRcIiwgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2MvQ29udGV4dE1lbnVWaWV3JywgW10sIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBpdGVtc1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPCUtIHRpdGxlICU+PGRpdiBjbGFzcz1cIl9jb250YWluZXJcIj48L2Rpdj4nKSxcblxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnaXRlbScsXG5cbiAgICAgICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHsgZWw6ICcuX2NvbnRhaW5lcicsIHJlcGxhY2VFbGVtZW50OiB0cnVlIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgJ21vdXNlb3Zlcic6IGZ1bmN0aW9uIG1vdXNlb3ZlcihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnY2hpbGQnKSAmJiB0aGlzLm1vZGVsLmdldCgnY2hpbGQnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkYyA9IHRoaXMuJCgnLmctY29udGV4dC0tY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgLSAkYy5vZmZzZXQoKS5sZWZ0IDwgJGMud2lkdGgoKSkgdGhpcy4kKCcuZy1jb250ZXh0LS1jb250YWluZXInKS5hZGRDbGFzcygncmV2ZXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayc6ICdjbGljazppdGVtJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdpY29uJykpIHRoaXMuJGVsLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLScgKyB0aGlzLm1vZGVsLmdldCgnaWNvbicpKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnc3RhdHVzJykpIHRoaXMuJGVsLmFkZENsYXNzKHRoaXMubW9kZWwuZ2V0KCdzdGF0dXMnKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ2NtZCcpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1vZGVsLmdldCgnY21kJykgPT09ICdzdHJpbmcnKSB0aGlzLiRlbC5hdHRyKCdkYXRhLWNtZCcsIHRoaXMubW9kZWwuZ2V0KCdjbWQnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1vZGVsLmdldCgnY21kJykgPT09ICdmdW5jdGlvbicpIHRoaXMuY21kID0gdGhpcy5tb2RlbC5nZXQoJ2NtZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnY2hpbGQnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFza2lkcycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2NvbnRhaW5lcicsIG5ldyBpdGVtc1ZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbih0aGlzLm1vZGVsLmdldCgnY2hpbGQnKSkgfSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLiQoJy5fY29udGFpbmVyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljazppdGVtJzogJ2NsaWNrOml0ZW0nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctY29udGV4dC0tY29udGFpbmVyJyxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrOml0ZW0nOiAnY2xpY2s6aXRlbSdcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdnLWNvbnRleHQtLW1lbnUnLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdiBjbGFzcz1cImctY29udGV4dC0tY29udGFpbmVyXCI+PC9kaXY+JyksXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgZWw6ICcuZy1jb250ZXh0LS1jb250YWluZXInLFxuICAgICAgICAgICAgICAgIHJlcGxhY2VFbGVtZW50OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdjb250YWluZXInLCBuZXcgaXRlbXNWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrOml0ZW0nOiAnbWVudTpjbGljazppdGVtJ1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9FZGl0UGFuZWxWaWV3JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGNsYXNzTmFtZTogXCJlZGl0LXBhbmVsXCIsXG4gICAgICAgIHRlbXBsYXRlOiAnI2VkaXQtcGFuZWwtdGVtcGxhdGUnLFxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwiY2xpY2sgc3Bhbjpub3QoLnNlYXJjaClcIjogZnVuY3Rpb24gY2xpY2tTcGFuTm90U2VhcmNoKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImVkaXQtcGFuZWw6YWN0aW9uXCIsICQoZS50YXJnZXQpLmNsb3Nlc3QoXCJsaVwiKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcImtleXVwIGlucHV0W25hbWU9J3J1YnJpYy1uYW1lJ11cIjogZnVuY3Rpb24ga2V5dXBJbnB1dE5hbWVSdWJyaWNOYW1lKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzIHx8ICEkLnRyaW0odGhpcy4kKFwiaW5wdXRbbmFtZT0ncnVicmljLW5hbWUnXVwiKS52YWwoKSkpIHRoaXMudHJpZ2dlcihcImVkaXQtcGFuZWw6YWN0aW9uXCIsIHRoaXMuJChcImlbbmFtZT1zZWFyY2hdXCIpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayBpLnNlYXJjaCc6IGZ1bmN0aW9uIGNsaWNrSVNlYXJjaChlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJlZGl0LXBhbmVsOmFjdGlvblwiLCB0aGlzLiQoXCJpW25hbWU9c2VhcmNoXVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZXJlOiBmdW5jdGlvbiByZXJlKCkge1xuICAgICAgICAgICAgdGhpcy4kKFwibGk6bm90KFtuYW1lPSdhZGQnXSlcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0Q3VycmVudDogZnVuY3Rpb24gc2V0Q3VycmVudChtb2RlbCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rtb2RlbCA9IG1vZGVsO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0bW9kZWwuaWQgIT09IFwiLTFcIikgdGhpcy4kKFwibGlcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO2Vsc2UgdGhpcy4kKFwibGk6bm90KFtuYW1lPSdhZGQnXSlcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG1vZGVsLmhhcyhcImlzZG9jXCIpICYmIHRoaXMuc2VsZWN0bW9kZWwuZ2V0KFwiaXNkb2NcIikpIHRoaXMuJChcImxpW25hbWU9J2FkZCddXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdmFyIHNwbCA9IHRoaXMub3B0aW9ucy51bnZpc2libGUgPyB0aGlzLm9wdGlvbnMudW52aXNpYmxlLnNwbGl0KFwiLFwiKSA6IFtdO1xuXG4gICAgICAgICAgICBfLmVhY2goc3BsLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIGlmICgkLnRyaW0oYSkpIHRoaXMuJChcIi5cIiArICQudHJpbShhKSkuaGlkZSgpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZy9maWxlcy9VcGxvYWRGaWxlVmlldycsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XG5cbiAgICB2YXIgRmlsZU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgaWRBdHRyaWJ1dGU6IFwiRmlsZVVJRFwiLFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgRmlsZVVJRDogbnVsbCxcbiAgICAgICAgICAgIEZpbGVQYXRoOiAnJyxcbiAgICAgICAgICAgIENEYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBGaWxlTmFtZTogJycsXG4gICAgICAgICAgICBGaWxlVXJsOiAnJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ltYWdlLXBhdGgnLFxuXG4gICAgICAgIHRlbXBsYXRlOiAnI2ZpbGUtdXBsb2FkLXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICBmb3JtOiAnZm9ybScsXG4gICAgICAgICAgICBmaWxlOiAnaW5wdXRbbmFtZSA9IGZpbGVUb1VwbG9hZF0nLFxuICAgICAgICAgICAgcHJvOiAnLnByb2dyZXNzJyxcbiAgICAgICAgICAgIGJhcjogJy5iYXInLFxuICAgICAgICAgICAgcGVyOiAnLnBlcmNlbnQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwiY2hhbmdlIEB1aS5maWxlXCI6IGZ1bmN0aW9uIGNoYW5nZVVpRmlsZShlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRoaXMudWkuZmlsZS52YWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmZpbGUucHJldignLmlucHV0JykudGV4dCh2KTtcblxuICAgICAgICAgICAgICAgIGlmICgkLnRyaW0odikpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbSA9IHRoaXMudWkuZmlsZS52YWwoKS5zcGxpdChcIlxcXFxcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gc2VnbVtzZWdtLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG8gPSBuYW1lLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBleCA9IHRoaXMuY29sbGVjdGlvbi5maW5kKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5nZXQoJ09yaWdpbmFsRmlsZU5hbWUnKS5pbmRleE9mKG5hbWUpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy92YXIgZXh0ID0gWydnaWYnLCAnanBlZycsICdqcGcnLCAncG5nJywgJ2JtcCddO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKGV4dC5pbmRleE9mKHBvW3BvLmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICB0aGlzLiQoXCIuYW5ici10b29sdGlwXCIpLmh0bWwoJzxzcGFuIHBvc2l0aW9uPVwiYm90dG9tXCI+PC9zcGFuPicgKyBSZXNvdXJjZXMuZXJyb3IgKyAnIEludmFsaWQgZXh0ZW5zaW9uIG9mIGZpbGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGV4ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleCkgdGhpcy51aS5mb3JtLnN1Ym1pdCgpO2Vsc2UgdGhpcy4kKFwiLmFuYnItdG9vbHRpcFwiKS5zaG93KCkuZGVsYXkoNTAwMCkuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1BY3Rpb24gPSB0aGlzLm9wdGlvbnMuZm9ybUFjdGlvbiB8fCBcIi9hcGkvY29tbW9uL3VwbG9hZC9cIjtcbiAgICAgICAgfSxcblxuICAgICAgICBpbmRpY2F0b3I6IGZ1bmN0aW9uIGluZGljYXRvcih2KSB7XG5cbiAgICAgICAgICAgIHRoaXMudWkucHJvLnNob3coKTtcbiAgICAgICAgICAgIHRoaXMudWkuYmFyLndpZHRoKHYpO1xuICAgICAgICAgICAgdGhpcy51aS5wZXIuaHRtbCh2KS5zaG93KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLnVpLmZvcm0uYXR0cihcImFjdGlvblwiLCB0aGlzLmZvcm1BY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy51aS5iYXIud2lkdGgoMCk7XG4gICAgICAgICAgICB0aGlzLnVpLnBlci5odG1sKFwiMCVcIik7XG4gICAgICAgICAgICB0aGlzLnVpLmZpbGUudmFsKCcnKTtcblxuICAgICAgICAgICAgdGhpcy51aS5mb3JtLmFqYXhGb3JtKHtcblxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3IoJzAlJyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuXG4gICAgICAgICAgICAgICAgdXBsb2FkUHJvZ3Jlc3M6IGZ1bmN0aW9uIChldmVudCwgcG9zaXRpb24sIHRvdGFsLCBwZXJjZW50Q29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3IocGVyY2VudENvbXBsZXRlICsgJyUnKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yKCcxMDAlJyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiLmFuYnItdG9vbHRpcFwiKS5odG1sKCc8c3BhbiBwb3NpdGlvbj1cImJvdHRvbVwiPjwvc3Bhbj4nICsgUmVzb3VyY2VzLmVycm9yICsgJyBTZXJ2ZXIgZXJycm9yLicpLnNob3coKS5kZWxheSg1MDAwKS5mYWRlT3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25GaW5hbCgpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcblxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeGhyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5tYXAoeGhyLnJlc3BvbnNlSlNPTiwgZnVuY3Rpb24gKHBhdGgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguaW5kZXhPZignZXJyb3InKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIuYW5ici10b29sdGlwXCIpLmh0bWwoJzxzcGFuIHBvc2l0aW9uPVwiYm90dG9tXCI+PC9zcGFuPicgKyBwYXRoLnJlcGxhY2UoJ2Vycm9yJywgJycpKS5zaG93KCkuZGVsYXkoNTAwMCkuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25GaW5hbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5hbmJyLXRvb2x0aXBcIikuaHRtbCgnPHNwYW4gcG9zaXRpb249XCJib3R0b21cIj48L3NwYW4+JyArIHBhdGguTWVzc2FnZSkuc2hvdygpLmRlbGF5KDUwMDApLmZhZGVPdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRmluYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWdtID0gcGF0aC5zcGxpdChcIlxcL1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gc2VnbVtzZWdtLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBsYXN0LnN1YnN0cihsYXN0LmluZGV4T2YoJ18nKSArIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1aWQgPSBsYXN0LnNwbGl0KFwiX1wiKVswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gbmV3IEZpbGVNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVVJRDogZnVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlUGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlVXJsOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVOYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9yaWdpbmFsRmlsZU5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uYWRkKG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5maWxlLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5pbnB1dFwiKS50ZXh0KFJlc291cmNlcy5zZWxGaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRmluYWwoKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uRmluYWw6IGZ1bmN0aW9uIG9uRmluYWwoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJhci53aWR0aCgwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnBlci5odG1sKFwiMCVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5wcm8uaGlkZSgpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZy9JbWFnZUdhbGxlcnlWaWV3JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2cvZmlsZXMvVXBsb2FkRmlsZVZpZXcnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgdXBsb2FkVmlldykge1xuXG4gICAgdmFyIGZpbGVNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7IGlkQXR0cmlidXRlOiBcIkZpbGVVSURcIiB9KTtcblxuICAgIHZhciBsaXN0RmlsZXMgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ltYWdlLWdhbGxlcnknLFxuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG5cbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8aSBkYXRhLWljb249XCJpY29uLXRyYXNoXCI+PC9pPjxpbWcgc3JjPVwiPCUtIEZpbGVVcmwgJT5cIiBhbHQ9XCJcIiB0aXRsZT1cIjwlLSBPcmlnaW5hbEZpbGVOYW1lICU+XCIgIC8+JyksXG5cbiAgICAgICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgJ2NsaWNrIGlbZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiXSc6IGZ1bmN0aW9uIGNsaWNrSURhdGFJY29uSWNvblRyYXNoKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIEJhY2tib25lLnRyaWdnZXIoXCJtZXNzYWdlOmNvbmZpcm1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5hc2t5b3VzdXJlLCBtZXNzYWdlOiBSZXNvdXJjZXMuY29uZmlybURlbGV0ZUltZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ4OiBmdW5jdGlvbiBmeCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHg6IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICdjbGljayBpbWcnOiBmdW5jdGlvbiBjbGlja0ltZygpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMubW9kZWwuY29sbGVjdGlvbi5maW5kV2hlcmUoeyBzZWxlY3Q6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtKSBtLnNldCgnc2VsZWN0JywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdzZWxlY3QnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdjaGFuZ2U6aXRlbScsIHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgICAgICdjaGFuZ2U6c2VsZWN0JzogZnVuY3Rpb24gY2hhbmdlU2VsZWN0KG0sIHYpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodikgdGhpcy4kZWwuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7ZWxzZSB0aGlzLiRlbC5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ3NlbGVjdCcpKSB0aGlzLiRlbC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG5cbiAgICAgICAgY2hpbGRWaWV3T3B0aW9uczogZnVuY3Rpb24gY2hpbGRWaWV3T3B0aW9ucyhtKSB7XG4gICAgICAgICAgICBtLnNldCgnc2VsZWN0JywgbS5nZXQoJ0ZpbGVVcmwnKSA9PT0gdGhpcy5vcHRpb25zLnNlbGVjdCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjaGFuZ2U6aXRlbSc6ICdjaGFuZ2U6aXRlbSdcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ltYWdlLWdhbGxlcnktd3JhcHBlcicsXG5cbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxkaXYgY2xhc3M9XCJpbWFnZS1wYXRoXCI+PC9kaXY+PGRpdiBjbGFzcz1cImltYWdlLWdhbGxlcnlcIj48L2Rpdj4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBsaXN0OiB7IGVsOiAnLmltYWdlLWdhbGxlcnknLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9LFxuICAgICAgICAgICAgcGF0aDogeyBlbDogJy5pbWFnZS1wYXRoJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFtdLCB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IGZpbGVNb2RlbCxcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yOiBmdW5jdGlvbiBjb21wYXJhdG9yKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1uZXcgRGF0ZShtLmdldCgnQ0RhdGUnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi51cmwgPSBcIi9hcGkvY29tbW9uL2ZpbGVzL1wiO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygncGF0aCcsIG5ldyB1cGxvYWRWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbGlzdCcsIG5ldyBsaXN0RmlsZXMoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24sIHNlbGVjdDogdGhpcy5vcHRpb25zLnNlbGVjdGVkSW1nUGF0aCB9KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjaGFuZ2U6aXRlbSc6ICdjaGFuZ2U6aXRlbSdcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9TaW1wbGVUYWJsZVZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnYy9Db250ZXh0TWVudVZpZXcnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgY29udGV4dE1lbnUpIHtcblxuICAgIC8qXHJcbiAgICAgICB2YXIgaGVhZENvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbXHJcbiAgICAgICAgICAgICAgICB7IGlkOiAwLCB0aXRsZTogUmVzb3VyY2VzLnRpdGxlLCB3aWR0aDogJzY1JScgfSxcclxuICAgICAgICAgICAgICAgIHsgaWQ6IDEsIHRpdGxlOiBSZXNvdXJjZXMuc3RhdHVzLCB3aWR0aDogJzEwJScgfSxcclxuICAgICAgICAgICAgICAgIHsgaWQ6IDIsIHRpdGxlOiBSZXNvdXJjZXMuZXhlY3V0aW9uLCB3aWR0aDogJzI1JScgfVxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgIHZhciByb3dUZW1wbGF0ZSA9ICc8dGQ+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2gtPCUtIGlkICU+XCIgY2xhc3M9XCJnLWZvcm0tLWNoZWNrYm94XCI+PGxhYmVsIGZvcj1cImNoLTwlLSBpZCAlPlwiPjwlLSB0aXRsZSAlPjwvbGFiZWw+PC90ZD48dGQ+PHNwYW4gY2xhc3M9XCJmb250LWljb24gZm9udC1pY29uLTwlLSBzdGF0dXMgJT5cIj48L3NwYW4+PC90ZD48dGQ+PCUtIHN0YXRlICU+PHNwYW4gY2xhc3M9XCJhbmJyLXRvb2x0aXBcIj48JS0gZGV0YWlscyAlPjwvc3Bhbj48L3RkPic7XHJcbiAgICAgICAgIHZhciBtZW51Q29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFtcclxuICAgICAgIHtcclxuICAgICAgICAgICB0aXRsZTogUmVzb3VyY2VzLnJ1bmFnYWluLCBpY29uOiAnbmV4dCcsICdkYXRhLWlkJzogXCJFQTkzMjM3My0zNjQ3LTQ3MUEtODdDMS1EREI1NjY1N0ZFQkNcIixcclxuICAgICAgICAgICBjbWQ6IGZ1bmN0aW9uIChtb2RlbHMpIHtcclxuICAgICAgICAgICAgICAgJC5nZXQoJy9hcGkvaW50ZXJlc3RPYmplY3RzL2lucHV0L2lkJyArIG1vZGVsc1swXS5pZCkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnb00nKS5yZXF1ZXN0KCdsb2FkOmZvcm0nLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgIEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ3NpZGUnKS5yZXF1ZXN0KCdnZXQ6c2lkZWJhcicpLnRvZ2dsZUV4cGFuZGVkKCk7XHJcbiAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH0sXHJcbiAgICAgICB7XHJcbiAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5hZGRiYXNrZXQsIGljb246ICdjYXNlJywgJ2RhdGEtaWQnOiBcIkI3Nzg3ODg2LUFGMEUtNEI1QS05MDYxLTQ5QjE4MjIwMEI4Q1wiLFxyXG4gICAgICAgICAgIGNtZDogZnVuY3Rpb24gKG1vZGVscywgbSkge1xyXG4gICAgICAgICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKFwiYmFza2V0OmFkZFwiLCBfLnBsdWNrKG1vZGVscywgJ2lkJykpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH0sXHJcbiAgICAgICB7XHJcbiAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5jaHN0YSwgaWNvbjogJ3N0YXR1cycsICdkYXRhLWlkJzogXCI3NDYwRTU2Ri02MkJELTRDOUQtQThFNS01QjY0MzczQzUxMzFcIixcclxuICAgICAgICAgICBjaGlsZDogW1xyXG4gICAgICAgICAgICAgICB7IGlkOiAxLCBpY29uOiAnaW53b3JrJywgdGl0bGU6IFJlc291cmNlcy53b3JraW5nLCBjbWQ6IGNoYW5nZVN0YXR1cyB9LFxyXG4gICAgICAgICAgICAgICB7IGlkOiAyLCBpY29uOiAnZmluaXNoZWQnLCB0aXRsZTogUmVzb3VyY2VzLmZmLCBjbWQ6IGNoYW5nZVN0YXR1cyB9LFxyXG4gICAgICAgICAgICAgICB7IGlkOiAzLCBpY29uOiAnY2xvY2snLCB0aXRsZTogUmVzb3VyY2VzLnRtLCBjbWQ6IGNoYW5nZVN0YXR1cyB9LFxyXG4gICAgICAgICAgICAgICB7IGlkOiA0LCBpY29uOiAnYXJjaGl2ZScsIHRpdGxlOiBSZXNvdXJjZXMuYXIsIGNtZDogY2hhbmdlU3RhdHVzIH1cclxuICAgICAgICAgICBdXHJcbiAgICAgICB9KTtcclxuICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdsaXN0JywgbmV3IHRhYmxlVmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgcm93VGVtcGxhdGU6IHJvd1RlbXBsYXRlLCBoZWFkOiBoZWFkQ29sbGVjdGlvbiwgbWVudUNvbGxlY3Rpb246IG1lbnVDb2xsZWN0aW9uIH0pKTtcclxuICAgICovXG5cbiAgICB2YXIgUEFHRV9TSVpFID0gMzA7XG5cbiAgICB2YXIgaGVhZFZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRhZ05hbWU6ICd0cicsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIHRhZ05hbWU6ICd0aCcsXG5cbiAgICAgICAgICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnc3ViVGVtcGxhdGUnKSkgcmV0dXJuIF8udGVtcGxhdGUodGhpcy5tb2RlbC5nZXQoJ3N1YlRlbXBsYXRlJykpO2Vsc2UgcmV0dXJuIF8udGVtcGxhdGUoJzwlLSB0aXRsZSAlPicpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpKSB0aGlzLiRlbC53aWR0aCh0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2sgaW5wdXRbdHlwZT1jaGVja2JveF0gfiBsYWJlbDpub3QoLmRpc2FibGVkKSc6ICdjbGljazpoZWFkOmlucHV0J1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgZm9vdFZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RyJyxcbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzx0ZCBjb2xzcGFuPVwiPCUtIGNvbHNwYW4gJT5cIj48ZGl2IGNsYXNzPVwicGFnaW5nLWJveFwiPjxkaXYgY2xhc3M9XCJwYWdpbmF0b3JcIj48L2Rpdj48ZGl2IGNsYXNzPVwicGFnaW5hdG9yX3BhZ2VzXCI+PCUtIHRpdGxlUGFnZXMgJT46IDxzcGFuPjwlLSB0b3RhbFBhZ2VzICU+PC9zcGFuPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnVcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6bm9uZTt6LWluZGV4OjEwMDtcIj48L2Rpdj48L3RkPicpLFxuXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgdGl0bGVQYWdlczogUmVzb3VyY2VzLlBhZ2VzMlxuICAgICAgICB9LFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICBtZW51OiAnLmNvbnRleHQtbWVudScsXG4gICAgICAgICAgICBib3g6ICcucGFnaW5nLWJveCdcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBtZW51OiAnQHVpLm1lbnUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwibW91c2VlbnRlciBAdWkubWVudVwiOiBmdW5jdGlvbiBtb3VzZWVudGVyVWlNZW51KGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLm1lbnUuY2xlYXJRdWV1ZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgXCJtb3VzZWxlYXZlIEB1aS5tZW51XCI6IGZ1bmN0aW9uIG1vdXNlbGVhdmVVaU1lbnUoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkubWVudS5kZWxheSgzMDApLmhpZGUoMTAwKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFwiY2xpY2sgQHVpLmJveCBhXCI6IGZ1bmN0aW9uIGNsaWNrVWlCb3hBKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwicGFnZTpzZWxlY3RcIiwgJChlLnRhcmdldCkudGV4dCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ21lbnU6Y2xpY2s6aXRlbSc6ICdtZW51OmNsaWNrOml0ZW0nXG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgJ2NoYW5nZTpjdXJyZW50UGFnZSc6IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnRQYWdlKG0sIHYpIHtcblxuICAgICAgICAgICAgICAgIC8vdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTp0b3RhbFBhZ2VzJzogZnVuY3Rpb24gY2hhbmdlVG90YWxQYWdlcyhtLCB2KSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQodikgPD0gMSkgdGhpcy51aS5ib3guaGlkZSgpO2Vsc2UgdGhpcy51aS5ib3guc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy51aS5ib3guaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdtZW51JywgbmV3IGNvbnRleHRNZW51KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcblxuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLm1vZGVsO1xuXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQobS5nZXQoJ3RvdGFsUGFnZXMnKSkgPiAxKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJveC5zaG93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kKCcucGFnaW5hdG9yX3BhZ2VzPnNwYW4nKS50ZXh0KG0uZ2V0KCd0b3RhbFBhZ2VzJykpO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSAncGFnaW5hdG9yXycgKyB0aGlzLmNpZDtcbiAgICAgICAgICAgICAgICB0aGlzLiQoJy5wYWdpbmF0b3InKS5hdHRyKCdpZCcsIG5hbWUpO1xuICAgICAgICAgICAgICAgIG5ldyBQYWdpbmF0b3IobmFtZSwgbS5nZXQoJ3RvdGFsUGFnZXMnKSwgbS5nZXQoJ3BhZ2VTaXplJyksIG0uZ2V0KCdjdXJyZW50UGFnZScpKTtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLnVpLmJveC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByb3dzVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3Rib2R5JyxcblxuICAgICAgICBlbXB0eVZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRhZ05hbWU6ICd0cicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHRkIGNvbHNwYW49XCI8JS0gY29sc3BhbiAlPlwiPjwlLSB0aXRsZSAlPjwvdGQ+JylcbiAgICAgICAgfSksXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIHRhZ05hbWU6ICd0cicsXG5cbiAgICAgICAgICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLm9wdGlvbnMucm93VGVtcGxhdGUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZXh0OiBmdW5jdGlvbiB0ZW1wbGF0ZUNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3V0cHV0LCB0aGlzLm9wdGlvbnMucm93T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgLy8nY2xpY2sgaW5wdXRbdHlwZT1jaGVja2JveF0gfiBsYWJlbDpub3QoLmRpc2FibGVkKSc6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgLy90aGlzLm1vZGVsLnNldCgnY2hlY2tlZCcsICF0aGlzLiQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcpKTtcbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NoZWNrOnJvd3M6Zm9yOmhlYWQnKTtcbiAgICAgICAgICAgICAgICAvL30sXG5cbiAgICAgICAgICAgICAgICBcIm1vdXNlbGVhdmVcIjogZnVuY3Rpb24gbW91c2VsZWF2ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwiaGlkZTptZW51XCIpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBcImNsaWNrIGJ1dHRvbi5tZW51XCI6IGZ1bmN0aW9uIGNsaWNrQnV0dG9uTWVudShlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKFwidWktc2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnbWVudTpzaG93JywgdGhpcy5tb2RlbCwgJChlLnRhcmdldCkuY2xvc2VzdChcImJ1dHRvblwiKSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICdjbGljayBhJzogZnVuY3Rpb24gY2xpY2tBKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgLy8nY2xpY2snOiAnY2xpY2s6cm93OnRhYmxlJyxcbiAgICAgICAgICAgICAgICAnY2hhbmdlIGlucHV0JzogJ2NoYW5nZTppbnB1dDpyb3cnLFxuICAgICAgICAgICAgICAgICdjbGljayAqW2RhdGEtY21kXSc6ICdjbGljazpyb3c6Y21kOml0ZW0nXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBtb2RlbEV2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UobSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ21vZGVsOmNoYW5nZWQnLCBtKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ2NoZWNrZWQnKSkgdGhpcy4kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnLCB0aGlzLm1vZGVsLmdldCgnY2hlY2tlZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KSxcblxuICAgICAgICBlbXB0eVZpZXdPcHRpb25zOiBmdW5jdGlvbiBlbXB0eVZpZXdPcHRpb25zKG0pIHtcbiAgICAgICAgICAgIG0uc2V0KHsgJ2NvbHNwYW4nOiB0aGlzLm9wdGlvbnMuY29sc3BhbiwgdGl0bGU6IFJlc291cmNlcy5OIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld09wdGlvbnM6IGZ1bmN0aW9uIGNoaWxkVmlld09wdGlvbnMoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJvd1RlbXBsYXRlOiB0aGlzLm9wdGlvbnMucm93VGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgcm93T3B0aW9uczogdGhpcy5vcHRpb25zLnJvd09wdGlvbnMsXG4gICAgICAgICAgICAgICAgY29sc3BhbjogdGhpcy5vcHRpb25zLmNvbHNwYW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgIC8vJ2NsaWNrOnJvdzp0YWJsZSc6ICdjbGljazpyb3c6dGFibGUnLFxuICAgICAgICAgICAgJ2NoYW5nZTppbnB1dDpyb3cnOiAnY2hhbmdlOmlucHV0OnJvdycsXG4gICAgICAgICAgICAnY2xpY2s6cm93OmNtZDppdGVtJzogJ2NsaWNrOnJvdzpjbWQ6aXRlbScsXG4gICAgICAgICAgICAnbW9kZWw6Y2hhbmdlZCc6ICdtb2RlbDpjaGFuZ2VkJyxcbiAgICAgICAgICAgICdtZW51OnNob3cnOiAnbWVudTpzaG93JyxcbiAgICAgICAgICAgICdoaWRlOm1lbnUnOiAnaGlkZTptZW51JyxcbiAgICAgICAgICAgICdjaGVjazpyb3dzOmZvcjpoZWFkJzogJ2NoZWNrOnJvd3M6Zm9yOmhlYWQnXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RhYmxlJyxcbiAgICAgICAgY2xhc3NOYW1lOiAndGFibGUgdGFibGUtaG92ZXInLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHRoZWFkPjx0cj48L3RyPjwvdGhlYWQ+PHRib2R5PjwvdGJvZHk+PHRmb290PjwvdGZvb3Q+JyksXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgaGVhZDogeyBlbDogJ3RoZWFkIHRyJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIGJvZHk6IHsgZWw6ICd0Ym9keScsIHJlcGxhY2VFbGVtZW50OiB0cnVlIH0sXG4gICAgICAgICAgICBmb290OiAndGZvb3QnXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhlYWQpIHRoaXMuc2hvd0NoaWxkVmlldygnaGVhZCcsIG5ldyBoZWFkVmlldyh7IGNvbGxlY3Rpb246IHRoaXMub3B0aW9ucy5oZWFkIH0pKTtcblxuICAgICAgICAgICAgdmFyIGNvbHNwYW4gPSAkKHRoaXMub3B0aW9ucy5yb3dUZW1wbGF0ZSkuc2l6ZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2JvZHknLCBuZXcgcm93c1ZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24sIHJvd1RlbXBsYXRlOiB0aGlzLm9wdGlvbnMucm93VGVtcGxhdGUsIHJvd09wdGlvbnM6IHRoaXMub3B0aW9ucy5yb3dPcHRpb25zLCBjb2xzcGFuOiBjb2xzcGFuIH0pKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdmb290JywgbmV3IGZvb3RWaWV3KHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiB0aGlzLm9wdGlvbnMubWVudUNvbGxlY3Rpb24gfHwgbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKSxcbiAgICAgICAgICAgICAgICBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiBQQUdFX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IGNvbHNwYW4sXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29sbGVjdGlvbkV2ZW50czoge1xuXG4gICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShjLCBvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCd0YWJsZTpjb2xsZWN0aW9uOnVwZGF0ZScsIGMsIG8pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCd0YWJsZTpjb2xsZWN0aW9uOnJlc2V0JywgdGhpcy5jb2xsZWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFJlZ2lvbignaGVhZCcpLmhhc1ZpZXcoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbGFnID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2hlYWQnKS4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHRoaXMuY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtLnNldCgnY2hlY2tlZCcsIGZsYWcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcGcgPSB0aGlzLmNvbGxlY3Rpb24uZ2V0KDApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnJlbW92ZShwZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2VTaXplID0gcGcuZ2V0KCdwYWdlU2l6ZScpIHx8IFBBR0VfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UgPSBwZy5nZXQoJ3BhZ2UnKSB8fCBwYXJzZUludCh0aGlzLmN1cnJlbnRQYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwocGcuZ2V0KCdudW0nKSAvIHBhZ2VTaXplKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgdG90YWxQYWdlcyA9IDA7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnZm9vdCcpLm1vZGVsLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IHRvdGFsUGFnZXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdmb290JykucmVuZGVyKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7fVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2hhbmdlOmlucHV0OnJvdyc6ICdjaGFuZ2U6aW5wdXQ6cm93JyxcbiAgICAgICAgICAgIC8vJ2NsaWNrOnJvdzp0YWJsZSc6ICdjbGljazpyb3c6dGFibGUnLFxuICAgICAgICAgICAgJ2NsaWNrOnJvdzpjbWQ6aXRlbSc6ICd0YWJsZTpyb3c6Y21kJyxcbiAgICAgICAgICAgICdtb2RlbDpjaGFuZ2VkJzogJ3RhYmxlOnJvdzptb2RlbDpjaGFuZ2VkJ1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3UGFnZVNlbGVjdDogZnVuY3Rpb24gb25DaGlsZHZpZXdQYWdlU2VsZWN0KHBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgncGFnZTpzZWxlY3QnLCBwYWdlLCB0aGlzLmNvbGxlY3Rpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld0V2ZW50czoge1xuXG4gICAgICAgICAgICAnY2xpY2s6aGVhZDppbnB1dCc6IGZ1bmN0aW9uIGNsaWNrSGVhZElucHV0KHYpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGkgPSB2LiQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJyk7XG4gICAgICAgICAgICAgICAgJGkucHJvcCgnY2hlY2tlZCcsICEkaS5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KCdjaGVja2VkJywgJGkucHJvcCgnY2hlY2tlZCcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjaGVjazpyb3dzOmZvcjpoZWFkJzogZnVuY3Rpb24gY2hlY2tSb3dzRm9ySGVhZCgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRSZWdpb24oJ2hlYWQnKS5oYXNWaWV3KCkpIGlmICh0aGlzLmNvbGxlY3Rpb24ud2hlcmUoeyBjaGVja2VkOiB0cnVlIH0pLmxlbmd0aCA9PT0gdGhpcy5jb2xsZWN0aW9uLmxlbmd0aCkgdGhpcy5nZXRDaGlsZFZpZXcoJ2hlYWQnKS4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7ZWxzZSB0aGlzLmdldENoaWxkVmlldygnaGVhZCcpLiQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnbWVudTpjbGljazppdGVtJzogZnVuY3Rpb24gbWVudUNsaWNrSXRlbSh2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ2Zvb3QnKS5nZXRDaGlsZFZpZXcoJ21lbnUnKS4kZWwucGFyZW50KFwiZGl2XCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodi5jbWQpIHYuY21kLmNhbGwodGhpcywgdGhpcy5tb2RlbHNTZWxlY3RlZCwgdi5tb2RlbCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnaGlkZTptZW51JzogZnVuY3Rpb24gaGlkZU1lbnUoKSB7XG4gICAgICAgICAgICAgICAgdmFyICRtID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2Zvb3QnKS5nZXRDaGlsZFZpZXcoJ21lbnUnKS4kZWwucGFyZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBpZiAoJG0uaXMoXCI6dmlzaWJsZVwiKSkgJG0uZGVsYXkoMzAwKS5oaWRlKDEwMCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnbWVudTpzaG93JzogZnVuY3Rpb24gbWVudVNob3cobSwgJGIpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtZW51ID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2Zvb3QnKS5nZXRDaGlsZFZpZXcoJ21lbnUnKSxcbiAgICAgICAgICAgICAgICAgICAgYyA9IHRoaXMubW9kZWxzU2VsZWN0ZWQgfHwgW107XG5cbiAgICAgICAgICAgICAgICBpZiAoIV8uZmluZFdoZXJlKGMsIHsgaWQ6IG0uaWQgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbHNTZWxlY3RlZCA9IFttXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwidHIudWktc2VsZWN0ZWRcIikucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1lbnUuY29sbGVjdGlvbiB8fCAhbWVudS5jb2xsZWN0aW9uLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgdmFyICRtID0gbWVudS4kZWwucGFyZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgICAgICAgICBwb3MgPSAkYi5wb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBwb3MudG9wLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gcG9zLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgIGR3ID0gJCh3aW5kb3cpLndpZHRoKCkgLSAkbS53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgJG0uY2xlYXJRdWV1ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5sZWZ0ICsgJG0ud2lkdGgoKSA+IGR3KSBsZWZ0ID0gZHcgLSAkbS53aWR0aCgpIC0gKCQoJ2JvZHknKS5oYXNDbGFzcygnbHMtb24nKSA/IDEyMCA6IDUpO1xuXG4gICAgICAgICAgICAgICAgJG0uY3NzKHsgJ3RvcCc6IHRvcCwgJ2xlZnQnOiBsZWZ0IH0pLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLmdyaWQuZGF0YUl0ZW1zVmlldycsIFsnYXBwJywgJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnYy9Db250ZXh0TWVudVZpZXcnXSwgZnVuY3Rpb24gKEFwcCwgUmVzb3VyY2VzLCBjb250ZXh0TWVudSkge1xuXG4gICAgdmFyIEl0ZW1Nb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGlkQXR0cmlidXRlOiBcIm9iamVjdF9pZFwiXG4gICAgfSk7XG5cbiAgICB2YXIgSXRlbXNDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgICAgICBtb2RlbDogSXRlbU1vZGVsXG4gICAgfSk7XG5cbiAgICB2YXIgcGFnaW5nVmlldyA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdwYWdpbmctYm94JyxcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdiBjbGFzcz1cInBhZ2luYXRvclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwYWdpbmF0b3JfcGFnZXNcIj48JS0gUmVzb3VyY2VzLlBhZ2VzMiAlPjogPHNwYW4+PCUtIHRvdGFsUGFnZXMgJT48L3NwYW4+PC9kaXY+JyksXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIFwiY2xpY2sgYVwiOiBmdW5jdGlvbiBjbGlja0EoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJwYWdlOnNlbGVjdFwiLCAkKGUudGFyZ2V0KS50ZXh0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uQXR0YWNoOiBmdW5jdGlvbiBvbkF0dGFjaCgpIHtcblxuICAgICAgICAgICAgdmFyIG5hbWUgPSAncGFnaW5hdG9yXycgKyB0aGlzLmNpZDtcblxuICAgICAgICAgICAgdGhpcy4kKCcucGFnaW5hdG9yJykuYXR0cignaWQnLCBuYW1lKTtcblxuICAgICAgICAgICAgbmV3IFBhZ2luYXRvcihuYW1lLCB0aGlzLm1vZGVsLmdldCgndG90YWxQYWdlcycpLCB0aGlzLm1vZGVsLmdldCgncGFnaW5nJykucGFnZVNpemUsIHRoaXMubW9kZWwuZ2V0KCdwYWdpbmcnKS5jdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBjb2xWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuICAgICAgICB0YWdOYW1lOiAndGgnLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPCUtIGRpc3BsYXlOYW1lICU+JylcbiAgICB9KTtcblxuICAgIHZhciBmb290ZXJWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRhZ05hbWU6ICd0cicsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8dGQgY29sc3Bhbj1cIjwlLSBudW1Db2xzICU+XCI+PGRpdiBjbGFzcz1cImNvbnRleHQtbWVudVwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lO3otaW5kZXg6MTAwO1wiPjwvZGl2PjwvdGQ+JyksXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgbWVudTogJy5jb250ZXh0LW1lbnUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIG1lbnU6ICcuY29udGV4dC1tZW51J1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdtZW51JywgbmV3IGNvbnRleHRNZW51KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJtb3VzZWVudGVyIC5jb250ZXh0LW1lbnVcIjogZnVuY3Rpb24gbW91c2VlbnRlckNvbnRleHRNZW51KGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLm1lbnUuY2xlYXJRdWV1ZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgXCJtb3VzZWxlYXZlIC5jb250ZXh0LW1lbnVcIjogZnVuY3Rpb24gbW91c2VsZWF2ZUNvbnRleHRNZW51KGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLm1lbnUuZGVsYXkoMzAwKS5oaWRlKDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgIFwiaGlkZTptZW51XCI6ICdoaWRlOm1lbnUnLFxuICAgICAgICAgICAgJ21lbnU6Y2xpY2s6aXRlbSc6ICdtZW51OmNsaWNrOml0ZW0nXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBoZWFkVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RyJyxcblxuICAgICAgICBjaGlsZFZpZXc6IGNvbFZpZXcsXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkVmlldyhuZXcgY29sVmlldyh7IG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoeyBkaXNwbGF5TmFtZTogXCLihJZcIiB9KSB9KSwgMCk7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkVmlldyhuZXcgY29sVmlldyh7IG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoeyBkaXNwbGF5TmFtZTogXCJcIiB9KSB9KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByb3dWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRhZ05hbWU6ICd0cicsXG5cbiAgICAgICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFRlbXBsYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIF8udGVtcGxhdGUodGhpcy5vcHRpb25zLmJvZHlUZW1wbGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAnbW91c2VsZWF2ZSc6ICdoaWRlOm1lbnUnLFxuICAgICAgICAgICAgJ2NvbnRleHRtZW51IHRkJzogJ21lbnU6c2hvdycsXG4gICAgICAgICAgICAnY2xpY2sgYnV0dG9uLmJ0bi1saW5rJzogJ21lbnU6c2hvdycsXG4gICAgICAgICAgICAnY2xpY2sgdGQnOiAncm93OmNvbDp0cmlnZ2VyJyxcbiAgICAgICAgICAgICdjbGljayBhJzoge1xuICAgICAgICAgICAgICAgIGV2ZW50OiAnY2xpY2s6bGluaycsXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuZGF0YShcImlkXCIsIHRoaXMubW9kZWwuaWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vZGVsRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwiY2hhbmdlOlN0YXRlXCI6IGZ1bmN0aW9uIGNoYW5nZVN0YXRlKG0sIHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCJ0ZFtkYXRhLW5hbWU9J3N0YXRlJ11cIikudGV4dCh2KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgYm9keVZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRhZ05hbWU6ICd0Ym9keScsXG5cbiAgICAgICAgY2hpbGRWaWV3OiByb3dWaWV3LFxuXG4gICAgICAgIGVtcHR5VmlldzogTW4uVmlldy5leHRlbmQoe1xuICAgICAgICAgICAgdGFnTmFtZTogJ3RyJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2luZm8nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzx0ZCBjb2xzcGFuPVwiMTIwXCI+JyArIFJlc291cmNlcy5ub2RhdGEgKyAnPC90ZD4nKVxuICAgICAgICB9KSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcImNoYW5nZTpjb2xsZWN0aW9uXCIsIHRoaXMuY29sbGVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3T3B0aW9uczogZnVuY3Rpb24gY2hpbGRWaWV3T3B0aW9ucyhtb2RlbCwgaW5kZXgpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1c3NldCA9IFtcIlwiLCBcImdyZWVuXCIsIFwieWVsbG93XCIsIFwicmVkXCIsIFwiZ3JleVwiXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzZXQgPSBbXCJcIiwgUmVzb3VyY2VzLndvcmtpbmcsIFJlc291cmNlcy5mZiwgUmVzb3VyY2VzLnRtLCBSZXNvdXJjZXMuYXJdLFxuICAgICAgICAgICAgICAgICAgICBwYWdlID0gcGFyc2VJbnQodGhpcy5vcHRpb25zLnBhZ2luYXRpb24uY3VycmVudFBhZ2UpICogdGhpcy5vcHRpb25zLnBhZ2luYXRpb24ucGFnZVNpemUgLSB0aGlzLm9wdGlvbnMucGFnaW5hdGlvbi5wYWdlU2l6ZSArIDE7XG5cbiAgICAgICAgICAgICAgICBtb2RlbC5zZXQoe1xuICAgICAgICAgICAgICAgICAgICBcIk51bVwiOiBpbmRleCArIHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIFN0YXR1c0ljb246IHN0YXR1c3NldFttb2RlbC5nZXQoXCJzdGF0dXNcIildLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVzZXRbbW9kZWwuZ2V0KFwic3RhdGVcIildXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IGJvZHlUZW1wbGF0ZTogdGhpcy5vcHRpb25zLmJvZHlUZW1wbGF0ZSB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQXR0YWNoOiBmdW5jdGlvbiBvbkF0dGFjaCgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWwuc2VsZWN0YWJsZSh7XG4gICAgICAgICAgICAgICAgY2FuY2VsOiBcImEsIGJ1dHRvbi5idG4tbGluaywgc3BhblwiLFxuICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5maW5kKFwidHIudWktc2VsZWN0ZWRcIikuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHRoaXMuY29sbGVjdGlvbi5nZXQoJChlKS5kYXRhKFwiaWRcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJzdG9wOnNlbGVjdGFibGVcIiwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ21lbnU6c2hvdyc6ICdtZW51OnNob3cnLFxuICAgICAgICAgICAgJ3Jvdzpjb2w6dHJpZ2dlcic6ICdyb3c6Y29sOnRyaWdnZXInLFxuICAgICAgICAgICAgJ2NsaWNrOmxpbmsnOiAnY2xpY2s6bGluaydcblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdGFibGVWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRhZ05hbWU6ICd0YWJsZScsXG5cbiAgICAgICAgY2xhc3NOYW1lOiAndGFibGUgaW5xdWlyeSB0YWJsZS1ob3ZlciBsaXN0JyxcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHRoZWFkPjwvdGhlYWQ+PHRib2R5PjwvdGJvZHk+PHRmb290PjwvdGZvb3Q+JyksXG5cbiAgICAgICAgcmVnaW9uczoge1xuXG4gICAgICAgICAgICBoZWFkOiAndGhlYWQnLFxuXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgZWw6ICd0Ym9keScsXG4gICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnQ6IHRydWVcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZvb3RlcjogJ3Rmb290J1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGNvbGxlY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGlmICghY29sbGVjdGlvbi5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZhciBib2R5VGVtcGxhdGUgPSBcIjx0ZD48JS0gTnVtICU+PC90ZD5cIjtcblxuICAgICAgICAgICAgICAgIHZhciByID0gY29sbGVjdGlvbi5hdCgwKTtcblxuICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IHIuaGFzKCdmZWVkJykgPyBuZXcgQmFja2JvbmUuTW9kZWwoci5nZXQoJ2ZlZWQnKSkgOiByLFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uID0gbW9kZWwuZ2V0KCdwYWdpbmF0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGhlYWQgPSBfLmZpbHRlcihtb2RlbC5nZXQoXCJoZWFkXCIpLCBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmlzVmlzaWJsZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3lzdGVtTmFtZSA9IGUuc3lzdGVtTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSB0aGlzLm9wdGlvbnMucGF0aCB8fCBCYWNrYm9uZS5oaXN0b3J5LmZyYWdtZW50IHx8ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3lzdGVtTmFtZSA9PT0gXCJkaXNwbGF5X25hbWVcIiB8fCBzeXN0ZW1OYW1lID09PSBcInRpdGxlXCIpIGJvZHlUZW1wbGF0ZSArPSBcIjx0ZCBkYXRhLW5hbWU9J1wiICsgc3lzdGVtTmFtZSArIFwiJz48JSBpZihocmVmKXsgJT48YSBocmVmPScjXCIgKyBwYXRoICsgXCIvPCUtIG9iamVjdF9pZCAlPic+PCUtIFwiICsgc3lzdGVtTmFtZSArIFwiICU+PC9hPjwlIH1lbHNleyAlPjwlLSBcIiArIHN5c3RlbU5hbWUgKyBcIiAlPjwlIH0gJT48L3RkPlwiO2Vsc2UgaWYgKHN5c3RlbU5hbWUgPT09IFwic3RhdHVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5VGVtcGxhdGUgKz0gXCI8dGQgZGF0YS1uYW1lPSdcIiArIHN5c3RlbU5hbWUgKyBcIic+PHNwYW4gY2xhc3M9J3N0YXR1cy1pY29uIDwlLSBTdGF0dXNJY29uICU+Jz48L3NwYW4+PCUgaWYoZG9zc2llcil7ICU+PHNwYW4gZGF0YS1pY29uPSdpY29uLW5vdGUnPjwvc3Bhbj48JSB9ICU+PC90ZD5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3lzdGVtTmFtZSA9PT0gJ2NyZWF0ZWRkYXRlJyB8fCBzeXN0ZW1OYW1lID09PSAnY2RhdGUnIHx8IHN5c3RlbU5hbWUgPT09ICdqb2JjZGF0ZScpIGJvZHlUZW1wbGF0ZSArPSBcIjx0ZCBkYXRhLW5hbWU9J1wiICsgc3lzdGVtTmFtZSArIFwiJz48JS0gRGF0ZS5wYXJzZShcIiArIHN5c3RlbU5hbWUgKyBcIik/IG5ldyBEYXRlKFwiICsgc3lzdGVtTmFtZSArIFwiKS50b0xvY2FsZVN0cmluZyhSZXNvdXJjZXMuTGFuZykgOiAnJyAgJT48L3RkPlwiO2Vsc2UgYm9keVRlbXBsYXRlICs9IFwiPHRkIGRhdGEtbmFtZT0nXCIgKyBzeXN0ZW1OYW1lICsgXCInPjwlLSBcIiArIHN5c3RlbU5hbWUgKyBcIiAlPjwvdGQ+XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5pc1Zpc2libGU7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5oaWRlQnV0dG9uKSBib2R5VGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9J2NvbnRyb2xzJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0bi1saW5rIGctZm9ybS0tY29udGV4dCc+PHN2Zz48dXNlIHhsaW5rOmhyZWY9JyNpY29uLWJ1cmdlci1tZW51Jz48L3VzZT48L3N2Zz48L2J1dHRvbj48L3RkPlwiO2Vsc2UgYm9keVRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPSdjb250cm9scyc+PC90ZD5cIjtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnaGVhZCcsIG5ldyBoZWFkVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKGhlYWQpIH0pKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnYm9keScsIG5ldyBib2R5Vmlldyh7IGNvbGxlY3Rpb246IG5ldyBJdGVtc0NvbGxlY3Rpb24oJC5wcmVwYXJlKG1vZGVsLmdldCgnaXRlbXMnKSkpLCBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLCBib2R5VGVtcGxhdGU6IGJvZHlUZW1wbGF0ZSB9KSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2Zvb3RlcicsIG5ldyBmb290ZXJWaWV3KHsgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbCh7IG51bUNvbHM6IGhlYWQubGVuZ3RoICsgMiB9KSwgY29sbGVjdGlvbjogdGhpcy5vcHRpb25zLm1lbnVDb2xsZWN0aW9uIH0pKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcImxpc3Q6aW5pdFwiLCBwYWdpbmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ3Jvdzpjb2w6dHJpZ2dlcic6ICdyb3c6Y29sOnRyaWdnZXInLFxuICAgICAgICAgICAgJ2NoYW5nZTpjb2xsZWN0aW9uJzogJ2NoYW5nZTpjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICdjbGljazpsaW5rJzogJ2NsaWNrOmxpbmsnXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3RXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdtZW51OmNsaWNrOml0ZW0nOiBmdW5jdGlvbiBtZW51Q2xpY2tJdGVtKHYpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdmb290ZXInKS5nZXRDaGlsZFZpZXcoJ21lbnUnKS4kZWwucGFyZW50KFwiZGl2XCIpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIGlmICh2LmNtZCkgdi5jbWQuY2FsbCh0aGlzLCB0aGlzLm1vZGVsc1NlbGVjdGVkLCB2Lm1vZGVsKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdoaWRlOm1lbnUnOiBmdW5jdGlvbiBoaWRlTWVudSgpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkbSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdmb290ZXInKS5nZXRDaGlsZFZpZXcoJ21lbnUnKS4kZWwucGFyZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIGlmICgkbS5pcyhcIjp2aXNpYmxlXCIpKSAkbS5kZWxheSgzMDApLmhpZGUoMTAwKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdtZW51OnNob3cnOiBmdW5jdGlvbiBtZW51U2hvdyh2KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbSA9IHYubW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIG1lbnUgPSB0aGlzLmdldENoaWxkVmlldygnZm9vdGVyJykuZ2V0Q2hpbGRWaWV3KCdtZW51JyksXG4gICAgICAgICAgICAgICAgICAgIGMgPSB0aGlzLm1vZGVsc1NlbGVjdGVkIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfLmZpbmRXaGVyZShjLCB7IGlkOiBtLmlkIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzU2VsZWN0ZWQgPSBbbV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcInRyLnVpLXNlbGVjdGVkXCIpLnJlbW92ZUNsYXNzKFwidWktc2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdi4kZWwuYWRkQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWVudS5jb2xsZWN0aW9uIHx8ICFtZW51LmNvbGxlY3Rpb24ubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgJG0gPSBtZW51LiRlbC5wYXJlbnQoXCJkaXZcIiksXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCd0ZCcpLnBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHBvcy50b3AgKyBldmVudC5vZmZzZXRZICsgJCgnLndvcmtiZW5jaC0tY29udGVudCcpLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gcG9zLmxlZnQgKyBldmVudC5vZmZzZXRYLFxuICAgICAgICAgICAgICAgICAgICBkdyA9ICQod2luZG93KS53aWR0aCgpIC0gJG0ud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICRtLmNsZWFyUXVldWUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3MubGVmdCArICRtLndpZHRoKCkgPiBkdykgbGVmdCA9IGR3IC0gJG0ud2lkdGgoKSAtIDYwO1xuXG4gICAgICAgICAgICAgICAgJG0uY3NzKHsgJ3RvcCc6IHRvcCwgJ2xlZnQnOiBsZWZ0IH0pLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ3N0b3A6c2VsZWN0YWJsZSc6IGZ1bmN0aW9uIHN0b3BTZWxlY3RhYmxlKG1vZGVscykge1xuICAgICAgICAgICAgICAgIHZhciBtcyA9IF8uY29tcGFjdChtb2RlbHMpO1xuICAgICAgICAgICAgICAgIGlmIChtcy5sZW5ndGgpIHRoaXMubW9kZWxzU2VsZWN0ZWQgPSBtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHRhYmxlPjwvdGFibGU+PGRpdiBjbGFzcz1cInBhZ2luZy1ib3hcIj48L2Rpdj4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICB0YWJsZToge1xuICAgICAgICAgICAgICAgIGVsOiAndGFibGUnLFxuICAgICAgICAgICAgICAgIHJlcGxhY2VFbGVtZW50OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFnaW5nOiB7XG4gICAgICAgICAgICAgICAgZWw6ICcucGFnaW5nLWJveCcsXG4gICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnQ6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygndGFibGUnLCBuZXcgdGFibGVWaWV3KHRoaXMub3B0aW9ucykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3TGlzdEluaXQ6IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3TGlzdEluaXQocGFnaW5nKSB7XG5cbiAgICAgICAgICAgIHZhciB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHBhZ2luZy50b3RhbEl0ZW1zIC8gcGFnaW5nLnBhZ2VTaXplKTtcblxuICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgPiAxKSB0aGlzLnNob3dDaGlsZFZpZXcoJ3BhZ2luZycsIG5ldyBwYWdpbmdWaWV3KHsgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbCh7IHRvdGFsUGFnZXM6IHRvdGFsUGFnZXMsIHBhZ2luZzogcGFnaW5nIH0pIH0pKTtlbHNlIHRoaXMuZ2V0UmVnaW9uKCdwYWdpbmcnKS5lbXB0eSgpO1xuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJhZnRlcjpsb2FkXCIsIHBhZ2luZy50b3RhbEl0ZW1zKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld1BhZ2VTZWxlY3Q6IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3UGFnZVNlbGVjdChudW0pIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi51cmwgPSAkLm1lcmdlVXJsUGFyYW0odGhpcy5jb2xsZWN0aW9uLnVybCwgeyBwYWdlOiBudW0gfSk7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ3Jvdzpjb2w6dHJpZ2dlcic6ICdyb3c6Y29sOnRyaWdnZXInLFxuICAgICAgICAgICAgJ2NsaWNrOmxpbmsnOiAnY2xpY2s6bGluaycsXG4gICAgICAgICAgICAnY2hhbmdlOmNvbGxlY3Rpb24nOiAnY2hhbmdlOmNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgJ2FjdGlvbjpmcm9tOm1lbnUnOiAnYWN0aW9uOmZyb206bWVudSdcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmRlZmluZSgnZ2xvYmFsLnZpZXcuZHJvcERvd24nLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKFJlc291cmNlcykge1xuXG4gICAgLypcclxuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIgLSBjdXJyZW50IGFsd2F5c1xyXG4gICAgICAqL1xuXG4gICAgdmFyIGRyb3BEb3duSXRlbVZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnaXRlbScsXG5cbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzwlLSB0aXRsZSAlPjxkaXYgY2xhc3M9XCJtYW5hZ2VcIj48L2Rpdj4nKSxcblxuICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrJzogJ2NsaWNrOml0ZW0nLFxuICAgICAgICAgICAgJ2NsaWNrIC5tYW5hZ2Ugc3Bhbic6ICdjbGljazpjbWQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ2ljb24nKSkgdGhpcy4kZWwuYXR0cignZGF0YS1pY29uJywgdGhpcy5tb2RlbC5nZXQoJ2ljb24nKSk7ZWxzZSB0aGlzLiRlbC5hdHRyKCdkYXRhLWljb24nLCAnaWNvbi1ibGFuaycpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ2NtZCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYXR0cigndG9vbHMnLCB0aGlzLm1vZGVsLmdldCgnY21kJykubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBfLmVhY2godGhpcy5tb2RlbC5nZXQoJ2NtZCcpLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoJy5tYW5hZ2UnKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiJyArIGMgKyAnXCI+PC9zcGFuPicpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgZHJvcERvd25JdGVtc1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctZHJvcGRvd24tLWNvbnRhaW5lcicsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBkcm9wRG93bkl0ZW1WaWV3LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICBcIm1vdXNlZW50ZXJcIjogZnVuY3Rpb24gbW91c2VlbnRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGVhclF1ZXVlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcIm1vdXNlbGVhdmVcIjogZnVuY3Rpb24gbW91c2VsZWF2ZSgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmRlbGF5KDEwMDApLnNsaWRlVXAoMTUwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnY29udGFpbmVyOm1vdXNlbGVhdmUnKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6Y21kJzogJ2NsaWNrOmNtZCcsXG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdjbGljazppdGVtJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctZHJvcGRvd24tLW1lbnUnLFxuXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8ZGl2IGNsYXNzPVwiZy1kcm9wZG93bi0tcGxhY2Vob2xkZXJcIj48L2Rpdj48ZGl2IGNsYXNzPVwiZy1kcm9wZG93bi0tY29udGFpbmVyXCI+PC9kaXY+JyksXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnLmctZHJvcGRvd24tLXBsYWNlaG9sZGVyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcblxuICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgZWw6ICcuZy1kcm9wZG93bi0tY29udGFpbmVyJywgcmVwbGFjZUVsZW1lbnQ6IHRydWVcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGN1cnJlbnQ6ICdAdWkucGxhY2Vob2xkZXInXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3IEJhY2tib25lLk1vZGVsKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29sbGVjdGlvbkV2ZW50czoge1xuXG4gICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2xsZWN0aW9uLmxlbmd0aCkgdGhpcy5zaG93Q2hpbGRWaWV3KCdjdXJyZW50JywgbmV3IGRyb3BEb3duSXRlbVZpZXcoeyBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHsgdGl0bGU6ICcuLi4nLCBpZDogbnVsbCB9KSB9KSk7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gbmV3IGRyb3BEb3duSXRlbVZpZXcoeyBtb2RlbDogdGhpcy5jb2xsZWN0aW9uLmF0KDApIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2N1cnJlbnQnLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50KHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2FkZENsYXNzJykpIHRoaXMuJGVsLmFkZENsYXNzKHRoaXMub3B0aW9ucy5hZGRDbGFzcyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnY29udGFpbmVyJywgbmV3IGRyb3BEb3duSXRlbXNWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5wbGFjZWhvbGRlci5odG1sKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbiAmJiB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBuZXcgZHJvcERvd25JdGVtVmlldyh7IG1vZGVsOiB0aGlzLmNvbGxlY3Rpb24uYXQoMCkgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnY3VycmVudCcsIHYpO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuc2V0Q3VycmVudCh2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5zaG93Q2hpbGRWaWV3KCdjdXJyZW50JywgbmV3IGRyb3BEb3duSXRlbVZpZXcoeyBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHsgdGl0bGU6ICcuLi4nLCBpZDogbnVsbCB9KSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25BdHRhY2g6IGZ1bmN0aW9uIG9uQXR0YWNoKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0aW9uICYmIHRoaXMuY29sbGVjdGlvbi5sZW5ndGgpIHRoaXMuc2V0Q3VycmVudCh0aGlzLm9wdGlvbnMuY3VycmVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICBcImNsaWNrIC5nLWRyb3Bkb3duLS1wbGFjZWhvbGRlclwiOiAnZXhwYW5kJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6Y21kJzogJ2Ryb3Bkb3duOmNsaWNrOmNtZCdcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdFdmVudHM6IHtcblxuICAgICAgICAgICAgJ2NvbnRhaW5lcjptb3VzZWxlYXZlJzogZnVuY3Rpb24gY29udGFpbmVyTW91c2VsZWF2ZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQoJy5nLWRyb3Bkb3duLS1wbGFjZWhvbGRlcicpLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrOml0ZW0nOiBmdW5jdGlvbiBjbGlja0l0ZW0odmlldykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpZXcubW9kZWwuaWQgIT09IHRoaXMuY3VycmVudC5pZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vINGE0YPQvdC60YbQuNGPINCyINC80L7QtNC10LvQuFxuICAgICAgICAgICAgICAgICAgICBpZiAodmlldy5tb2RlbC5oYXMoJ2ZuJykpIHZpZXcubW9kZWwuZ2V0KCdmbicpLmNhbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJlbnQodmlldyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q2hpbGRWaWV3KCdjb250YWluZXInKSkgdGhpcy5nZXRDaGlsZFZpZXcoJ2NvbnRhaW5lcicpLiRlbC5zbGlkZVVwKDE1MCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKCcuZy1kcm9wZG93bi0tcGxhY2Vob2xkZXInKS5yZW1vdmVDbGFzcygnZXhwYW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5leHBhbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBleHBhbmQ6IGZ1bmN0aW9uIGV4cGFuZCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbi5sZW5ndGggJiYgIXRoaXMuJGVsLmhhc0NsYXNzKFwiZGlzYWJsZWRcIikpIHRoaXMuJCgnLmctZHJvcGRvd24tLXBsYWNlaG9sZGVyJykudG9nZ2xlQ2xhc3MoJ2V4cGFuZGVkJykubmV4dCgnLmctZHJvcGRvd24tLWNvbnRhaW5lcicpLmNsZWFyUXVldWUoKS5zbGlkZVRvZ2dsZSgxNTApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEN1cnJlbnQ6IGZ1bmN0aW9uIHNldEN1cnJlbnQodikge1xuXG4gICAgICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdjb250YWluZXInKSxcbiAgICAgICAgICAgICAgICBjdiA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdjdXJyZW50Jyk7XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgIGEuJGVsLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgdiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodikpICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IGlkIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBjb250YWluZXIuY29sbGVjdGlvbi5nZXQodik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtKSB2ID0gY29udGFpbmVyLmNoaWxkcmVuLmZpbmRCeU1vZGVsKG0pO2Vsc2UgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdi5tb2RlbDtcbiAgICAgICAgICAgICAgICB2LiRlbC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdi5tb2RlbC5pZCAhPT0gdi5tb2RlbC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjdi5tb2RlbCA9IHYubW9kZWw7XG4gICAgICAgICAgICAgICAgICAgIGN2LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwiZHJvcGRvd246c2VsZWN0XCIsIHYubW9kZWwsIHRoaXMub3B0aW9ucy5uYW1lKTtcblxuICAgICAgICAgICAgLy90aGlzLnRyaWdnZXJNZXRob2QoXCJkcm9wZG93bjpzZWxlY3RcIiwgdik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLm1vZGVsLmRpYWxvZycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHMoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsOiBmYWxzZSwgLy8g0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+ICBcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IG51bGwsIC8vINCy0LvQvtC20LXQvdC90LDRjyDQsiDQutC+0L3RgtC10L3RgiDQstGM0Y7RhdCwIChpbml0aWFsaXplZClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdkZWYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21heCcsICAgICAgICAgIC8vIG1heCBwYXJlbnQgcmVsYXRpdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVkJywgICAgICAgICAgLy8gbWVkaXVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbicsICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiaWcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmdWxsJyAgICAgICAgICAvLyBmdWxsc2NyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5ZWxsb3cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdncmVlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JsdWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZWZhdWx0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdpY29uLWZvbGRlcicsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDAsIC8vIHotaW5kZXggcHJvcCBjc3NcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlOiBmYWxzZSwgLy8gY3Vyc29yOiBtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZTogLy8g0LjQutC+0L3QutC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC+0LrQvdC+0LxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3sgaWQ6ICdjbG9zZScgfSwgeyBpZDogJ3NpemUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLydtZW51JyAgICAvLyDQtNC+0LHQsNCy0LvRj9C10YLRgdGPINC10YHQu9C4IGNvbnRleHQubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFyOiBudWxsLCAvLyDQv9GA0LDQstCw0Y8g0L/QsNC90LXQu9GMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbnVsbCwgLy8g0YHQvtC00LXRgNC20LjQvNC+0LUg0L7QutC90LBcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCksIC8vINC/0LDQvdC10LvRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LJcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCksIC8vINC60L7QvdGC0LXQutGB0YLQvdC+0LUg0LzQtdC90Y5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29udGV4dDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLCAvLyDQutC90L7Qv9C60Lgg0LIg0L3QuNC20L3QtdC5INC/0LDQvdC10LvQuFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLnZpZXcuZGlhbG9nJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC5tb2RlbC5kaWFsb2cnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgZGlhbG9nTW9kZWwpIHtcblxuICAgIHZhciBaX0lOREVYID0gOTAwMDtcblxuICAgIHZhciBmb290ZXJWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdnLWRpYWxvZy0tZm9vdGVyJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuXG4gICAgICAgICAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCd0ZW1wbGF0ZScpKSByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLm1vZGVsLmdldCgndGVtcGxhdGUnKSk7ZWxzZSByZXR1cm4gXy50ZW1wbGF0ZSgnPGJ1dHRvbiBuYW1lPVwiPCUtIGlkICU+XCIgY2xhc3M9XCJnLWZvcm0tLWJ1dHRvbiBmbGF0IDwlLSBjbGFzc05hbWUgJT5cIj48JS0gdGl0bGUgJT48L2J1dHRvbj4nKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgICdjbGljayBpbnB1dFt0eXBlPWNoZWNrYm94XSc6IGZ1bmN0aW9uIGNsaWNrSW5wdXRUeXBlQ2hlY2tib3goZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnc2VsZWN0ZWQnLCAkKGUudGFyZ2V0KS5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIGJ1dHRvbjpub3QoLmRpc2FibGVkKSc6ICdmb290ZXI6YnV0dG9uOmNsaWNrJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgICAgICdjaGFuZ2U6c2VsZWN0ZWQnOiBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZChtLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdzZWxlY3RlZCcpKSB0aGlzLiQoJ2lucHV0W3R5cGUgPSBjaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgdGhpcy5tb2RlbC5nZXQoJ3NlbGVjdGVkJykpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZXh0OiBmdW5jdGlvbiB0ZW1wbGF0ZUNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmlld2lkOiB0aGlzLmNpZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcblxuICAgICAgICAgICAgaWYgKCFtLmhhcygnY2xhc3NOYW1lJykpIG0uc2V0KCdjbGFzc05hbWUnLCAnJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25Gb290ZXJCdXR0b25DbGljazogZnVuY3Rpb24gb25Gb290ZXJCdXR0b25DbGljayhyKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NvbnRlbnQ6cmVmbGVjdCcsIHIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnZm9vdGVyOmJ1dHRvbjpjbGljayc6ICdmb290ZXI6YnV0dG9uOmNsaWNrJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdG9vbHNWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndWwnLFxuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICB0YWdOYW1lOiAnbGknLFxuXG4gICAgICAgICAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ3RlbXBsYXRlJykpIHJldHVybiBfLnRlbXBsYXRlKHRoaXMubW9kZWwuZ2V0KCd0ZW1wbGF0ZScpKTtlbHNlIHJldHVybiBfLnRlbXBsYXRlKCc8c3BhbiBuYW1lPVwiPCUtIGlkICU+XCIgdGl0bGU9XCI8JS0gY2FwdGlvbiAlPlwiIHRvb2xiYXItaWNvbj1cIjwlLSBpY29uICU+XCIgY2xhc3M9XCI8JS0gY2xhc3NOYW1lICU+XCI+PGk+PCUtIHRpdGxlICU+PC9pPjwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIDpub3QoLmRpc2FibGVkKSc6ICd0b29sYmFyOml0ZW06Y2xpY2snLFxuICAgICAgICAgICAgICAgICdpbnB1dCBpbnB1dCc6ICd0b29sYmFyOmlucHV0OmtleXVwJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcygnY2xhc3NOYW1lJykpIHRoaXMubW9kZWwuc2V0KCdjbGFzc05hbWUnLCB0aGlzLm1vZGVsLmlkKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tb2RlbC5oYXMoJ2ljb24nKSkgdGhpcy5tb2RlbC5zZXQoJ2ljb24nLCB0aGlzLm1vZGVsLmdldCgnY2xhc3NOYW1lJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcygndGl0bGUnKSkgdGhpcy5tb2RlbC5zZXQoJ3RpdGxlJywgJycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcygnY2FwdGlvbicpKSB0aGlzLm1vZGVsLnNldCgnY2FwdGlvbicsIHRoaXMubW9kZWwuZ2V0KCd0aXRsZScpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ2Rpc2FibGVkJykpIHRoaXMuJGVsLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIG9uVG9vbGJhckl0ZW1DbGljazogZnVuY3Rpb24gb25Ub29sYmFySXRlbUNsaWNrKHIpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnY29udGVudDpyZWZsZWN0Jywgcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25Ub29sYmFySW5wdXRLZXl1cDogZnVuY3Rpb24gb25Ub29sYmFySW5wdXRLZXl1cChyKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NvbnRlbnQ6cmVmbGVjdCcsIHIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAndG9vbGJhcjppdGVtOmNsaWNrJzogJ3Rvb2xiYXI6aXRlbTpjbGljaycsXG4gICAgICAgICAgICAndG9vbGJhcjppbnB1dDprZXl1cCc6ICd0b29sYmFyOmlucHV0OmtleXVwJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGMpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgndG9vbGJhcjp1cGRhdGUnLCBjKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge31cblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgYnV0dG9uc1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ3JvdycsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ctZm9ybS0tYnV0dG9uJyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdidXR0b24nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzwlLSB0aXRsZSAlPicpLFxuXG4gICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdjbGFzc05hbWUnKSkgdGhpcy4kZWwuYWRkQ2xhc3ModGhpcy5tb2RlbC5nZXQoJ2NsYXNzTmFtZScpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogJ2NsaWNrOmJ1dHRvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljazpidXR0b24nOiAnY2xpY2s6YnV0dG9uJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbm90aWZ5VmlldyA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdnLWRpYWxvZy0tcHJvbXQnLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHNwYW4+PC9zcGFuPjxkaXY+PC9kaXY+JyksXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgYnV0dG9uczogeyBlbDogJ2RpdicsIHJlcGxhY2VFbGVtZW50OiB0cnVlIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnYnV0dG9ucycsIG5ldyBidXR0b25zVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCkgfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3Q2xpY2tCdXR0b246IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q2xpY2tCdXR0b24oYikge1xuXG4gICAgICAgICAgICBpZiAoYi5tb2RlbC5pZCA9PT0gJ2RlbGV0ZScgJiYgdGhpcy5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kZWwuc2xpZGVVcCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dOb3RpZnk6IGZ1bmN0aW9uIHNob3dOb3RpZnkodGV4dCkge1xuXG4gICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnYnV0dG9ucycpLmNvbGxlY3Rpb24ucmVzZXQoW3sgaWQ6ICdvaycsIHRpdGxlOiAnT2snLCBjbGFzc05hbWU6ICdibHVlIHNtYWxsIGZsYXQnIH1dKTtcbiAgICAgICAgICAgIHRoaXMuJCgnc3BhbicpLmh0bWwodGV4dCk7XG4gICAgICAgICAgICB0aGlzLiRlbC5zbGlkZURvd24oMTUwKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnbm90aWNlOnNob3c6bWVzc2FnZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dDb25maXJtOiBmdW5jdGlvbiBzaG93Q29uZmlybSh0ZXh0LCBmeCwgY3R4KSB7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdidXR0b25zJykuY29sbGVjdGlvbi5yZXNldChbeyBpZDogJ2RlbGV0ZScsIHRpdGxlOiBSZXNvdXJjZXMuZGVsLCBjbGFzc05hbWU6ICdyaWdodHNtYWxsIGZsYXQgYmx1ZScgfSwgeyBpZDogJ2NhbmNlbCcsIHRpdGxlOiBSZXNvdXJjZXMuY2FuY2VsLCBjbGFzc05hbWU6ICdsZWZ0IHNtYWxsIGZsYXQnIH1dKTtcblxuICAgICAgICAgICAgdGhpcy4kKCdzcGFuJykuaHRtbCh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmeDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGN0eDtcbiAgICAgICAgICAgIHRoaXMuJGVsLnNsaWRlRG93bigxNTApO1xuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ25vdGljZTpzaG93Om1lc3NhZ2UnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrOmJ1dHRvbic6ICdub3RpY2U6Y2xpY2s6YnV0dG9uJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbWFuYWdlVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1kaWFsb2ctLW1hbmFnZScsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIHRhZ05hbWU6ICdpJyxcblxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJycpLFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayc6ICdtYW5hZ2U6aXRlbTpjbGljaydcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcyh0aGlzLm1vZGVsLmlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ21hbmFnZTppdGVtOmNsaWNrJzogJ21hbmFnZTppdGVtOmNsaWNrJ1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1kaWFsb2ctLXdyYXBwZXInLFxuICAgICAgICB0ZW1wbGF0ZTogJyNkaWFsb2ctd2luZG93LXRlbXBsYXRlJyxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgaGVhZGVyOiAnLmctZGlhbG9nLS1oZWFkZXInLFxuICAgICAgICAgICAgdGl0bGU6ICcuZy1kaWFsb2ctLXRpdGxlJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcuZy1kaWFsb2ctLWNvbnRlbnQnLFxuICAgICAgICAgICAgYmxvY2tlcjogJy5nLWRpYWxvZy0tYmxvY2tlcidcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBub3RpZnk6IHsgZWw6ICcuZy1kaWFsb2ctLXByb210JywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIHRvb2xiYXI6ICcuZy10b29sYmFyJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdAdWkuY29udGVudCcsXG4gICAgICAgICAgICBzaWRlYmFyOiAnLmctZGlhbG9nLS1zaWRlYmFyJyxcbiAgICAgICAgICAgIGZvb3RlcjogeyBlbDogJy5nLWRpYWxvZy0tZm9vdGVyJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIG1hbmFnZTogeyBlbDogJy5nLWRpYWxvZy0tbWFuYWdlJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLm1vZGVsKSB0aGlzLm1vZGVsID0gbmV3IGRpYWxvZ01vZGVsKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgJ2NoYW5nZTpjb250ZW50JzogZnVuY3Rpb24gY2hhbmdlQ29udGVudChtLCB2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRSZWdpb24oJ2NvbnRlbnQnKS5zaG93KHYpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTp0aXRsZSc6IGZ1bmN0aW9uIGNoYW5nZVRpdGxlKG0sIHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnRpdGxlLmh0bWwodik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOmljb24nOiBmdW5jdGlvbiBjaGFuZ2VJY29uKG0sIHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnRpdGxlLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLScgKyB2KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjaGFuZ2U6c2hvd0NvbnRleHQnOiBmdW5jdGlvbiBjaGFuZ2VTaG93Q29udGV4dChtLCB2KSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCdjb250ZXh0Jywgdik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOnNpemUnOiBmdW5jdGlvbiBjaGFuZ2VTaXplKG0sIHYpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRlbC5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy4kZWwucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy4kZWwud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLiRlbC5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYXR0cignc2l6ZScsIHYpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHYgPT09ICdtYXgnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuY3NzKHsgbGVmdDogMCwgdG9wOiA0NSwgd2lkdGg6ICcnLCBoZWlnaHQ6ICcnLCB0cmFuc2Zvcm06ICdpbml0aWFsJyB9KS5kcmFnZ2FibGUoKS5kcmFnZ2FibGUoXCJkZXN0cm95XCIpLnJlc2l6YWJsZSgpLnJlc2l6YWJsZShcImRlc3Ryb3lcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHRoaXMubW9kZWwucHJldmlvdXNBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHAubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdERyYWdBbmRSZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ3NpemUnLCB0aGlzLm1vZGVsLmdldCgnc2l6ZScpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ2Zvb3RlcicsICEhdGhpcy5tb2RlbC5nZXQoJ2Zvb3RlcicpLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCd0b29sYmFyJywgISF0aGlzLm1vZGVsLmdldCgndG9vbGJhcicpLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCdtb2RhbCcsICEhdGhpcy5tb2RlbC5nZXQoJ21vZGFsJykpO1xuICAgICAgICAgICAgdGhpcy4kZWwuYXR0cignY29udGV4dCcsIHRoaXMubW9kZWwuZ2V0KCdzaG93Q29udGV4dCcpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ2hlYWRlcicsIHRoaXMubW9kZWwuZ2V0KCdjb2xvcicpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCd6aW5kZXgnKSkgdGhpcy4kZWwuY3NzKCd6SW5kZXgnLCBaX0lOREVYICsgdGhpcy5tb2RlbC5nZXQoJ3ppbmRleCcpKTtcblxuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLm1vZGVsLmdldCgnc2l6ZScpO1xuXG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gJ2Z1bGwnKSB0aGlzLl9pbml0RHJhZ0FuZFJlc2l6ZSgpO2Vsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCdoZWFkZXInKS5tYW5hZ2UgPSBbeyBpZDogJ2Nsb3NlJyB9XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdtYW5hZ2UnLCBuZXcgbWFuYWdlVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKHRoaXMubW9kZWwuZ2V0KCdoZWFkZXInKS5tYW5hZ2UpIH0pKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbm90aWZ5JywgbmV3IG5vdGlmeVZpZXcoKSk7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3Rvb2xiYXInLCBuZXcgdG9vbHNWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5tb2RlbC5nZXQoJ3Rvb2xiYXInKSB9KSk7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2Zvb3RlcicsIG5ldyBmb290ZXJWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5tb2RlbC5nZXQoJ2Zvb3RlcicpIH0pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdjb250ZW50JykpIHRoaXMuc2hvd0NoaWxkVmlldygnY29udGVudCcsIHRoaXMubW9kZWwuZ2V0KCdjb250ZW50JykpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ3NpZGViYXInKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ3NpZGViYXInLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3NpZGViYXInLCB0aGlzLm1vZGVsLmdldCgnc2lkZWJhcicpKTtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLiRlbC5hdHRyKCdzaWRlYmFyJywgZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQXR0YWNoOiBmdW5jdGlvbiBvbkF0dGFjaCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdzaXplJykgIT09ICdmdWxsJykge1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbiA9ICQoJ21haW4nKSxcbiAgICAgICAgICAgICAgICAgICAgY3YgPSB0aGlzLiRlbCxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gd2luLmhlaWdodCgpIC8gMiAtIGN2LmhlaWdodCgpIC8gMjtcblxuICAgICAgICAgICAgICAgIGN2LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogdG9wIDwgNDQgPyA0NCA6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogd2luLndpZHRoKCkgLyAyIC0gY3Yud2lkdGgoKSAvIDJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5tb2RlbC5nZXQoJ2F1dG9PcGVuJykpIHRoaXMuJGVsLmhpZGUoKTtlbHNlIHRoaXMuJGVsLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdFdmVudHM6IHtcblxuICAgICAgICAgICAgJ3Nob3c6bWVzc2FnZSc6IGZ1bmN0aW9uIHNob3dNZXNzYWdlKHRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnbm90aWZ5Jykuc2hvd05vdGlmeSh0ZXh0KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdzaG93Om1lc3NhZ2U6Y29uZmlybSc6IGZ1bmN0aW9uIHNob3dNZXNzYWdlQ29uZmlybShvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ25vdGlmeScpLnNob3dDb25maXJtKG8udGV4dCwgby5meCwgby5jdHgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ25vdGljZTpzaG93Om1lc3NhZ2UnOiBmdW5jdGlvbiBub3RpY2VTaG93TWVzc2FnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJsb2NrZXIuc2hvdygpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ25vdGljZTpjbGljazpidXR0b24nOiBmdW5jdGlvbiBub3RpY2VDbGlja0J1dHRvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJsb2NrZXIuaGlkZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ21hbmFnZTppdGVtOmNsaWNrJzogZnVuY3Rpb24gbWFuYWdlSXRlbUNsaWNrKGkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2kubW9kZWwuaWRdKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY29udGVudDpyZWZsZWN0JzogZnVuY3Rpb24gY29udGVudFJlZmxlY3Qocikge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENoaWxkVmlldygnY29udGVudCcpLFxuICAgICAgICAgICAgICAgICAgICBmeCA9IGNvbnRlbnRbci5tb2RlbC5pZF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZnggJiYgdHlwZW9mIGZ4ID09PSAnZnVuY3Rpb24nKSBmeC5jYWxsKGNvbnRlbnQsIHIpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ3Rvb2xiYXI6dXBkYXRlJzogZnVuY3Rpb24gdG9vbGJhclVwZGF0ZShjKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCd0b29sYmFyJywgISFjLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcblxuICAgICAgICAgICAgJ3Rvb2xiYXI6aXRlbTpjbGljayc6ICd0b29sYmFyOml0ZW06Y2xpY2snLFxuXG4gICAgICAgICAgICAndG9vbGJhcjppbnB1dDprZXl1cCc6ICd0b29sYmFyOmlucHV0OmtleXVwJyxcblxuICAgICAgICAgICAgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbSc6ICdjb250YWluZXI6c2VsZWN0Oml0ZW0nLFxuXG4gICAgICAgICAgICAnZm9vdGVyOmJ1dHRvbjpjbGljayc6ICdmb290ZXI6YnV0dG9uOmNsaWNrJyxcblxuICAgICAgICAgICAgJ2FmdGVyOmxvYWQnOiAnYWZ0ZXI6bG9hZCdcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnZGlhbG9nOmNsb3NlZCcpO1xuICAgICAgICAgICAgQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnTm90aWZ5JykucmVxdWVzdCgnaGlkZTpvdmVybGF5Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3NpemUnLCB0aGlzLm1vZGVsLmdldCgnc2l6ZScpID09PSAnbWF4JyA/ICdkZWYnIDogJ21heCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1lbnU6IGZ1bmN0aW9uIG1lbnUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdzaG93Q29udGV4dCcsICF0aGlzLm1vZGVsLmdldCgnc2hvd0NvbnRleHQnKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXREcmFnQW5kUmVzaXplOiBmdW5jdGlvbiBfaW5pdERyYWdBbmRSZXNpemUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLnJlc2l6YWJsZSh7XG5cbiAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoZSwgdSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnY29udGVudCcpICYmIF8uaXNGdW5jdGlvbih0aGlzLm1vZGVsLmdldCgnY29udGVudCcpKSkgdGhpcy5tb2RlbC5nZXQoJ2NvbnRlbnQnKS50cmlnZ2VyTWV0aG9kKCdjb250YWluZXI6cmVzaXplOnN0b3AnLCB0aGlzLmdldFJlZ2lvbignY29udGVudCcpLiRlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuXG4gICAgICAgICAgICB9KS5kcmFnZ2FibGUoeyBoYW5kbGU6IHRoaXMudWkuaGVhZGVyLCBoZWxwZXI6IFwib3JpZ2luYWxcIiwgY29udGFpbm1lbnQ6IFwibWFpblwiIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5jc3MoJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdjL0lucHV0Rm9ybVZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnZ2xvYmFsLmJlaGF2aW9ycy5pbnB1dCddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBpbnB1dEJlaGF2aW9yKSB7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJcIiB2YWx1ZT1cIlwiIGNsYXNzPVwiZy1mb3JtLS1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiPCU9IFJlc291cmNlcy5uYW1lVmlkZ2V0ICU+XCI+PGxhYmVsIGZvcj1cImlucHV0XCI+PCU9IFJlc291cmNlcy5uYW1lVmlkZ2V0ICU+PC9sYWJlbD48aSBjbGFzcz1cImFkZCBydGwtMVwiPjwvaT48aSBjbGFzcz1cImNsZWFyIHJ0bC0yXCI+PC9pPic7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGJlaGF2aW9yczogW2lucHV0QmVoYXZpb3JdLFxuXG4gICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZy1mb3JtLS1pbnB1dCcsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRlbXBsYXRlKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgJ2NsaWNrIC5jbGVhcic6IGZ1bmN0aW9uIGNsaWNrQ2xlYXIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKCdpbnB1dCcpLnZhbCgnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljayAuYWRkJzogJ2lucHV0OmNsaWNrOmFkZCdcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmRlZmluZSgnYy9FZGl0TGlzdFZpZXcnLCBbXSwgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGxpc3RJdGVtVGVtcGxhdGUgPSBcIjxzcGFuPjwlPSB0aXRsZSAlPjwvc3Bhbj48c3BhbiBjbGFzcz0nY21kJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3ZpZXcnIGRhdGEtaWNvbj0naWNvbi1leWUnPjwvYnV0dG9uPlwiICsgXCI8JSBpZighSXNTeXN0ZW0peyAlPjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nZWRpdCcgZGF0YS1pY29uPSdpY29uLXBlbic+PC9idXR0b24+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbGVhcicgZGF0YS1pY29uPSdpY29uLWNsb3NlLWwnPjwvYnV0dG9uPjwlIH0gJT48L3NwYW4+XCI7XG5cbiAgICB2YXIgbGlzdEl0ZW1FZGl0VGVtcGxhdGUgPSBcIjxpbnB1dCB0eXBlPSd0ZXh0JyB2YWx1ZT0nPCUtIHRpdGxlICU+JyAvPjxzcGFuIGNsYXNzPSdjbWQgZWRpdC12aWV3Jz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2NhbmNlbCcgZGF0YS1pY29uPSdpY29uLXJvdW5kLWRlbCc+PC9idXR0b24+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdzYXZlJyBkYXRhLWljb249J2ljb24tcm91bmQtY2hlY2snPjwvYnV0dG9uPjwvc3Bhbj5cIjtcblxuICAgIHZhciBsaXN0VmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnbGlzdC1jbWQtcGFuZWwnLFxuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdpdGVtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKGxpc3RJdGVtVGVtcGxhdGUpLFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayc6ICdjbGljazppdGVtJyxcbiAgICAgICAgICAgICAgICAnY2xpY2sgLnZpZXcnOiAnbGlzdDppdGVtOnZpZXcnLFxuICAgICAgICAgICAgICAgICdjbGljayAuY2xlYXInOiAnbGlzdDppdGVtOmNsZWFyJyxcbiAgICAgICAgICAgICAgICAnY2xpY2sgLnNhdmUnOiAnbGlzdDppdGVtOnNhdmUnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgICAgICdjbGljayAuZWRpdCc6IGZ1bmN0aW9uIGNsaWNrRWRpdChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBfLnRlbXBsYXRlKGxpc3RJdGVtRWRpdFRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgJ2NsaWNrIC5jYW5jZWwnOiBmdW5jdGlvbiBjbGlja0NhbmNlbChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBfLnRlbXBsYXRlKGxpc3RJdGVtVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBcImNsaWNrIGlucHV0XCI6IGZ1bmN0aW9uIGNsaWNrSW5wdXQoZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25MaXN0SXRlbVNhdmU6IGZ1bmN0aW9uIG9uTGlzdEl0ZW1TYXZlKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCQudHJpbSh0aGlzLiQoJ2lucHV0JykudmFsKCkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiB0aGlzLiQoJ2lucHV0JykudmFsKClcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBmW3RoaXMub3B0aW9ucy50aXRsZUF0dHJpYnV0ZV0gPSB0aGlzLiQoJ2lucHV0JykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoZik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IF8udGVtcGxhdGUobGlzdEl0ZW1UZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJCgnaW5wdXQnKS52YWwodGhpcy5tb2RlbC5nZXQoJ3RpdGxlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcblxuICAgICAgICAgICAgaWYgKCFtLmhhcygnSXNTeXN0ZW0nKSkgbS5zZXQoJ0lzU3lzdGVtJywgZmFsc2UpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgbS5zZXQoJ3RpdGxlJywgbS5nZXQodGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlKSk7XG5cbiAgICAgICAgICAgICAgICBtLm9uKCdjaGFuZ2U6JyArIHRoaXMub3B0aW9ucy50aXRsZUF0dHJpYnV0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtLnNldCgndGl0bGUnLCBtLmdldCh0aGlzLm9wdGlvbnMudGl0bGVBdHRyaWJ1dGUpKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aXRsZUF0dHJpYnV0ZTogdGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdjbGljazppdGVtJyxcbiAgICAgICAgICAgICdsaXN0Oml0ZW06dmlldyc6ICdsaXN0Oml0ZW06dmlldycsXG4gICAgICAgICAgICAnbGlzdDppdGVtOmNsZWFyJzogJ2xpc3Q6aXRlbTpjbGVhcicsXG4gICAgICAgICAgICAnbGlzdDppdGVtOnNhdmUnOiAnbGlzdDppdGVtOnNhdmUnXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdj48L2Rpdj4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBsaXN0OiB7IGVsOiAnZGl2JywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdjbGljazppdGVtJyxcbiAgICAgICAgICAgICdsaXN0Oml0ZW06dmlldyc6ICdsaXN0Oml0ZW06dmlldycsXG4gICAgICAgICAgICAnbGlzdDppdGVtOmNsZWFyJzogJ2xpc3Q6aXRlbTpjbGVhcicsXG4gICAgICAgICAgICAnbGlzdDppdGVtOnNhdmUnOiAnbGlzdDppdGVtOnNhdmUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwiY2xpY2sgLmFkZC1idG5cIjogZnVuY3Rpb24gY2xpY2tBZGRCdG4oZSkge1xuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNhZGQtY29sbGVjdGlvblwiKS5jc3MoeyBcImJvcmRlci1jb2xvclwiOiBcIlwiIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAkLnRyaW0odGhpcy4kKFwiI2FkZC1jb2xsZWN0aW9uXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgICAgIGlmIChOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIiNhZGQtY29sbGVjdGlvblwiKS52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2xpc3Q6YWRkJywgTmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJChcIiNhZGQtY29sbGVjdGlvblwiKS5jc3MoeyBcImJvcmRlci1jb2xvclwiOiBcInJlZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLmdldFJlZ2lvbignbGlzdCcpLnNob3cobmV3IGxpc3RWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uLCB0aXRsZUF0dHJpYnV0ZTogdGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlIH0pKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9UYWJzVmlldycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGFic1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuICAgICAgICB0YWdOYW1lOiAndWwnLFxuICAgICAgICBjbGFzc05hbWU6ICduYXYgbmF2LXRhYnMnLFxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRhZ05hbWU6ICdsaScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGEgaHJlZj1cIiM8JS0gaWQgJT5cIj48JS0gdGl0bGUgJT4mbmJzcDs8c3BhbiBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgbWluLXdpZHRoOiAyMnB4O1wiPjwlLSB0b3RhbD9cIihcIit0b3RhbCtcIilcIjpcIlwiICU+PC9zcGFuPjwvYT4nKSxcbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogJ2NsaWNrOml0ZW0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnYWN0aXZlJykgJiYgdGhpcy5tb2RlbC5nZXQoJ2FjdGl2ZScpKSB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7ZWxzZSB0aGlzLiRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW9kZWxFdmVudHM6IHtcbiAgICAgICAgICAgICAgICAnY2hhbmdlOmFjdGl2ZSc6IGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcbiAgICAgICAgICAgIGlmICghbS5oYXMoJ3RvdGFsJykpIG0uc2V0KCd0b3RhbCcsIG51bGwpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHVsPjwvdWw+PGRpdj48L2Rpdj4nKSxcbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgdGFiczogeyBlbDogJ3VsJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHsgZWw6ICdkaXYnLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdDbGlja0l0ZW06IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q2xpY2tJdGVtKHYpIHtcblxuICAgICAgICAgICAgdmFyIG8gPSB2Lm1vZGVsLmNvbGxlY3Rpb24uZmluZFdoZXJlKHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgaWYgKG8pIG8uc2V0KCdhY3RpdmUnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmICghdi5tb2RlbC5oYXMoJ2FjdGl2ZScpIHx8ICF2Lm1vZGVsLmdldCgnYWNpdHZlJykpIHtcbiAgICAgICAgICAgICAgICB2Lm1vZGVsLnNldCgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q29udGVudCh2Lm1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzaG93Q29udGVudDogZnVuY3Rpb24gc2hvd0NvbnRlbnQobSkge1xuICAgICAgICAgICAgdmFyIHYgPSBtLmdldCgndmlldycpO1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdjb250ZW50JywgbmV3IHYobS5nZXQoJ29wdGlvbnMnKSkpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hMb2FkQ29udGVudCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaExvYWRDb250ZW50OiBmdW5jdGlvbiBmaW5pc2hMb2FkQ29udGVudCgpIHtcbiAgICAgICAgICAgIC8vIFxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygndGFicycsIG5ldyB0YWJzVmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiB9KSk7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuY29sbGVjdGlvbi5maW5kV2hlcmUoeyBhY3RpdmU6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAoYSkgdGhpcy5zaG93Q29udGVudChhKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2dsb2JhbC5yZXF1ZXN0LnBhcmFtJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC5iZWhhdmlvcnMuaW5wdXQnLCAnZ2xvYmFsLnZpZXcuZHJvcERvd24nLCAnZ2xvYmFsLnZpZXcuZGlhbG9nJywgJ2Mvc2VhcmNoUGFuZWwnLCAnZy90cmVlJywgJ1JVJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIElucHV0QmVoYXZpb3IsIERyb3BEb3duTGlzdCwgZGlhbG9nVmlldywgc2VhcmNoUGFuZWwsIHRyZWVWaWV3KSB7XG5cbiAgICAvKioqL1xuICAgIC8qXHJcbiAgICAgICAgICBUT0RPOiDQtdGB0LvQuCDQsiDQv9Cw0YDQsNC80LXRgtGA0LDRhSDQstGL0LHQvtGA0LAg0L7QsdGK0LXQutGC0LAg0L3QtSDQt9Cw0LTQsNC9IHJpZCBvciBkYmFzZSwg0LIg0L7QutC90LUg0LLRi9Cx0L7RgNCwINC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7QutCw0LfQsNGC0Ywg0LjQvdGC0LXRgNGE0LXQudGBINCy0YvQsdC+0YDQsCDQsdCw0LfRi1xyXG4gICAgKi9cbiAgICAvKioqL1xuXG4gICAgdmFyIHBhcmFtVGVtcGxhdGVEYXRlID0gJzxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiXCIgbmFtZT1cIjwlLSBOYW1lICU+XCIgLz48bGFiZWw+PCUtIENhcHRpb24gJT48L2xhYmVsPjxzdmcgY2xhc3M9XCJzdmctaWNvbi0tYmlnXCI+PHVzZSB4bGluazpocmVmPVwiI2NhbGVuZGFyLWljb25cIj48L3VzZT48L3N2Zz48aSBjbGFzcz1cImhlbHAgcnRsLTFcIj48L2k+PHNwYW4gY2xhc3M9XCJnLXRpcCBib3R0b21cIj48a2JkPjwva2JkPjxzcGFuPjwlLSBEZXNjcmlwdGlvbiAlPjwvc3Bhbj48L3NwYW4+JyxcbiAgICAgICAgcGFyYW1UZW1wbGF0ZSA9ICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImctZm9ybS0taW5wdXQgPCUtIERpc3BsYXlWYWx1ZT9cXCdmaWxsZWRcXCc6XFwnXFwnICU+XCIgcGxhY2Vob2xkZXI9XCI8JS0gQ2FwdGlvbiAlPlwiIHZhbHVlPVwiPCUtIERpc3BsYXlWYWx1ZT9EaXNwbGF5VmFsdWU6VmFsdWUuam9pbihcIixcIikgJT5cIiBuYW1lPVwiPCUtIE5hbWUgJT5cIiAvPjxsYWJlbD48JS0gQ2FwdGlvbiAlPjwvbGFiZWw+PGkgY2xhc3M9XCJoZWxwIHJ0bC0xXCI+PC9pPjxzcGFuIGNsYXNzPVwiZy10aXAgYm90dG9tXCI+PGtiZD48L2tiZD48c3Bhbj48JS0gRGVzY3JpcHRpb24gJT48L3NwYW4+PC9zcGFuPicsXG4gICAgICAgIHBhcmFtVGVtcGxhdGVDaG9vc2UgPSAnPGRpdiBjbGFzcz1cImRpYWxvZ1wiPjwvZGl2PjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZy1mb3JtLS1pbnB1dCA8JS0gRGlzcGxheVZhbHVlP1xcJ2ZpbGxlZFxcJzpcXCdcXCcgJT5cIiBwbGFjZWhvbGRlcj1cIjwlLSBDYXB0aW9uICU+XCIgdmFsdWU9XCI8JS0gRGlzcGxheVZhbHVlP0Rpc3BsYXlWYWx1ZTpWYWx1ZS5qb2luKFwiLFwiKSAlPlwiIG5hbWU9XCI8JS0gTmFtZSAlPlwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIiAvPjxsYWJlbD48JS0gQ2FwdGlvbiAlPjwvbGFiZWw+PGkgY2xhc3M9XCJydGwtMiBtb3JlIGFkZFwiPjwvaT48aSBjbGFzcz1cInJ0bC0zIGNsZWFyXCI+PC9pPjxpIGNsYXNzPVwiaGVscCBydGwtMVwiPjwvaT48c3BhbiBjbGFzcz1cImctdGlwIGJvdHRvbVwiPjxrYmQ+PC9rYmQ+PHNwYW4+PCUtIERlc2NyaXB0aW9uICU+PC9zcGFuPjwvc3Bhbj4nLFxuICAgICAgICBwYXJhbVRlbXBsYXRlVGV4dCA9ICc8bGFiZWw+PCUtIENhcHRpb24gJT48L2xhYmVsPjxpIGNsYXNzPVwiaGVscCBydGwtMSB0ZXh0YXJlYVwiPjwvaT48c3BhbiBjbGFzcz1cImctdGlwIGJvdHRvbSB0ZXh0YXJlYVwiPjxrYmQ+PC9rYmQ+PHNwYW4+PCUtIERlc2NyaXB0aW9uICU+PC9zcGFuPjwvc3Bhbj48dGV4dGFyZWEgY2xhc3M9XCJnLWZvcm0tLXRleHRhcmVhIDwlLSBEaXNwbGF5VmFsdWU/XFwnZmlsbGVkXFwnOlxcJ1xcJyAlPlwiIG5hbWU9XCI8JS0gTmFtZSAlPlwiIHBsYWNlaG9sZGVyPVwiPCUtIENhcHRpb24gJT5cIj48JS0gRGlzcGxheVZhbHVlP0Rpc3BsYXlWYWx1ZTpWYWx1ZS5qb2luKFwiLFwiKSAlPjwvdGV4dGFyZWE+JyxcbiAgICAgICAgcGFyYW1UZW1wbGF0ZUJvb2wgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiaWQ8JS0gTmFtZSAlPlwiIGNsYXNzPVwiZy1mb3JtLS1jaGVja2JveFwiIG5hbWU9XCI8JS0gTmFtZSAlPlwiIDwlIGlmKFZhbHVlWzBdPT09XCJUcnVlXCIpeyAlPmNoZWNrZWQ9XCJjaGVja2VkXCI8JSB9ICU+IC8+PGxhYmVsIGZvcj1cImlkPCUtIE5hbWUgJT5cIiBjbGFzcz1cImJvb2wtdHlwZS1sYWJlbFwiPjwlLSBDYXB0aW9uICU+PC9sYWJlbD48aSBjbGFzcz1cImhlbHAgcnRsLTFcIj48L2k+PHNwYW4gY2xhc3M9XCJnLXRpcCBib3R0b21cIj48a2JkPjwva2JkPjxzcGFuPjwlLSBEZXNjcmlwdGlvbiAlPjwvc3Bhbj48L3NwYW4+JyxcbiAgICAgICAgcGFyYW1UZW1wbGF0ZURpYyA9ICc8bGFiZWw+PCUtIENhcHRpb24gJT48L2xhYmVsPjxpIGNsYXNzPVwiaGVscCBydGwtMVwiPjwvaT48c3BhbiBjbGFzcz1cImctdGlwIGJvdHRvbVwiPjxrYmQ+PC9rYmQ+PHNwYW4+PCUtIERlc2NyaXB0aW9uICU+PC9zcGFuPjwvc3Bhbj48ZGl2PjwvZGl2Pic7XG5cbiAgICB2YXIgcGFyYW1Nb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGRlZmF1bHRzOiBmdW5jdGlvbiBkZWZhdWx0cygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgTmFtZTogJycsXG4gICAgICAgICAgICAgICAgRGlzcGxheVZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICBQYXJhbWV0clR5cGU6ICcnLFxuICAgICAgICAgICAgICAgIENhcHRpb246ICcnLFxuICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICBWYWx1ZTogW10sXG5cbiAgICAgICAgICAgICAgICBNZXRhRW50aXR5OiAnJywgLy8g0L/QsNGA0LDQvNC10YLRgCDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGB0L/RgNCw0LLQvtGH0L3QuNC60L7QslxuXG4gICAgICAgICAgICAgICAgSXNNdWx0aVZhbHVlczogZmFsc2UsIC8vINC80L3QvtC20LXRgdGC0LLQtdC90L3Ri9C5INCy0YvQsdC+0YAgSXNNdWx0aVZhbHVlcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBTdGlja1VybDogJycsXG4gICAgICAgICAgICAgICAgTm9DYXNoOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoYXR0cikge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IFtdLFxuICAgICAgICAgICAgICAgIGRwID0gJ15bXFxcXGRdKyQnO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0ZXN0KHMsIHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcyA9PT0gXCJcIiB8fCBuZXcgUmVnRXhwKHApLnRlc3Qocyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoJ1BhcmFtZXRyVHlwZScpLnRvTG93ZXJDYXNlKCkgPT09ICdpbnQnICYmICF0ZXN0KGF0dHIuVmFsdWVbMF0sIGRwKSkgb3V0cHV0LnB1c2goYXR0cik7XG5cbiAgICAgICAgICAgIGlmIChvdXRwdXQubGVuZ3RoKSByZXR1cm4gb3V0cHV0O2Vsc2UgdGhpcy50cmlnZ2VyKCd2YWxpZCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGJlaGF2aW9yczoge1xuICAgICAgICAgICAgaW5wdXQ6IElucHV0QmVoYXZpb3JcbiAgICAgICAgfSxcblxuICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctZm9ybS0taW5wdXQnLFxuXG4gICAgICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmFtVHlwZSA9IHRoaXMubW9kZWwuZ2V0KFwiUGFyYW1ldHJUeXBlXCIpID8gdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIikudG9Mb3dlckNhc2UoKSA6ICcnO1xuXG4gICAgICAgICAgICBpZiAoW1wiaWRsaXN0XCIsIFwidHlwZVwiLCBcInJ1YnJpY1wiLCBcIm9iamVjdFwiXS5pbmRleE9mKHBhcmFtVHlwZSkgIT09IC0xKSByZXR1cm4gXy50ZW1wbGF0ZShwYXJhbVRlbXBsYXRlQ2hvb3NlKTtlbHNlIGlmIChwYXJhbVR5cGUgPT09ICdib29sJykgcmV0dXJuIF8udGVtcGxhdGUocGFyYW1UZW1wbGF0ZUJvb2wpO2Vsc2UgaWYgKHBhcmFtVHlwZSA9PT0gJ3RleHQnKSByZXR1cm4gXy50ZW1wbGF0ZShwYXJhbVRlbXBsYXRlVGV4dCk7ZWxzZSBpZiAocGFyYW1UeXBlID09PSAnZGF0ZXRpbWUnKSByZXR1cm4gXy50ZW1wbGF0ZShwYXJhbVRlbXBsYXRlRGF0ZSk7ZWxzZSBpZiAocGFyYW1UeXBlID09PSAnZGljdGlvbmFyeScpIHJldHVybiBfLnRlbXBsYXRlKHBhcmFtVGVtcGxhdGVEaWMpO2Vsc2UgcmV0dXJuIF8udGVtcGxhdGUocGFyYW1UZW1wbGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIHRleHQ6ICd0ZXh0YXJlYScsXG4gICAgICAgICAgICBpbnB1dDogJ2lucHV0JyxcbiAgICAgICAgICAgIGNsZWFyOiAnaS5jbGVhcidcbiAgICAgICAgfSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGMsIG8pIHtcblxuICAgICAgICAgICAgICAgIGlmIChvLmFkZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjLnBsdWNrKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsLmxlbmd0aCkgdmFsID0gdGhpcy5tb2RlbC5nZXQoJ1ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoeyBcIkRpc3BsYXlWYWx1ZVwiOiBjLnBsdWNrKCd0aXRsZScpLmpvaW4oJzsgJyksIFwiVmFsdWVcIjogdmFsIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBtb2RlbEV2ZW50czoge1xuXG4gICAgICAgICAgICBpbnZhbGlkOiBmdW5jdGlvbiBpbnZhbGlkKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkudGV4dC5hZGRDbGFzcygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmlucHV0LmFkZENsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdmFsaWQ6IGZ1bmN0aW9uIHZhbGlkKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkudGV4dC5yZW1vdmVDbGFzcygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmlucHV0LnJlbW92ZUNsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTpEaXNwbGF5VmFsdWUnOiBmdW5jdGlvbiBjaGFuZ2VEaXNwbGF5VmFsdWUobSwgdikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5pbnB1dC52YWwodik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOlZhbHVlJzogZnVuY3Rpb24gY2hhbmdlVmFsdWUobSwgdikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5jbGVhci5zaG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgJ2NsaWNrIGxhYmVsLmJvb2wtdHlwZS1sYWJlbCc6IGZ1bmN0aW9uIGNsaWNrTGFiZWxCb29sVHlwZUxhYmVsKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiQoJ2lucHV0JykuaXMoJzpjaGVja2VkJykpIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFsnVHJ1ZSddKTtlbHNlIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFsnRmFsc2UnXSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAna2V5dXAgaW5wdXRbdHlwZT10ZXh0XSwgdGV4dGFyZWEsIGlucHV0W2NsYXNzIT1lamRhdGVwaWNrZXJdJzogZnVuY3Rpb24ga2V5dXBJbnB1dFR5cGVUZXh0VGV4dGFyZWFJbnB1dENsYXNzRWpkYXRlcGlja2VyKGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFskLnRyaW0oJChlLnRhcmdldCkudmFsKCkpXSwgeyB2YWxpZGF0ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFwiY2xpY2sgLm1vcmVcIjogZnVuY3Rpb24gY2xpY2tNb3JlKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0S2V5SGVhZGVyKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoWydPYmplY3QnLCAnSWRMaXN0J10uaW5kZXhPZih0aGlzLm1vZGVsLmdldChcIlBhcmFtZXRyVHlwZVwiKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vINC00LXRgNC10LLQvlxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5UeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWVzdFNlbGVjdGVkOiBSZXNvdXJjZXMuc2VsZWN0UmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVlc3Q6IFJlc291cmNlcy5zZWxlY3RSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgUnVicmljOiBSZXNvdXJjZXMuc2VsZWN0UnVicmljLFxuICAgICAgICAgICAgICAgICAgICAgICAgUnVicmljVG9vbHM6IFt7IGlkOiAnYWRkJywgY2FwdGlvbjogUmVzb3VyY2VzLmFkZCB9LCB7IGlkOiAncmVuYW1lJywgY2FwdGlvbjogUmVzb3VyY2VzLnJlbmFtZSB9LCB7IGlkOiAnY2xlYXInLCBjYXB0aW9uOiBSZXNvdXJjZXMuZGVsZXRlSXRlbSB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZWFyY2hPYmonLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImctZm9ybS0taW5wdXQgaW5wdXQtZGF0YVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzZWFyY2gtbmFtZVwiIHZhbHVlPVwiXCIgY2xhc3M9XCJnLWZvcm0tLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBrZXl3b3JkXCIvPjxpIGNsYXNzPVwic2VhcmNoIHJ0bC0xXCIgbmFtZT1cInNlYXJjaFwiPjwvaT48L3NwYW4+J1xuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGU6IFJlc291cmNlcy5zZWxlY3RUcmVlXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyZWUgPSBuZXcgdHJlZVZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLCBzZWxlY3RlZDogdGhpcy5tb2RlbC5nZXQoJ1ZhbHVlJyksIG5vZGU6IHsgY2hlY2tib3g6IGZhbHNlIH0gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IG5ldyBkaWFsb2dWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB3aW5UeXBlW3RoaXMubW9kZWwuZ2V0KFwiUGFyYW1ldHJUeXBlXCIpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogeyBtYW5hZ2U6IFt7IGlkOiAnY2xvc2UnIH1dIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHdpblR5cGVbdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIikgKyAnVG9vbHMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRyZWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJlZS5jb2xsZWN0aW9uLnVybCA9IHRoaXMubW9kZWwuZ2V0KCd1cmwnKSB8fCAnL2FwaS8nICsgdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIHRyZWUuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odHJlZSwgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbScsIGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCh2Lm1vZGVsLmlkKSA+PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ0lzTXVsdGlWYWx1ZXMnKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5hZGQodi5tb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmFkZCh2Lm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyDQstGL0LHQvtGAINC+0LHRitC10LrRgtCwKNC+0LIpXG5cbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nID0gbmV3IGRpYWxvZ1ZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5zZWxPYmosXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZ2VhcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21lZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IHsgbWFuYWdlOiBbeyBpZDogJ2Nsb3NlJyB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhcjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3sgaWQ6ICdmaWx0ZXJCeVR5cGUnLCBjbGFzc05hbWU6ICdmaWx0ZXInIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NlYXJjaE9iaicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2VhcmNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZy1mb3JtLS1pbnB1dCBpbnB1dC1kYXRhXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlYXJjaC1uYW1lXCIgdmFsdWU9XCJcIiBjbGFzcz1cImctZm9ybS0taW5wdXRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGtleXdvcmRcIi8+PGkgY2xhc3M9XCJzZWFyY2ggcnRsLTFcIiBuYW1lPVwic2VhcmNoXCI+PC9pPjwvc3Bhbj4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBuZXcgc2VhcmNoUGFuZWwoeyByaWQ6IHRoaXMub3B0aW9ucy5yaWQsIGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgSXNNdWx0aVZhbHVlczogdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIikgPT09ICdJZExpc3QnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbeyBpZDogJ2Nsb3NlJywgdGl0bGU6IFJlc291cmNlcy5hcHBseSwgY2xhc3NOYW1lOiAnYmx1ZSByaWdodCcgfV0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oZGlhbG9nLCAnZm9vdGVyOmJ1dHRvbjpjbGljaycsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlZ2lvbigpKSB0aGlzLmFkZFJlZ2lvbignZGlhbG9nJywgJy5kaWFsb2cnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVnaW9uKCdkaWFsb2cnKS5zaG93KGRpYWxvZyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcImNsaWNrIEB1aS5jbGVhclwiOiBmdW5jdGlvbiBjbGlja1VpQ2xlYXIoZSkge1xuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsgXCJEaXNwbGF5VmFsdWVcIjogXCJcIiwgXCJWYWx1ZVwiOiBbXSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jb2xsZWN0aW9uKSB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZWwpIHRoaXMubW9kZWwgPSBuZXcgcGFyYW1Nb2RlbCh0aGlzLm9wdGlvbnMuYXR0cmlidXRlcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoXCJOYW1lXCIpLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgdGhpcy5tb2RlbC5zZXQoXCJOYW1lXCIsIHRoaXMubW9kZWwuZ2V0KFwiTmFtZVwiKS5yZXBsYWNlKC8jL2csIFwiXCIpKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcyhcIlBhcmFtZXRyVHlwZVwiKSkgdGhpcy5tb2RlbC5zZXQoXCJQYXJhbWV0clR5cGVcIiwgJycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2V0S2V5SGVhZGVyKCk7XG5cbiAgICAgICAgICAgIHZhciBwYXJhbVR5cGUgPSB0aGlzLm1vZGVsLmdldChcIlBhcmFtZXRyVHlwZVwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJ18nICsgcGFyYW1UeXBlXSkgdGhpc1snXycgKyBwYXJhbVR5cGVdKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdEcm9wZG93blNlbGVjdDogZnVuY3Rpb24gb25DaGlsZHZpZXdEcm9wZG93blNlbGVjdChtLCBuKSB7XG5cbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFttLmlkXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldEtleUhlYWRlcjogZnVuY3Rpb24gX3NldEtleUhlYWRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yaWQgfHwgdGhpcy5vcHRpb25zLmRiYXNlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yaWQpIG8uUklEID0gdGhpcy5vcHRpb25zLnJpZDtlbHNlIG8uZGIgPSAnZGInICsgdGhpcy5vcHRpb25zLmRiYXNlO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXkgPSAkLm1lcmdlVXJsUGFyYW0oJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXksIG8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJlcXVpcmUoWydiZGlkJ10sIGZ1bmN0aW9uIChkYmFzZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYmFzZSkgJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXkgPSAkLm1lcmdlVXJsUGFyYW0oJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXksIHsgZGI6ICdkYicgKyBkYmFzZSB9KTtlbHNlIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiDQtdGB0LvQuCDQsiDQv9Cw0YDQsNC80LXRgtGA0LDRhSDQstGL0LHQvtGA0LAg0L7QsdGK0LXQutGC0LAg0L3QtSDQt9Cw0LTQsNC9IHJpZCwg0LIg0L7QutC90LUg0LLRi9Cx0L7RgNCwINC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7QutCw0LfQsNGC0Ywg0LjQvdGC0LXRgNGE0LXQudGBINCy0YvQsdC+0YDQsCDQsdCw0LfRi1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9kaWN0aW9uYXJ5OiBmdW5jdGlvbiBfZGljdGlvbmFyeSgpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRSZWdpb24oJ2RkbScsICdkaXYnKTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnZGRtJywgbmV3IERyb3BEb3duTGlzdCh7IGNvbGxlY3Rpb246IGNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICBjb2xsZWN0aW9uLnVybCA9ICcvYXBpL01vZGVsRGljSXRlbXM/ZGljPScgKyB0aGlzLm1vZGVsLmdldCgnTWV0YUVudGl0eScpO1xuICAgICAgICAgICAgY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgICAgICAgICAgcmVzZXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdkZG0nKS5zZXRDdXJyZW50KHRoaXMubW9kZWwuZ2V0KFwiVmFsdWVcIilbMF0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5nZXRDaGlsZFZpZXcoJ2RkbScpLCAnZHJvcGRvd246c2VsZWN0JywgZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IFZhbHVlOiBbbS5pZF0gfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZGF0ZXRpbWU6IGZ1bmN0aW9uIF9kYXRldGltZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2RhdGUtcG9zaXRpb24nKTtcblxuICAgICAgICAgICAgLy92YXIgdmFsdWUgPSAkLnBhcnNlRGF0ZSh0aGlzLm1vZGVsLmdldChcIlZhbHVlXCIpWzBdKTsgLy9Wb2xrb3YgMjAxNy0xMC0yNiAtINC70L7QutCw0LvQuNC30L7QstGL0LLQsNGC0Ywg0LTQsNGC0YMg0L3QtSDRgtGA0LXQsdGD0LXRgtGB0Y9cbiAgICAgICAgICAgIC8vVm9sa292IDIwMTctMTAtMjYgLSDQsiDQvNC+0LTQtdC70Lgg0LTQsNGC0LAg0LLRgdC10LPQtNCwINC/0YDQtdC00YHRgtCw0LLQu9C10L3QsCDQsiBJU08t0YTQvtGA0LzQsNGC0LVcbiAgICAgICAgICAgIC8vdGhpcy5tb2RlbC5zZXQoeyBWYWx1ZTogWyQuVG9JU08odmFsdWUpXSB9KTtcblxuICAgICAgICAgICAgdmFyIGRhdGVPYmogPSB0aGlzLiQoXCJpbnB1dFwiKS5lakRhdGVQaWNrZXIoe1xuXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIC8vd2lkdGg6IFwiODAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjM2cHhcIixcbiAgICAgICAgICAgICAgICAvL1ZvbGtvdiAyMDE3LTEwLTI2INCy0LDQttC90L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMIERhdGUgLSDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDQv9C+0LvRg9Cw0LXQvCDQsiBVVEMsINC/0L7RgdC60L7Qu9GM0LrRgyDQvtC90LAg0L/RgNC40YjQu9CwINC90LDQvCDQsiBVVEMgXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKHRoaXMubW9kZWwuZ2V0KFwiVmFsdWVcIilbMF0pLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogUmVzb3VyY2VzLkxhbmcsXG4gICAgICAgICAgICAgICAgYnV0dG9uVGV4dDogUmVzb3VyY2VzLlRvZGF5LFxuICAgICAgICAgICAgICAgIHNob3dQb3B1cEJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgd2F0ZXJtYXJrVGV4dDogdGhpcy5tb2RlbC5nZXQoJ0NhcHRpb24nKSwgLy9SZXNvdXJjZXMuZm9ybWF0RGF0ZSxcblxuICAgICAgICAgICAgICAgIGZvY3VzT3V0OiBmdW5jdGlvbiAoYXJncykge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcImlucHV0XCIpLmRhdGEoXCJlakRhdGVQaWNrZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcblxuICAgICAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9Wb2xrb3YgMjAxNy0xMC0yNiDQktCw0LbQvdC+INGD0LHRgNCw0YLRjCDRhNCw0LrRgtC+0YAg0LLRgNC10LzQtdC90LgsINC30LTQtdGB0Ywg0L7QvSDQvdC1INGC0YDQtdCx0YPQtdGC0YHRjyAo0L/QsNGA0LDQvNC10YLRgCDQv9GA0LjQvdC40LzQsNC10YIg0YLQvtC70YzQutC+INCU0LDRgtGDKVxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZUxvY2FsID0gYXJncy5kYXRlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IFZhbHVlOiBbJC5Ub0lTT0RhdGVPbmx5KGRhdGVMb2NhbCldIH0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRcIikuYWRkQ2xhc3MoXCJlamRhdGVwaWNrZXJcIik7XG5cbiAgICAgICAgICAgIHRoaXMuJCgnLnN2Zy1pY29uLS1iaWcnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5lakRhdGVQaWNrZXIoXCJzaG93XCIpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9zZWFyY2hQYW5lbCcsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdjL1NpbXBsZVRhYmxlVmlldycsICdnL3RyZWUnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgdGFibGVTZWFyY2gsIHRyZWVWaWV3KSB7XG5cbiAgICB2YXIgbGlzdFNlbGVjdGVkVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2l0ZW0nLFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPCUtIHRpdGxlICU+PHNwYW4gZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiPjwvc3Bhbj4nKSxcbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIHNwYW5bZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiXSc6ICdyZW1vdmU6c2VsZWN0ZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAncmVtb3ZlOnNlbGVjdGVkJzogJ3JlbW92ZTpzZWxlY3RlZCdcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2Nob2lzZS1wYW5lbCcsXG5cbiAgICAgICAgdGVtcGxhdGU6ICcjY2hvaXNlLXBhbmVsLWxpc3QtdGVtcGxhdGUnLFxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIHR0OiAnI3R5cGVzLXRyZWUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgcmVzdWx0OiAnLnJlc3VsdC1saXN0JyxcbiAgICAgICAgICAgIHNlbGVjdDogJy5zZWxlY3QtbGlzdCcsXG4gICAgICAgICAgICB0cmVlOiAnQHVpLnR0J1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmlkKSB0aGlzLnRyZWVPcHRpb25zID0geyBwYXRoOiAnL2FwaS9UcmVlL0J5V2lkZ2V0US8nICsgdGhpcy5vcHRpb25zLnJpZCB9O1xuXG4gICAgICAgICAgICB0aGlzLnR5cGVpZCA9IDEwMDAxO1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hWYWwgPSAnJztcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHZhciBjID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIGMudXJsID0gXCIvYXBpL0xpc3QvP3BhZ2U9MSZ0ZXh0PSZ0eXBlaWQ9MTAwMDFcIjtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdyZXN1bHQnLCBuZXcgdGFibGVTZWFyY2goe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IGMsXG4gICAgICAgICAgICAgICAgcm93VGVtcGxhdGU6IFwiPHRkPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2NoXzwlLSBpZCAlPicgY2xhc3M9J2ctZm9ybS0tY2hlY2tib3gnPjxsYWJlbCBmb3I9J2NoXzwlLSBpZCAlPic+PHNwYW4+PCU9IG51bSAlPi48L3NwYW4+PHNwYW4+PCUtIHRpdGxlICU+PC9zcGFuPjwvbGFiZWw+PC90ZD48dGQ+PCUtIHR5cGUgJT48L3RkPlwiLFxuICAgICAgICAgICAgICAgIGhlYWQ6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFt7IGlkOiAwLCB0aXRsZTogUmVzb3VyY2VzLnRpdGxlLCB3aWR0aDogJzcwJScgfSwgeyBpZDogMSwgdGl0bGU6IFJlc291cmNlcy50eXBlLCB3aWR0aDogJzMwJScgfV0pXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5jb2xsZWN0aW9uLm9uKCdyZXNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygncmVzdWx0JykuJGVsLmhpZGVJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygncmVzdWx0JykuY29sbGVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ3Jlc3VsdCcpLiRlbC5oaWRlSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnc2VsZWN0JywgbmV3IGxpc3RTZWxlY3RlZFZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICB2YXIgdGMgPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuICAgICAgICAgICAgdGMudXJsID0gdGhpcy50cmVlT3B0aW9ucyA/IHRoaXMudHJlZU9wdGlvbnMucGF0aCB8fCAnL2FwaS9UeXBlJyA6ICcvYXBpL1R5cGUnO1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3RyZWUnLCBuZXcgdHJlZVZpZXcoeyBjb2xsZWN0aW9uOiB0Yywgbm9kZTogeyBjaGVja2JveDogZmFsc2UsIGxldmVsT3BlbjogNCB9IH0pKTtcblxuICAgICAgICAgICAgdGMuZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld0NvbnRhaW5lclNlbGVjdEl0ZW06IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q29udGFpbmVyU2VsZWN0SXRlbSh2KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGVpZCA9IHYubW9kZWwuaWQ7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcblxuICAgICAgICAgICAgdGhpcy5zZWFyY2hWYWwgPSAnJztcbiAgICAgICAgICAgIHRoaXMudHlwZWlkID0gMTAwMDE7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5jb2xsZWN0aW9uO1xuICAgICAgICAgICAgYy51cmwgPSAkLm1lcmdlVXJsUGFyYW0oYy51cmwsIHsgdGV4dDogdGhpcy5zZWFyY2hWYWwsIHBhZ2U6IDEsIHR5cGVpZDogdGhpcy50eXBlaWQgfSk7XG4gICAgICAgICAgICBjLnJlc2V0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2gobSkge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5jb2xsZWN0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygncmVzdWx0JykuY3VycmVudFBhZ2UgPSAxO1xuXG4gICAgICAgICAgICBjLnVybCA9ICQubWVyZ2VVcmxQYXJhbShjLnVybCwgeyBwYWdlOiAxLCB0eXBlaWQ6IHRoaXMudHlwZWlkLCB0ZXh0OiB0aGlzLnNlYXJjaFZhbCB9KTtcblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdub3RpY2U6c2hvdzptZXNzYWdlJyk7XG5cbiAgICAgICAgICAgIGMuZmV0Y2goe1xuICAgICAgICAgICAgICAgIHJlc2V0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdub3RpY2U6Y2xpY2s6YnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdub3RpY2U6Y2xpY2s6YnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmlsdGVyQnlUeXBlOiBmdW5jdGlvbiBmaWx0ZXJCeVR5cGUodikge1xuICAgICAgICAgICAgdGhpcy51aS50dC50b2dnbGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWFyY2hPYmo6IGZ1bmN0aW9uIHNlYXJjaE9iaihyKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFyIHRleHQgPSByLiQoXCJpbnB1dFtuYW1lPSdzZWFyY2gtbmFtZSddXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgIGZsYWcgPSBldmVudC5rZXlDb2RlID8gZXZlbnQua2V5Q29kZSA9PT0gMTMgJiYgJC50cmltKHRleHQpIDogJChldmVudC50YXJnZXQpLmhhc0NsYXNzKCdzZWFyY2gnKTtcblxuICAgICAgICAgICAgaWYgKGZsYWcgJiYgdGV4dC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVmFsID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld0V2ZW50czoge1xuXG4gICAgICAgICAgICAncGFnZTpzZWxlY3QnOiBmdW5jdGlvbiBwYWdlU2VsZWN0KG4pIHtcblxuICAgICAgICAgICAgICAgIHZhciByID0gdGhpcy5nZXRDaGlsZFZpZXcoJ3Jlc3VsdCcpLFxuICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy5nZXRDaGlsZFZpZXcoJ3Jlc3VsdCcpLmNvbGxlY3Rpb247XG5cbiAgICAgICAgICAgICAgICByLmN1cnJlbnRQYWdlID0gbjtcbiAgICAgICAgICAgICAgICBjLnVybCA9ICQubWVyZ2VVcmxQYXJhbShjLnVybCwgeyBwYWdlOiBuIH0pO1xuXG4gICAgICAgICAgICAgICAgYy5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTppbnB1dDpyb3cnOiBmdW5jdGlvbiBjaGFuZ2VJbnB1dFJvdyh2KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGkgPSB2LiQoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLnR0LmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIGlmICgkaS5wcm9wKCdjaGVja2VkJykpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLklzTXVsdGlWYWx1ZXMpIHRoaXMuY29sbGVjdGlvbi5hZGQodi5tb2RlbCk7ZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5nZXRDaGlsZFZpZXcoJ2JvZHknKS5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kZWwuaWQgIT09IGEubW9kZWwuaWQpIGEuJCgnaW5wdXQnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmFkZCh2Lm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHYubW9kZWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ3JlbW92ZTpzZWxlY3RlZCc6IGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKHIpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5nZXRDaGlsZFZpZXcoJ2JvZHknKS5jaGlsZHJlbi5maW5kQnlNb2RlbChyLm1vZGVsKS4kKCdpbnB1dCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHIubW9kZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZy90cmVlJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcblxuICAgIC8vIHRoaXMub3B0aW9ucy5zZWxlY3RlZCAgLSAg0LzQsNGB0YHQuNCyINCy0YvQsdGA0LDQvdGL0YUg0LzQvtC00LXQu9C10LlcbiAgICAvLyB0aGlzLm9wdGlvbnMubm9kZSA9IHtjaGVja2JveDogdHJ1ZSwgaWNvbjogW2ZvbGRlciwgZmlsZV0sIGxldmVsT3BlbjogTn0gLSAg0L7QsdGK0LXQutGCINC+0L/RhtC40Lkg0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0YPQt9C70LBcbiAgICAvLyB0aGlzLm9wdGlvbnMuYnJhbmNoID0ge3BpZDogMH0g0L/QvtC60LDQt9GL0LLQsNC10LzQsNGPINCy0LXRgtC60LBcblxuICAgIHZhciBub2RlQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICAgICAgbW9kZWw6IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhcmVudGlkOiAnJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgcGFyZW50czogW10sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IDAsXG4gICAgICAgICAgICAgICAgY2RhdGU6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIHZhciBUcmVlTm9kZSA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAnbGknLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdj48aSBjbGFzcz1cImV4cGFuZGVyXCIgPCUtIG5vZGVzP1wiXCI6XCJkaXNhYmxlZFwiICU+PjwvaT48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJub2RlXzwlLSBpZCAlPlwiPjxsYWJlbCBmb3I9XCJub2RlXzwlLSBpZCAlPlwiPjwvbGFiZWw+JyArICc8c3BhbiB0cmVlLWljb249XCI8JS0gbm9kZXM/KGlkPT09XCItMVwiP1wicm9vdFwiOlwiZm9sZGVyXCIpOlwiZmlsZVwiICU+XCI+PCUgaWYoaWNvbnVybCl7ICU+PGltZyBzcmM9XCI8JS0gaWNvbnVybCAlPlwiIGFsdD1cIlwiIC8+Jm5ic3A7PCUgfSAlPjwlLSB0aXRsZSAlPjwvc3Bhbj4nICsgJzxidXR0b24gZGF0YS12YWx1ZT1cIm9rXCI+PC9idXR0b24+PGJ1dHRvbiBkYXRhLXZhbHVlPVwiY2FuY2VsXCI+PC9idXR0b24+JyArICc8L2Rpdj48dWw+PC91bD4nKSxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgc3BhbjogJ3NwYW4nLFxuICAgICAgICAgICAgY2FuY2VsOiAnYnV0dG9uW2RhdGEtdmFsdWU9XCJjYW5jZWxcIl0nLFxuICAgICAgICAgICAgc2F2ZTogJ2J1dHRvbltkYXRhLXZhbHVlPVwib2tcIl0nLFxuICAgICAgICAgICAgZXhwYW5kZXI6ICdpLmV4cGFuZGVyJyxcbiAgICAgICAgICAgIGNoYm94OiAnaW5wdXRbdHlwZT1jaGVja2JveF0nLFxuICAgICAgICAgICAgbGFiZWw6ICdpbnB1dFt0eXBlPWNoZWNrYm94XStsYWJlbCdcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICB0cmVlOiB7IGVsOiAndWwnLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljayBAdWkuc3Bhbic6ICdjb250YWluZXI6c2VsZWN0Oml0ZW0nXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjbGljayBAdWkuY2hib3gnOiBmdW5jdGlvbiBjbGlja1VpQ2hib3goZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3NlbGVjdGVkJywgdGhpcy51aS5jaGJveC5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnY2xpY2s6c2VsZWN0OmlucHV0JywgdGhpcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmNhbmNlbCc6IGZ1bmN0aW9uIGNsaWNrVWlDYW5jZWwoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnaXNFZGl0JywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmlkKSB0aGlzLm1vZGVsLmNvbGxlY3Rpb24ucmVtb3ZlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIEB1aS5zYXZlJzogZnVuY3Rpb24gY2xpY2tVaVNhdmUoZSkge1xuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGlmICgkLnRyaW0odGhpcy51aS5zcGFuLnRleHQoKSkpIHRoaXMubW9kZWwuc2F2ZSh7IHRpdGxlOiB0aGlzLnVpLnNwYW4udGV4dCgpIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ2lzRWRpdCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayAuZXhwYW5kZXInOiBmdW5jdGlvbiBjbGlja0V4cGFuZGVyKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2RpdicpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1vZGVsRXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjaGFuZ2U6bm9kZXMnOiBmdW5jdGlvbiBjaGFuZ2VOb2RlcyhtLCBub2Rlcykge1xuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVzICYmIG5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLmV4cGFuZGVyLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLnNwYW4uYXR0cigndHJlZS1pY29uJywgJ2ZvbGRlcicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWkuZXhwYW5kZXIuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5zcGFuLmF0dHIoJ3RyZWUtaWNvbicsICdmaWxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTppc0VkaXQnOiBmdW5jdGlvbiBjaGFuZ2VJc0VkaXQobSwgdikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHYpIHRoaXMudWkuc3Bhbi5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtlbHNlIHRoaXMudWkuc3Bhbi5yZW1vdmVBdHRyKCdjb250ZW50ZWRpdGFibGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQgJiYgdGhpcy5vcHRpb25zLnBhcmVudC5pZCA9PT0gdGhpcy5tb2RlbC5nZXQoJ3BhcmVudGlkJykpIHtcblxuICAgICAgICAgICAgICAgIHZhciBwID0gdGhpcy5vcHRpb25zLnBhcmVudC5nZXQoJ3BhcmVudHMnKSB8fCBbXTtcblxuICAgICAgICAgICAgICAgIHAucHVzaChwYXJzZUludCh0aGlzLm9wdGlvbnMucGFyZW50LmlkKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgncGFyZW50cycsIF8udW5pcShwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ub2RlKSB0aGlzLm9wdGlvbnMubm9kZSA9IHtcbiAgICAgICAgICAgICAgICBjaGVja2JveDogdHJ1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdzZWxlY3RlZCcpKSB0aGlzLiQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIHRoaXMubW9kZWwuZ2V0KCdzZWxlY3RlZCcpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdub2RlcycpKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBvcGVuIG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubm9kZS5sZXZlbE9wZW4pIHRoaXMuJCgnZGl2JykuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7ZWxzZSBpZiAodGhpcy5tb2RlbC5nZXQoJ2xldmVsJykgPCB0aGlzLm9wdGlvbnMubm9kZS5sZXZlbE9wZW4pIHRoaXMuJCgnZGl2JykuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdHJlZVZpZXcgPSBuZXcgVHJlZVZpZXcoeyBwYXJlbnQ6IHRoaXMubW9kZWwsIGNvbGxlY3Rpb246IHRoaXMubW9kZWwuZ2V0KCdub2RlcycpLCB1cmw6IHRoaXMub3B0aW9ucy51cmwsIG5vZGU6IHRoaXMub3B0aW9ucy5ub2RlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygndHJlZScsIHRyZWVWaWV3KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubm9kZS5jaGVja2JveCkgdGhpcy4kKCdpbnB1dFt0eXBlPWNoZWNrYm94XSB+IGxhYmVsJykuaGlkZSgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZWwuaGFzKCdpc0VkaXQnKSkgdGhpcy5tb2RlbC5zZXQoJ2lzRWRpdCcsIGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93QWRkVGVtcGxhdGU6IGZ1bmN0aW9uIHNob3dBZGRUZW1wbGF0ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ2lzRWRpdCcsIGZhbHNlKTtcblxuICAgICAgICAgICAgdmFyIG0gPSBuZXcgQmFja2JvbmUuTW9kZWwoeyBpZDogbnVsbCwgdGl0bGU6IFJlc291cmNlcy50aXRsZSwgcGFyZW50aWQ6IHRoaXMubW9kZWwuaWQsIGNkYXRlOiAwLCBub2RlczogbnVsbCwgaWNvbnVybDogbnVsbCB9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdub2RlcycpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmdldCgnbm9kZXMnKS5hZGQobSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW21dKTtcbiAgICAgICAgICAgICAgICBjby51cmwgPSB0aGlzLm1vZGVsLmNvbGxlY3Rpb24udXJsO1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsgbm9kZXM6IGNvLCBjaGlsZHJlbjogMSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5tb2RlbC50cmlnZ2VyKCdjaGFuZ2U6bm9kZXMnKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIG0uc2V0KCdpc0VkaXQnLCB0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrOnNlbGVjdDppbnB1dCc6ICdjbGljazpzZWxlY3Q6aW5wdXQnLFxuICAgICAgICAgICAgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbSc6ICdjb250YWluZXI6c2VsZWN0Oml0ZW0nXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgdmFyIFRyZWVWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndWwnLFxuICAgICAgICBjbGFzc05hbWU6ICdnLXRyZWUnLFxuICAgICAgICBjaGlsZFZpZXc6IFRyZWVOb2RlLFxuXG4gICAgICAgIGNoaWxkVmlld09wdGlvbnM6IGZ1bmN0aW9uIGNoaWxkVmlld09wdGlvbnMoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLm9wdGlvbnMucGFyZW50LFxuICAgICAgICAgICAgICAgIHVybDogdGhpcy5vcHRpb25zLnVybCxcbiAgICAgICAgICAgICAgICBub2RlOiB0aGlzLm9wdGlvbnMubm9kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uY29tcGFyYXRvciA9ICdjZGF0ZSc7XG5cbiAgICAgICAgICAgIHRoaXMuYnJhbmNoID0gdGhpcy5vcHRpb25zLmJyYW5jaCB8fCB7IHBpZDogMCB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wYXJlbnQuc2V0KHsgY2hpbGRyZW46IHRoaXMuY29sbGVjdGlvbi5sZW5ndGggfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB0aGlzLm9wdGlvbnMucGFyZW50LnNldCh7IG5vZGVzOiBudWxsIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmhpZGVJbmRpY2F0b3IoKTtcblxuICAgICAgICAgICAgICAgIHZhciB3aWxsID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KG0uZ2V0KCdwYXJlbnRpZCcpKSA9PT0gMCkgbS5zZXQoJ2xldmVsJywgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RlZCkgbS5zZXQoJ3NlbGVjdGVkJywgdGhpcy5vcHRpb25zLnNlbGVjdGVkLmluZGV4T2YocGFyc2VJbnQobS5pZCkpICE9PSAtMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5jb2xsZWN0aW9uLndoZXJlKHsgcGFyZW50aWQ6IG0uaWQgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjbyA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY28udXJsID0gdGhpcy5jb2xsZWN0aW9uLnVybDtcblxuICAgICAgICAgICAgICAgICAgICBjby5hZGQoXy5tYXAobm9kZXMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnNldCgnbGV2ZWwnLCBtLmdldCgnbGV2ZWwnKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5jb2xsZWN0aW9uID0gY287XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KCdub2RlcycsIGNvLmxlbmd0aCA/IGNvIDogbS5oYXMoJ2lzZG9jJykgPyBudWxsIDogW10pO1xuICAgICAgICAgICAgICAgICAgICB3aWxsLmFkZChub2Rlcyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHdpbGwubW9kZWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld0NvbnRhaW5lclNlbGVjdEl0ZW06IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q29udGFpbmVyU2VsZWN0SXRlbSh2KSB7XG5cbiAgICAgICAgICAgIHRoaXMuJCgnZGl2LmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHYuJCgnZGl2OmZpcnN0JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6c2VsZWN0OmlucHV0JzogJ2NsaWNrOnNlbGVjdDppbnB1dCcsXG4gICAgICAgICAgICAnY29udGFpbmVyOnNlbGVjdDppdGVtJzogJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbSdcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gVHJlZVZpZXc7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZy9lalJURVZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnZy9JbWFnZUdhbGxlcnlWaWV3JywgJ1JVJywgJ3N5bmNmdXNpb24nXSwgZnVuY3Rpb24gKFJlc291cmNlcywgR2FsbGVyeSkge1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndGV4dGFyZWEnLFxuICAgICAgICB0ZW1wbGF0ZTogZmFsc2UsXG5cbiAgICAgICAgb25BdHRhY2g6IGZ1bmN0aW9uIG9uQXR0YWNoKCkge1xuXG4gICAgICAgICAgICB0aGlzLmVqUlRFID0gdGhpcy4kZWwuZWpSVEUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLm9wdGlvbnMudmFsdWUsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogUmVzb3VyY2VzLkxhbmcsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMub3B0aW9ucy53aWR0aCB8fCBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMub3B0aW9ucy5oZWlnaHQgfHwgXCI0NTBweFwiLFxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogXCIyMDBweFwiLFxuICAgICAgICAgICAgICAgIHNob3dGb290ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd0h0bWxTb3VyY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgLy9pc1Jlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvb2xzTGlzdDogWy8qXCJ2aWV3XCIsKi9cImZvbnRcIiwgXCJzdHlsZVwiLCBcImFsaWdubWVudFwiLCBcImN1c3RvbVRvb2xzXCIsIFwibGlua3NcIiwgXCJjbGlwYm9hcmRcIiwgXCJkb0FjdGlvblwiLCAvKlwiaW5kZW50aW5nXCIsKi9cImxpc3RzXCIsIFwibWVkaWFcIiwgXCJ0YWJsZXNcIiwgXCJjYXNpbmdcIiwgXCJjbGVhclwiXSxcbiAgICAgICAgICAgICAgICB0b29sczoge1xuICAgICAgICAgICAgICAgICAgICAvL2Zvcm1hdFN0eWxlOiBbXCJmb3JtYXRcIl0sXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdDpbXCJmaW5kQW5kUmVwbGFjZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgZm9udDogW1wiZm9udFNpemVcIiwgXCJmb250Q29sb3JcIiwgXCJiYWNrZ3JvdW5kQ29sb3JcIl0sXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBbXCJib2xkXCIsIFwiaXRhbGljXCIsIFwidW5kZXJsaW5lXCIsIFwic3RyaWtldGhyb3VnaFwiXSxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25tZW50OiBbXCJqdXN0aWZ5TGVmdFwiLCBcImp1c3RpZnlDZW50ZXJcIiwgXCJqdXN0aWZ5UmlnaHRcIiwgXCJqdXN0aWZ5RnVsbFwiXSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdHM6IFtcInVub3JkZXJlZExpc3RcIiwgXCJvcmRlcmVkTGlzdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkOiBbXCJjdXRcIiwgXCJjb3B5XCIsIFwicGFzdGVcIl0sXG4gICAgICAgICAgICAgICAgICAgIGRvQWN0aW9uOiBbXCJ1bmRvXCIsIFwicmVkb1wiXSxcbiAgICAgICAgICAgICAgICAgICAgLy9pbmRlbnRpbmc6IFtcIm91dGRlbnRcIiwgXCJpbmRlbnRcIl0sXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyOiBbXCJjbGVhckZvcm1hdFwiLCBcImNsZWFyQWxsXCJdLFxuICAgICAgICAgICAgICAgICAgICBsaW5rczogW1wiY3JlYXRlTGlua1wiLCBcInJlbW92ZUxpbmtcIl0sXG4gICAgICAgICAgICAgICAgICAgIC8vaW1hZ2VzOiBbXCJpbWFnZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWE6IFtcInZpZGVvXCJdLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZXM6IFtcImNyZWF0ZVRhYmxlXCIsIFwiYWRkUm93QWJvdmVcIiwgXCJhZGRSb3dCZWxvd1wiLCBcImFkZENvbHVtbkxlZnRcIiwgXCJhZGRDb2x1bW5SaWdodFwiLCBcImRlbGV0ZVJvd1wiLCBcImRlbGV0ZUNvbHVtblwiLCBcImRlbGV0ZVRhYmxlXCJdLFxuICAgICAgICAgICAgICAgICAgICAvL2VmZmVjdHM6IFtcInN1cGVyc2NyaXB0XCIsIFwic3Vic2NyaXB0XCJdLFxuICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFtcInVwcGVyQ2FzZVwiLCBcImxvd2VyQ2FzZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgLy92aWV3OiBbXCJmdWxsU2NyZWVuXCJdLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21Ub29sczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiZ2FsbGVyeVdpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogUmVzb3VyY2VzLmdhbGxlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzczogXCJlLXJ0ZS10b29sYmFyLWljb24gaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2dhbGxlcnktd2luZG93JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ljb24tc291cmNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5nYWxsZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3IEdhbGxlcnkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdOb3RpZnknKS5yZXF1ZXN0KCdvbmNlOmRpYWxvZycsIGRtKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oZG0uY29udGVudCwgJ2NoYW5nZTppdGVtJywgZnVuY3Rpb24gKG1vZGVsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9ICc8aW1nIHNyYz1cIicgKyBtb2RlbC5nZXQoJ0ZpbGVVcmwnKSArICdcIiBhbHQ9XCInICsgbW9kZWwuZ2V0KCdPcmlnaW5hbEZpbGVOYW1lJykgKyAnXCIgLz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVqUlRFLmV4ZWN1dGVDb21tYW5kKFwiaW5zZXJ0aHRtbFwiLCBpbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy97XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBuYW1lOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRvb2x0aXA6IFJlc291cmNlcy5hZGRPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjc3M6ICdlLXJ0ZS10b29sYmFyLWljb24gbGluay1vYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgdmFyIHRleHQgPSB0aGlzLmVqUlRFLmdldFRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB2YXIgbW9kZWwgPSBuZXcgQmFja2JvbmUuTW9kZWwoeyBQYXJhbWV0clR5cGU6IFwiT2JqZWN0XCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgQmFja2JvbmUudHJpZ2dlcihcImNob2ljZTp2aWV3XCIsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBtb2RlbC5vbihcImNob2ljZTpjbG9zZVwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgbyA9IGMuYXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGlmIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB2YXIgb2lkID0gby5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHRoaXMuZWpSVEUuZXhlY3V0ZUNvbW1hbmQoXCJpbnNlcnRodG1sXCIsIFwiPHNwYW4gZGF0YS1va25kPSczJyBkYXRhLW9pZD0nXCIgKyBvaWQgKyBcIicgY2xhc3M9J01hcmsnIHRpdGxlPSdcIiArIG8uZ2V0KFwidGl0bGVcIikgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5kYXRhKFwiZWpSVEVcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZml4OiBmdW5jdGlvbiBmaXgoKSB7XG4gICAgICAgICAgICAvLyDQutC+0YHRgtGL0LvRjCDQtNC70Y8gZWpSVEUgLSDRgNC10LTQsNC60YLQvtGAINC90LUg0L/RgNCw0LLQuNC70YzQvdC+INCy0YvRh9C40YHQu9GP0LXRgiDRgNCw0LfQvNC10YDRiyDQvtCx0LvQsNGB0YLQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuFxuICAgICAgICAgICAgLy8g0YDQsNCx0L7RgtCw0LXRgiDQutC+0LPQtNCwINGA0LXQtNCw0LrRgtC+0YAg0LLQuNC00LXQvVxuICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyJdfQ==
