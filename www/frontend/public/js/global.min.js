"use strict";define("global:collection:dictionary",[],function(){var e=Backbone.Collection.extend({model:Backbone.Model.extend({idAttribute:"ID",defaults:{DicCode:"",DicType:0,ID:null,Importance:null,Title:""}}),url:"/api/sources/types"}),t=new e,i={done:function(e,n){this.callback=e,n&&(this.context=n),t.models.length?this.callback.call(i.context,t):t.fetch({reset:!0,success:function(e){i.callback.call(i.context,e)}})}};return i}),define("storage",["i18n!nls/resources.min"],function(e){return new(Backbone.Model.extend({defaults:{Trees:{},Players:[],ConnectUrl:""},initialize:function(){this.Current=null,Backbone.on("storage:addTree",this.addTree,this),Backbone.on("storage:addPlayer",this.addPlayer,this),Backbone.on("storage:clearPlayers",this.clearPlayers,this),Backbone.on("storage:check-add",this.addChecking,this),Backbone.on("storage:check-clear",this.clearChecking,this),Backbone.on("storage:temp-object",this.setCurrent,this)},setCurrent:function(e){this.Current=e},clearChecking:function(e){var t=this.checkCollection.get(e);this.checkCollection.remove(t)},addChecking:function(e){this.checkCollection||(this.checkCollection=new Backbone.Collection),this.checkCollection.add(e)},getTree:function(e,t,i,n){return new Promise(function(o,s){var l=this.get("Trees");if(!l[e]||t){var a=this.getModelForTree(e);require(["g/tree/TreeView"],function(t){var s=n||{};s.model=a,s.api=function(){return"/api/"+e+(i||"")},s.markCurrent=!0,l[e]=new t(s),this.set("Trees",l),o(l[e])}.bind(this))}else l[e].operation=this.getModelForTree(e).get("present").operation,o(l[e])}.bind(this))},getModelForTree:function(e){if($.trim(e))return this.buts||this.getButs(),new Backbone.Model(_.findWhere(this.buts,{id:e}))},getButs:function(){var t=e.QueryButtonsData,i=[];return _.each(t,function(e){i.push(e);var t=e.addButtons;t&&(i=_.union(i,t))},this),this.buts=i,i},addPlayer:function(e,t){this.get("Players").push(e)},clearPlayers:function(){var e=this.get("Players");_.each(e,function(e){e.pause(),e.src="",e.load(),e={}},this)}}))}),define("global.behaviors.input",[],function(){return Mn.Behavior.extend({ui:{input:"input[type=text].g-form--input",clear:"i.clear",switchEdit:"#switch-edit",help:"i.help"},events:{"click .g-tip kbd":function(e){$(e.target).closest(".g-tip").hide()},"click @ui.help":function(e){$(e.target).next(".g-tip").show().delay(3e3).fadeOut()},"click @ui.clear":function(e){$(event.target).prevAll("input").val("").removeClass("filled")},'focus @ui.input:not(".disabled")':"filled",'blur @ui.input:not(".disabled")':"filled","click @ui.switchEdit":function(e){var t=$(e.target),i="off"===t.attr("mode");t.attr("mode",i?"on":"off"),this.$form.toggleClass("readonly"),i?this.$form.find(".inquiry-form--controls .row div:last").show():this.$form.find(".inquiry-form--controls .row div:last").hide(),_.each(this.ui.input,function(e){var t=$(e);this.$form.hasClass("readonly")?t.prop("disabled",!0):t.prop("disabled",!1)},this)}},filled:function(e){var t=$(e.target);$.trim(t.val())?(t.addClass("filled"),this.ui.clear.show()):t.removeClass("filled")},onRender:function(){this.$form=null,_.each(this.ui.input,function(e){var t=$(e);$.trim(t.val())&&t.addClass("filled"),t.closest(".readonly").get(0)&&!this.$form&&(this.$form=t.closest(".readonly").eq(0)),this.$form&&t.prop("disabled",!0)},this),_.each(this.ui.help,function(e){$.trim($(e).next(".g-tip").text())||$(e).hide()}),this.$form||(this.ui.switchEdit.hide(),this.ui.switchEdit.siblings("label").hide())}})}),define("global.radio.dialog",["i18n!nls/resources.min","global.model.dialog","global.view.dialog"],function(e,t,i){return new(Mn.Object.extend({channelName:"Notify",radioRequests:{"show:overlay":function(){var e=$("body").find(".g-dialog--overlay");e.get(0)||(e=$('<div class="g-dialog--overlay"></div>'),$("body").append(e)),e.show()},"hide:overlay":function(){$("body").find(".g-dialog--overlay").hide()},"uniq:dialog":function(e){throw"uniq:dialog, - see to callstack"},"once:dialog":function(e){var t=this.initDialog(e);return this.dialog=new i({model:t}),this.getChannel().request("add:dialog",this.dialog),this.listenTo(this.dialog,"toolbar:item:click",this.callToolsDialog),this.listenTo(this.dialog,"toolbar:input:keyup",this.callFilterDialog),this.listenTo(this.dialog,"container:select:item",this.treeSelectItem),this.dialog}},initDialog:function(e){var i=new t;return _.each(e,function(e,t){switch(t){case"tools":case"toolbar":i.get("toolbar").set(e);break;case"controls":case"footer":i.get("footer").set(e);break;default:i.set(t,e)}}),i},treeSelectItem:function(e){if(!this.dialog.getChildView("toolbar"))return this;this.editableView=e;var t=this.dialog.getChildView("toolbar");if(t.collection.length){var i=t.collection.get("add"),n=t.collection.get("rename"),o=t.collection.get("clear");t.children.findByModel(i).$("span").removeClass("disabled"),"-1"!==e.model.id?(t.children.findByModel(n).$("span").removeClass("disabled"),t.children.findByModel(o).$("span").removeClass("disabled")):(t.children.findByModel(n).$("span").addClass("disabled"),t.children.findByModel(o).$("span").addClass("disabled"))}},callToolsDialog:function(t){if(this.editableView)switch(t.model.id){case"add":this.editableView.showAddTemplate();break;case"rename":this.editableView.model.set("isEdit",!0);break;case"clear":if("-1"===this.editableView.model)return;Backbone.trigger("message:confirm",{title:e.askyousure,message:$.Format(e.deltext,"",this.editableView.model.get("title")),fx:function(){this.editableView.model.destroy()},ctx:this})}},callFilterDialog:function(e){var t=e.$("input").val().toLowerCase(),i=this.dialog.model.get("content").children?this.dialog.model.get("content"):this.dialog.model.get("content").getChildView("tree");!function e(i){i.children.each(function(i){var n=i.model;-1!==parseInt(n.id)&&(-1!==n.get("title").toLowerCase().indexOf(t)||n.has("nodes")?i.$el.show():i.$el.hide()),n.has("nodes")&&e(i.getChildView("tree"))})}(i)}}))}),define("global.radio.sideBar",[],function(){var e=Backbone.Model.extend({defaults:{view:null,nameView:"",title:""}}),t=Mn.CollectionView.extend({tagName:"ul",childView:Mn.View.extend({tagName:"li",template:_.template('<span class="<%- icon %>" title="<%- title %>"><%- title %></span>'),triggers:{click:"menu:item"}}),childViewTriggers:{"menu:item":"menu:item"}}),i=Mn.View.extend({el:".sidebar",template:!1,ui:{title:".current-title",name:".title"},regions:{list:{el:".list",replaceElement:!0}},events:{"click .control":function(){this.$el.toggleClass("expanded",function(e){this.isHide=!$(e).hasClass("expanded")}.bind(this))}},initialize:function(){this.model=new e,this.collection=new Backbone.Collection},modelEvents:{change:function(e){this.ui.name.text(this.model.get("title")),this.ui.title.text(this.model.get("nameView"))}},childViewEvents:{"menu:item":function(e){this.model.has("view")&&this.model.get("view").sideBarTrigger(e.model)}},collectionEvents:{reset:function(){}},onRender:function(){this.showChildView("list",new t({collection:this.collection}))}}),n=void 0;new(Mn.Object.extend({channelName:"sidebar",radioRequests:{open:function(e,t){return n.model.set(e),n.collection.reset(t),n}},radioEvents:{show:function(){n||(n=(new i).render()),n.$el.show()},reset:function(){n.model.set(n.model.defaults),n.collection.reset()},hide:function(){n||(n=(new i).render()),n.$el.hide()},close:function(){n.$el.removeClass("expanded")}}}))}),define("global.radio.loader",[],function(){var e=$('<i class="loading" size="xl" speed="medium"></i>'),t=$('<div class="g-dialog--overlay" style="display:block"></div>');return new(Mn.Object.extend({channelName:"loader",radioEvents:{show:function(i,n){var o=this;this.$el=i,this.$el.find(".loading").get(0)||(e.css("display","block"),n&&(_.has(n,"size")&&e.attr("size",n.size),_.has(n,"speed")&&e.attr("speed",n.speed),n.overlay&&i.append(t)),i.append(e),this.timeout=setTimeout(function(){var e=o.$el;e&&(e.find(".loading").remove(),e.find(".g-dialog--overlay").remove())},12e4))},hide:function(){var e=this.$el;e&&(e.find(".loading").remove(),e.find(".g-dialog--overlay").remove()),clearTimeout(this.timeout)}}}))}),define("app",["i18n!nls/resources.min"],function(e){return{Select:new(Backbone.Model.extend({defaults:function(){return{present:"3",query:null,list:null,page:1,detail:null,tab:0,sub:0,params:{id:-1}}},data:["query","list","page","detail","tab","sub"],initialize:function(){this.on("change:query",this.query,this),this.on("change:list",this.list,this),this.on("change:detail",this.detail,this),this.on("change:tab",this.detail,this),this.on("change:sub",this.detail,this),Backbone.on("balance:start",function(e){this.tickBalance=e},this),this.on("change",this.change,this)},fill:function(e){if(e)for(var t=e.split("/"),i=0;i<this.data.length;i++)this.set(this.data[i],t[i]||this.get(this.data[i]))},fullpath:function(){return this.get("present")+"|"+this.getpath()},getpath:function(){for(var e=[],t=0;t<this.data.length;t++){var i=this.get(this.data[t]);if(!$.trim(i))break;e.push(i)}return e.join("/")},query:function(){this.set("list",null)},list:function(){this.get("list")&&-1!==this.get("list").indexOf("=")?this.set("params",this.getObjectByParam(this.get("list"))):this.set("params",null),this.set({page:1})},detail:function(){this.checkMonitoring(),this.tickBalance&&(clearTimeout(this.tickBalance),this.tickBalance=null)},monitoring:{o:-1,f:null},checkMonitoring:function(){var e=parseInt(this.get("detail")),t=this.monitoring,i=(4===parseInt(this.get("tab"))||2===parseInt(this.get("tab")))&&0===parseInt(this.get("sub")),n=t.f!==i;t.o!==e&&(t.o=e,n=!0),n&&(t.f=i,require(["signalR"],function(){require(["/signalr/hubs"],function(){require(["/scripts/IWC-SignalR-master/signalr-patch.js","/scripts/IWC-SignalR-master/iwc-signalr.js"],function(){var t=SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}});e&&setTimeout(function(){i?t.server.startMonitoringTasks($.ajaxSettings.url,e):t.server.stopMonitoringTasks($.ajaxSettings.url,e)},1e3)})})}))},change:function(){},getObjectByParam:function(e){if(!$.trim(e))return null;for(var t={},i=e.split("&"),n=0;n<i.length;n++){var o=i[n],s=o.split("=");t.hasOwnProperty(s[0])||(t[s[0]]=s[1])}return t}})),link:function(){var e=arguments[0],t=arguments[1]||"details",i=e.id;return location.pathname+"/files/"+t+"/"+i},prepare:function(e,t,i){var n=[],o=t||"systemName";return e.href,$.isArray(e)||(e=[e]),Array.from(e,function(e){var t={propType:{}};Array.from(e.data,function(e){t[e[o]]=e.value,t.propType[e[o]]=e.propType},this),t.href=e.href,n.push(t)},this),n},parse:function(t,i,n){var o=t;switch(i){case 2:o=n?new Date(t).toLocaleString():new Date(t).toLocaleDateString(e.Lang)}return o},Get:function(e){var t=e.items,i=t.length,n=new Backbone.Collection({data:[{name:"Display_Name",value:"Not found"}]});return i&&(n=new Backbone.Collection(t)),n},_param:function(e){var t="",i=[];for(var n in e)n&&(t=n+"="+e[n],i.push(t));return i.join("&")},check:function(e,t,i){if(this.access){var n="string"===$.type(e)?e:e.attr("data-id");if(!n)return!1;var o=-1!==this.access.indexOf(n);if(!t||!o)return o;$.cookie("hia")?t.call(i,$.cookie("hia")):$.ajax({url:"/api/common/0/"+n}).done(function(e){e&&(parseInt(e.data[0].value)&&t.call(i,e.data[1].value),$.cookie("hia",e.data[1].value,{expires:30,path:"/"}))}).fail(function(){$.Error(arguments[0])})}},show:function(e){var t=this;e.each(function(e,i){t.check($(i).attr("data-id"))?$(i).show():$(i).hide()})},navigate:function(e,t){var i=this.router||new Backbone.Router,n=!!t;i.navigate(e,{trigger:n})},get:function(){var e=location.hash,t=e.split("|"),i=t[1].split("?"),n=i[0],o=n.split("/");return this.fill(o)},collectUrl:function(e,t){var i=this.addParams(e,t,!0);if(-1===i[0].indexOf("?")&&-1===i[0].indexOf("=")){var n=i[1];i.splice(1,1),i[0]=i[0]+"?"+n}return i.join("&")},getContext:function(){return{key:$.ajaxSettings.url}},addParams:function(e,t){var i="";if(t&&-1!==t.indexOf("?")){var n=t.split("?");i=n[0],t=n[1]}var o=t?t.split("&"):[];for(var s in e){var l=s+"="+e[s];if(n=this.getParam(s,t)){var a=s+"="+n;o[o.indexOf(a)]=l}else o.push(l)}return(i?i+"?":"")+o.join("&")},getParams:function(e,t){var i=[e,""];if(t)for(var n=t.split("&"),o=0;o<n.length;o++){var s=n[o],l=s.split("=");if(l[0]===e)return l}return i},getParam:function(e,t){return this.getParams(e,t)[1]},parseHash:function(){var e={};if(location.hash){var t=location.hash,i=t.split("?");if(i.length>=2)for(var n=i[1].split("&"),o=0;o<n.length;o++){var s=n[o],l=s.split("=");e[l[0]]=l[1]}}return e}}}),define(["i18n!nls/resources.min"],function(e){function t(){new Date-n<s?setTimeout(t,s):(o=!1,Backbone.trigger("window:resizeend"))}function i(e){var t="ui-icon-info";switch(e){case"unknown":t="ui-icon-info";break;case"stopped":t="ui-icon-lightbulb";break;case"complited":t="ui-icon-check";break;case"created":t="ui-icon-pencil";break;case"processing":t="ui-icon-clock";break;case"invalid":t="ui-icon-trash"}return t}$.ajaxSetup({headers:{key:window.location.origin+window.location.pathname+window.location.search+encodeURIComponent(window.location.hash)},timeout:12e4,error:function(e,t){t},beforeSend:function(e,t){},complete:function(e){}}),$.xhrPool=[],$.xhrAbortAll=function(){$.xhrPool.map(function(e){e.abort()}),$.xhrPool=[]};var n=new Date(1,1,2e3,12,"00","00"),o=!1,s=200;$(window).resize(function(e,i){i&&$(i.element).hasClass("anbr-widget")||(n=new Date,!1===o&&(o=!0,setTimeout(t,s)))}),function(t){t.prepare=function(e,i){if(!e)return[];var n=[],o=i||"systemName";e.href;return t.isArray(e)||(e=[e]),Array.from(e,function(e){var t={propType:{}};Array.from(e.data,function(e){t[e[o]]=e.value,t.propType[e[o]]=e.propType},this),t.href=e.href,t.links=e.links,n.push(t)},this),n},t.Format=function(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];if(0===t)e=i;else{var n="{"+(t-1)+"}";e=e.replace(n,i)}}return e},t.fn.showIndicator=function(){var e="_"+(new Date).getTime(),i=this.get(0)?{left:this.offset().left+this.width()/2,top:this.offset().top+this.height()/2}:{left:t(window).width()/2,top:t(window).height()/2};this.attr("loaderid")&&this.hideIndicator(),this.attr("loaderid",e),t("#Rotor").clone().attr("id",e).addClass("loader-indicator").appendTo("body").css(i).show(),setTimeout(function(){this.hideIndicator()}.bind(this),6e4)},t.fn.hideIndicator=function(e){t("#"+this.attr("loaderid")).remove(),this.removeAttr("loaderid")},t.mergeUrlParam=function(e,t){if(-1===e.indexOf("#")){var i=e.split("?"),n=[],o=i[1]?_.chain(i[1].split("&")).map(function(e){if(e)return e.split("=")}).compact().object().value():{},s=_.chain(o).extend(t).map(function(e,t){return t+"="+e}).value();return i[0]+"?"+s.join("&")}return i=e.split("#"),n=i[0].split("?"),o=n[1]?_.chain(n[1].split("&")).map(function(e){if(e&&-1!==e.indexOf("="))return e.split("=")}).compact().object().value():{},s=_.chain(o).extend(t).map(function(e,t){return t+"="+e}).value(),n[0]+"?"+s.join("&")+"#"+i[1]},t.Error=function(e){},t.GetData=function(e){var i={};return e.find("input:not(.ignore)").each(function(){if(t(this).attr("name"))if("checkbox"===t(this).attr("type"))i[t(this).attr("name")]=t(this).prop("checked");else if("radio"===t(this).attr("type"))t(this).prop("checked")&&(i[t(this).attr("name")]=t(this).val());else if(t(this).hasClass("Timepicker")||t(this).hasClass("datepicker")){var e=t(this).datetimepicker("getDate");i[t(this).attr("name")]=null!==e?e.toISOString():null}else t(this).hasClass("ejdatepicker")?i[t(this).attr("name")]=t.ToISO(t(this).data("ejDatePicker").getValue()):t(this).hasClass("ejtimepicker")?i[t(this).attr("name")]=t.ToISO(t(this).data("ejTimePicker").getValue()):i[t(this).attr("name")]=t(this).val()}),e.find("select:not(.ignore)").each(function(){t(this).is(":visible")&&(i[t(this).attr("name")]=t(this).val())}),e.find("textarea:not(.ignore)").each(function(){t(this).is(":visible")&&(i[t(this).attr("name")]=t(this).val())}),i},t.MarkErrorForm=function(e,t){this.$el.hideIndicator(),this.$("#info").text(""),this.$("input").css("border-color",""),_.each(t,function(e){e.text&&this.$("#info").text(e.text),this.$("[name='"+e.name+"']").css("border-color","red")},this)},t.GenQuery=function(e,i,n){var o={"ё":"е","и":"й","е":"ё","й":"и"},s=function(e){for(var t="",i=0;i<e.length;i++)t+=o[e.charAt(i)]||e.charAt(i);return t},l=new RegExp("^"+t.ui.autocomplete.escapeRegex(e.term),"i"),a={lit:e.term,name:n};t.ajax({url:"/api/Dictionary/ByName/",dataType:"json",data:a,error:function(e,i){t.Error(i)},success:function(e){i(t.grep(e.data,function(e){return e=e.label||e.value||e,l.test(e)||l.test(s(e))}))}})},t.addIcon=function(e,n){var o=e.closest("div").find("span.TreeElementTitle span"),s=i(n.status),l="severity"+n.severity;if(o.get(0)){if(o.attr("title")!==n.state){var a=e.closest("div").find("span.TreeElementTitle"),c="severity"+n.severity;l=a.attr("data-pc"),nicon_class=i(n.status),o.removeClass(s).addClass(nicon_class).attr("data-ic",nicon_class).attr("title",n.state),s=o.attr("data-ic"),a.removeClass(l).addClass(c)}}else o=t("<span class='ui-icon ui-corner-all "+s+"' title='"+n.state+"' data-ic='"+s+"'></span><span>"+n.state+"</span>"),e.closest("div").find("span.TreeElementTitle").addClass(l).attr("data-pc",l).append(o)},t.ToISODateOnly=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T00:00:00Z"},t.ToISO=function(t){if(t){if(!isNaN(Date.parse(t))&&new Date(t).toISOString()===t)return t;if(-1!==t.indexOf(":")){var i=t.split(":"),n=new Date;return n.setHours(parseInt(i[0])),n.setMinutes(parseInt(i[1])),n.toISOString()}if("ru-RU"!==e.Lang)return new Date(t).toISOString();var o=t.split("."),s=o[1]+"/"+o[0]+"/"+o[2];return isNaN(Date.parse(s))?(console.error("Дата ["+t+"] не валидна! - "+s),t):new Date(s).toISOString()}},t.parseDate=function(t){var i=t.split(" ");return Date.parse(i[0])?new Date(i[0]).toLocaleDateString(e.Lang):i[0]}}(jQuery)}),define("c/EdgeView",["includeModules","i18n!nls/resources.min"],function(e,t){function i(e){var t=location.pathname.split("/").filter(function(t){return-1!==t.indexOf(e)});if(t.length)return t[0];var i=location.search.substring(1).replace(/%2f/g,"/");return-1!==i.indexOf("returnUrl")&&(t=i.split("/").filter(function(t){return-1!==t.indexOf(e)})),t.length?t[0]:(t=i.split("&").filter(function(t){return-1!==t.indexOf(e)}),t.length?t[0].split("=")[1]:0)}function n(e){var t=i("lang")||"lang-ru-RU",n=i("db")||"db0",o=e.get("Url");if(-1===o.indexOf("http")||-1===o.indexOf("https")){var s=o.replace("{lang}",t);s=-1===o.indexOf("{db}")?s+"?db="+n:s.replace("{db}",n),e.set("Url",s)}}var o=Mn.CollectionView.extend({className:"default-start-tabs",childView:Mn.View.extend({tagName:"a",template:_.template("<%= GroupTitle %>"),triggers:{click:"change:module"},onRender:function(){this.model.has("active")&&this.$el.addClass("active"),this.$el.attr("href","#"),this.model.get("Edges")&&this.triggerMethod("add:edges",this.model.get("Edges"))}}),childViewOptions:function(e,t){t||e.set("active",!0)},childViewTriggers:{"add:edges":"add:edges","change:module":"change:module"}}),s=Mn.CollectionView.extend({tagName:"ul",childView:Mn.View.extend({tagName:"li",template:_.template('<a href="<%= Url %>" class="btn-start btn-start--<%= Code %>" target="_blank"><%= Title %></a>'),triggers:{"click a":{event:"edge:collapse",preventDefault:!1}}}),childViewOptions:function(e){n(e)},childViewTriggers:{"edge:collapse":"edge:collapse"}});return Mn.View.extend({className:"default-start-nav collapsed",template:"#edge-block-template",templateContext:{Resources:t},events:{"touchstart .default-start-nav-path":"defaultNav","click .default-start-nav-path":"defaultNav","touchstart .default-start-nav-close":"startNav","click .default-start-nav-close":"startNav"},defaultNav:function(){var e=i("lang")||"lang-ru-RU",t=i("db")||"db0";location.href="db0"===t?"/"+e+"/home/main":"/"+e+"/"+t+"/home/main"},startNav:function(){if("ABS\\Demo01"==$("#InfoUser").text())return void(location.href="/");this.$el.hasClass("collapsed")?this.$el.animate({height:376,width:570},150,function(e){this.$el.addClass("expanded").removeClass("collapsed"),$("header").prepend('<div class="overlay"></div>')}.bind(this)):this.$el.hasClass("expanded")&&this._collapse()},regions:{tabs:{el:".default-start-tabs",replaceElement:!0},modules:".default-start-tabs-inner"},onRender:function(){this.showChildView("tabs",new o({collection:this.collection}))},_collapse:function(){this.$el.animate({height:44,width:44},150,function(e){this.$el.addClass("collapsed").removeClass("expanded"),$("div.overlay").remove()}.bind(this))},childViewEvents:{"edge:collapse":function(){this._collapse()},"add:edges":function(t){var i=_.filter(t,function(t){return t.Enabled&&-1!==e.indexOf(t.Code)});this.getRegion("modules").hasView()?this.getRegion("modules").attachHtml(new s({collection:new Backbone.Collection(i)}).render()):this.showChildView("modules",new s({collection:new Backbone.Collection(i)}))},"change:module":function(e){this.$(".default-start-tabs a.active").removeClass("active"),e.$el.addClass("active");var t=492*e._index;this.$(".default-start-tabs-inner").animate({left:t?"-"+t:0},400,"easeInOutBack")}}})});var ScheduleModel=Backbone.Model.extend({idAttribute:"UID",defaults:{UID:null,Title:"",TimeStartExecution:null,PointDateForSelection:null,Periodicity:1,WhichDaysOfWeek:[],Subscribers:"",SchedulingTaskType:0,State:1,EmailTopic:"",EmailBody:""},validate:function(e){var t=[];if($.trim(e.Title)||t.push("Title"),$.trim(e.TimeStartExecution)||t.push("TimeStartExecution"),$.trim(e.Subscribers)||t.push("Subscribers"),"3"===e.Periodicity){var i=[];for(var n in e)-1!==n.indexOf("Day_")&&e[n]&&i.push(parseInt(n.split("_")[1]));this.set("WhichDaysOfWeek",i)}if(this.set("Periodicity",parseInt(e.Periodicity)),t.length)return t}}),scheduleCollection=Backbone.Collection.extend({model:ScheduleModel,url:"/api/autoexecscheduling/items"});define("schedule",["RU","i18n!nls/resources.min"],function(e,t){var i=Mn.CollectionView.extend({childView:Mn.View.extend({template:_.template('<input type="checkbox" name="Day_<%- name %>" value="<%- id %>" id="d<%- id %>" class="g-form--checkbox"><label for="d<%- id %>"><%- title %></label>'),onRender:function(){this.$el.css({float:"left",width:"120px"}),this.$("input").prop("checked",this.model.get("checked"))}}),childViewOptions:function(e){e.set({checked:-1!==this.model.get("value").indexOf(e.id)})}}),n=Mn.CollectionView.extend({childView:Mn.View.extend({template:_.template('<input type="radio" name="<%- name %>" value="<%- id %>" class="g-form--radio" id="r<%- id %>" /><label for="r<%- id %>"><%- title %></label>'),onRender:function(){this.$("input").prop("checked",this.model.id===this.model.get("value"))},events:{"click input":function(){this.triggerMethod("click:radio",this.model)}}}),childViewOptions:function(e){e.set({name:this.model.get("name"),value:parseInt(this.model.get("value"))})}});return Mn.View.extend({template:"#case-schedule-item-template",templateContext:{Resources:t},regions:{period:".period",days:".days-block"},events:{"click .cancel, .close":function(){this.$el.hide()},"click .save":function(e){var t=$.GetData(this.$(".ScheForm:not(.digest)")),i=$.GetData(this.$(".digest")),n=JSON.parse(this.model.get("Data"));this.model.set("Data",JSON.stringify(Object.assign(n,i))),$(e.target).showIndicator(),this.model.save(t,{wait:!0,success:function(){$(e.target).hideIndicator()}})}},onChildviewClickRadio:function(e){if(3===e.id){var n=t.setlocal(),o=_.map([0,1,2,3,4,5,6],function(e){return{id:e,title:n.dayNames[e]}});this.showChildView("days",new i({model:new Backbone.Model({value:this.model.get("WhichDaysOfWeek")}),collection:new Backbone.Collection(o)}))}else this.getRegion("days").empty()},onRender:function(e){this.showChildView("period",new n({model:new Backbone.Model({name:"Periodicity",value:this.model.get("Periodicity")}),collection:new Backbone.Collection([{title:t.everyhour,id:1},{title:t.everyday,id:2},{title:t.everyweek,id:3}])}));var i=this.model.get("TimeStartExecution")?new Date(this.model.get("TimeStartExecution")):new Date;this.$(".ejtimepicker").ejTimePicker({locale:t.Lang,width:"100px",interval:10,value:i})}})}),define("export",["i18n!nls/resources.min"],function(e){return Mn.View.extend({template:"#case-export-template",templateContext:{Resources:e},save:function(e){e.$el.addClass("disabled").attr("data-icon","icon-loader");var t=$.GetData(this.$el),i=_.map(this.options.selected,function(e){return e.id});t.list=i,$.post({url:"/api/Export",data:$.param(t)}).always(function(t){e.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",t)}.bind(this))}})}),define("import",["i18n!nls/resources.min","global.view.dropDown"],function(e,t){return Mn.View.extend({template:"#case-import-template",templateContext:{Resources:e},regions:{dd:"#exp-items"},initialize:function(){this.collection=new Backbone.Collection,this.collection.url="/api/Export"},onRender:function(){this.showChildView("dd",new t({collection:new Backbone.Collection})),this.collection.fetch({reset:!0})},collectionEvents:{reset:function(){this.getChildView("dd").collection.reset(this.collection.map(function(e){return{title:e.get("CDate"),id:e.get("ID")}}))}},save:function(e){var t=this.getChildView("dd").current;t.has("id")&&(e.$el.removeClass("disabled").attr("data-icon","icon-loader"),$.post({url:"/api/export/transferdata",data:$.param({ID:t.id,CDate:t.get("title")})}).always(function(t){e.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",t)}.bind(this)))}})}),define("factdigest",["i18n!nls/resources.min","schedule","RU"],function(e,t,i){var n=Backbone.Model.extend({defaults:{id:null,TitleTop:"",TitleMiddle:"",TitleBottom:"",PointDateForSelection:(new Date).toString()}});return Mn.View.extend({template:"#case-factdigests-template",templateContext:{Resources:e},events:{"change #show-sche":function(e){$(e.target).prop("checked")?this.showChildView("sche",new t({model:new ScheduleModel})):this.getRegion("sche").empty()},"blur input":function(){if(this.getRegion("sche").hasView()){var e=this.getChildView("sche").model;e.set($.GetData(this.$(".sche-container"))),e.isValid()&&(this.$("input").each(function(){$(this).css("border-color","")}),this.$(".next").removeClass("disabled"),this.$(".next").find("span.loader").remove())}}},regions:{sche:".sche-container"},initialize:function(){this.model=new n},onRender:function(){this.$("input[name='PointDateForSelection']").ejDatePicker({locale:e.Lang,buttonText:e.Today,value:new Date(this.model.get("PointDateForSelection")).toLocaleDateString(e.Lang)});var t=this.options.selected[0];t?this.$("#objForFactDigest").html(t.get("display_name")+"&nbsp;-&nbsp;<i>"+t.get("typename")+"</i>"):this.triggerMethod("show:message",e.noselect)},save:function(e){if(this.$("input").each(function(){$(this).css("border-color","")}),this.model.set($.GetData(this.$el)),this.getRegion("sche").hasView()){var t=this.getChildView("sche").model;if(t.set($.GetData(this.$(".sche-container"))),!t.isValid())return _.each(t.validationError,function(e){this.$("input[name='"+e+"']").css("border-color","red")},this),this;t.set("SchedulingTaskType",2),this.model.set("SchedulingTaskData",t.toJSON())}e.$el.addClass("disabled").attr("data-icon","icon-loader"),$.ajax({method:"POST",contentType:"application/json; charset=utf-8",url:"/api/export/genfactdigest/"+this.options.selected[0].id,data:JSON.stringify(this.model.toJSON())}).always(function(t){e.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",t)}.bind(this))}})}),define("docdigest",["i18n!nls/resources.min","schedule","g/tree","c/searchPanel","global.view.dialog"],function(e,t,i,n,o){var s=Backbone.Model.extend({defaults:{id:null,TitleTop:"",TitleMiddle:"",TitleBottom:"",SelectedObjectsForKeyPhrases:[],Sources:[]}});return Mn.View.extend({template:"#case-docdigest-template",templateContext:{Resources:e},ui:{req:"#sel-request",keys:".selected-key-obj"},regions:{sche:".sche-container",sd:"#choose-dialog"},initialize:function(){this.model=new s({Sources:this.collection.pluck("object_id")})},onRender:function(){},events:{"change #show-sche":function(e){$(e.target).prop("checked")?this.showChildView("sche",new t({model:new ScheduleModel})):this.getRegion("sche").empty()},"click input[value=a]":function(){this.model.set("Sources",this.collection.pluck("id")),this.ui.req.html("")},"click input[value=b]":function(){var t={title:e.selectRequest,color:"blue",controls:[],tools:[],content:new i({collection:new Backbone.Collection,node:{checkbox:!1}}),zindex:1e3};t.content.collection.url="/api/request",t.content.collection.fetch({reset:!0});var n=Backbone.Radio.channel("Notify").request("once:dialog",t);this.listenTo(n,"container:select:item",function(e){e.model.get("isdoc")&&(this.model.set("Sources",[e.model.id]),this.ui.req.html(" - [ <b>"+e.model.get("title")+"</b> ]"),n.$el.hide())}.bind(this))},"blur input":function(){if(this.getRegion("sche").hasView()){var e=this.getChildView("sche").model;e.set($.GetData(this.$(".sche-container"))),e.isValid()&&(this.$("input").each(function(){$(this).css("border-color","")}),this.$(".next").removeClass("disabled"),this.$(".next").find("span.loader").remove())}},"click .choose":function(){var t={title:e.selectingObj,color:"blue",toolbar:new Backbone.Collection([{id:"searchObj",className:"search",template:'<span class="g-form--input input-data"><input type="text" name="search-name" value="" class="g-form--input" placeholder="Enter keyword"/><i class="search rtl-1" name="search"></i></span>'},{id:"filterByType",className:"filter"}]),footer:new Backbone.Collection([{id:"save",title:e.save,className:"right blue"}]),content:new n({rig:this.options.rid,collection:new Backbone.Collection}),zindex:1e3};this.showChildView("sd",new o(t)),this.listenTo(o,"footer:button:click",function(i){if("save"===i.model.id){var n=t.view.collection;n.length?(this.model.set("SelectedObjectsForKeyPhrases",n.pluck("id")),this.ui.keys.html(n.pluck("title").join("; "))):this.ui.keys.html(e.noselect)}o.close()})}},save:function(t){if(this.$("input").each(function(){$(this).css("border-color","")}),this.model.set($.GetData(this.$el)),this.getRegion("sche").hasView()){var i=this.getChildView("sche").model;if(i.set($.GetData(this.$(".sche-container"))),!i.isValid())return Array.from(i.validationError,function(e){this.$("input[name='"+e+"']").css("border-color","red")},this),null;i.set("SchedulingTaskType",1),this.model.set("SchedulingTaskData",i.toJSON())}if(!this.model.get("Sources").length)return this.triggerMethod("show:message",e.warning+": <br/><small>"+e.notselected+" "+e.source.toLowerCase()+"</small>"),this;t.$el.addClass("disabled").attr("data-icon","icon-loader"),$.ajax({method:"post",contentType:"application/json; charset=utf-8",url:"/api/export/gendocsdigest",data:JSON.stringify(this.model.toJSON())}).always(function(i){t.$el.removeClass("disabled").removeAttr("data-icon"),this.triggerMethod("show:message",500===i.status?e.warning+": <br/><small>"+i.statusText+"</small>":i)}.bind(this))}})}),define("schetasks",["i18n!nls/resources.min","schedule","c/SimpleTableView","factdigest","docdigest"],function(e,t,i,n,o){return Mn.View.extend({template:"#case-schedules-template",templateContext:{Resources:e},regions:{list:".list-tasks",schedule:".item-sche",digest:".item-digest"},start:function(t){$.get("/api/autoexecscheduling/items/"+t.id+"/execute").done(function(){this.triggerMethod("show:message",e.success)}.bind(this))},clear:function(t){this.triggerMethod("show:message:confirm",{text:e.askyousure+"<br/><small>"+$.Format(e.deltext,e.scheTasks,t.get("Title"))+"</small>",fx:function(){t.destroy({wait:!0})},ctx:this})},enable:function(e){var t=e.collection.url+"/"+e.id+"/activate";e.set("State",1),$.ajax({method:"PUT",url:t,data:$.param({State:1})})},disable:function(e){var t=e.collection.url+"/"+e.id+"/deactivate";e.set("State",0),$.ajax({method:"PUT",url:t,data:$.param({State:0})})},
digest:function(e){this.curent!==e.id&&this.getRegion("schedule").empty(),1===e.get("SchedulingTaskType")?this.showChildView("digest",new o({model:new Backbone.Model(JSON.parse(e.get("Data"))),collection:this.collection})):this.showChildView("digest",new n({model:new Backbone.Model(JSON.parse(e.get("Data"))),collection:this.collection}))},schedule:function(e){this.curent!==e.id&&this.getRegion("digest").empty(),this.showChildView("schedule",new t({model:e}))},onChildviewTableRowCmd:function(e){this[$(event.target).attr("data-cmd")].call(this,e.model),this.curent=e.model.id},initialize:function(){this.collection=new scheduleCollection},onRender:function(){var t=new Backbone.Collection([{id:0,title:""},{id:1,title:e.title,width:"30%"},{id:2,title:e.type},{id:3,title:e.send},{id:4,title:e.tosend},{id:5,title:e.status},{id:7,title:""}]);this.showChildView("list",new i({collection:this.collection,rowTemplate:'<td><span data-cmd="start" data-icon="icon-next" title="<%= Resources.run %>"></span></td><td><span class="link" data-cmd="digest"><%= Title %></span>&nbsp;&nbsp;<span data-icon="icon-clock" data-cmd="schedule"></span></td><td><%= SchedulingTaskType==1?Resources.typeTask1:Resources.typeTask2 %></td><td><%= LastStartDateTime?new Date(LastStartDateTime).toLocaleString():"" %></td><td><%= NextStartDateTime?new Date(NextStartDateTime).toLocaleString():"" %></td><td><%= State?Resources.state1:Resources.state2 %>&nbsp;<% if(State){ %><span data-icon="icon-status--green" data-cmd="disable" title="<%= Resources.tostate1 %>"></span><% } else { %><span data-icon="icon-status--grey" data-cmd="enable" title="<%= Resources.tostate2 %>"></span><% } %></td><td><span data-cmd="clear" data-icon="icon-trash"></span></td>',head:t})),this.collection.fetch({reset:!0})}})}),define("c/BasketView",["i18n!nls/resources.min","global.model.dialog","global.view.dialog","global.grid.dataItemsView"],function(e,t,i,n){return i.extend({initialize:function(){Backbone.on("basket:add",this.add,this),this.collection=new Backbone.Collection,this.collection.url="/api/Cart/",this.model=new t({size:"full",header:{icon:"icon-case",manage:[{id:"close"}]},autoOpen:!1,title:e.basket,toolbar:new Backbone.Collection([{id:"export",className:"export",title:e.export},{id:"import",className:"import",title:e.import},{id:"factdigest",className:"fact",title:e.wizarddigest+" : "+e.factDigest},{id:"docdigest",className:"doc",title:e.wizarddigest+" : "+e.docDigest},{id:"schetasks",className:"task",title:e.scheTasks},{id:"clear",className:"clear",title:e.clearSelected},{id:"erase",className:"erase right",title:e.clearBasket}]),content:new n({collection:this.collection,hideButton:!0})})},onBeforeRender:function(){this.collection.fetch({reset:!0})},onChildviewAfterLoad:function(t){this.model.set("title",e.basket+" ("+t+")"),this.triggerMethod("update:case",t)},onChildviewToolbarItemClick:function(t){var n=t.model.id,o=this.getChildView("content").getChildView("table");_.isFunction(this[n])?this[n]():o.modelsSelected||"export"!==n&&"factdigest"!==n?require([n],function(n){var s=new i({title:t.model.get("title"),content:new n({collection:o.getChildView("body").collection,selected:o.modelsSelected}),toolbar:new Backbone.Collection,footer:new Backbone.Collection([{title:e.next,id:"save",className:"right next"}])});this.hasRegion("action")||(this.ui.content.append('<div class="action-container"></div>'),this.addRegion("action",".action-container")),this.showChildView("action",s)}.bind(this)):this.getChildView("notify").showNotify(e.selectobj)},onChildviewFooterButtonClick:function(e){var t=this.getChildView("action").model.get("content"),i=t[e.model.id];i&&"function"==typeof i&&i.call(t,e)},erase:function(){var t=this.getChildView("content").getChildView("table").getChildView("body").collection,i=this.getChildView("notify");t.length?i.showConfirm(e.sure+"<br/><small>"+e.clearall+"?</small>",function(){this.getRegion("action").empty(),$.get("/api/Cart/Clear/0").done(function(){this.collection.fetch({reset:!0})}.bind(this))}.bind(this)):i.showNotify(e.selectobj)},clear:function(){var t=this.getChildView("content").getChildView("table").modelsSelected,i=this.getChildView("notify");t&&t.length?i.showConfirm(e.sure+"<br/><small>"+e.confirmObjDelete.replace("{0}",t.length)+"</small>",function(){this.getRegion("action").empty();var e=_.map(t,function(e){return e.id});$.ajax({method:"DELETE",url:"/api/Cart",contentType:"application/json; charset=utf-8",data:JSON.stringify({IDs:e})}).done(function(){this.collection.fetch({reset:!0})}.bind(this))}.bind(this)):i.showNotify(e.selectobj)},add:function(e){var t=this.getChildView("content").getChildView("table").getChildView("body").collection,i=_.filter(e,function(e){return!t.get(e.toString())},this),n=new Backbone.Model({id:null,IDs:[]});n.url="/api/Cart",i.length&&n.save({IDs:i},{success:function(){this.collection.fetch({reset:!0})}.bind(this)})}})}),define("MessageView",["app","i18n!nls/resources.min"],function(e,t){var i="<b><%= title %></b><div><%= message %></div>",n=["86056534-0DCB-48CF-B06D-3E8D23FD5001"];return new(Backbone.View.extend({el:$("#message-area"),events:{"click .icon-close":"close","click .btn-exec":"_execConfirm","click .btn-cancel":"close"},initialize:function(){Backbone.on("message:hide",this.hide,this),Backbone.on("message:modal",this.modal,this),Backbone.on("message:warning",this.warning,this),Backbone.on("message:success",this.success,this),Backbone.on("message:exec",this.exec,this),Backbone.on("message:confirm",this.confirm,this),this.render()},render:function(){return this.$el.html('<div id="info"></div><div id="sho"><div class="container"></div></div>'),$("body").on("click",function(){this.$("#info").hide()}.bind(this)),this},close:function(){this.$("#sho").hide()},exec:function(e){if(-1!==n.indexOf(e.sid)){var i=t.confirmObjDelete.replace("{0}",e.amount);this.confirm({title:t.warning,message:i,fx:e.fx,ctx:e.ctx})}else{var o=e.fx.call(e.ctx);o&&this.success({title:o.title,message:o.message})}return this},show:function(e,t){switch(e){case"modal":t.cancelBtn||(t.cancelBtn=!1),this.$(".container").html(_.template('<div class="message"><% if(cancelBtn) { %><span class="dropdown-menu_close"><svg class="icon icon-close"><use xlink: href="#icon-close"></use></svg></span><% } %><b><%= title %></b><p class="message-text"><%= message %></p><div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class ="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class ="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class ="sk-cube sk-cube9"></div></div></div>')(t)),this.$("#sho").removeClass("nobg"),this.$("#sho").show();break;case"confirm":this.confirm(t);break;case"success":this.success(t);break;case"warning":this.warning(t)}return this},modal:function(e){e||(e={title:t.wait2,message:t.message}),this.show("modal",e)},warning:function(e){this.success(e),this.$("#info b").addClass("state-error")},success:function(e){e.title||(e.title=t.alert);var n=this.storage!==e.message;n&&(this.storage=e.message),this.$("#info").is(":hidden")?(n&&this.$("#info").html(_.template(i)(e)),this.$("#info").show("slide",{direction:"right"}),this.$("#info").delay(7e3).hide("slide",{direction:"right"})):n&&this.$("#info").append(_.template(i)(e))},_execConfirm:function(){this.execConfirm.call(this.contextConfirm),this.hide()},confirm:function(e){var i=$("body").children().last();return this.$el.insertAfter(i),this.$(".container").html(_.template('<div class="message"><span class="dropdown-menu_close"><svg class="icon icon-close"><use xlink:href="#icon-close"></use></svg></span><b><%= title %></b><div class="message-text"><%= message %></div><div><button class="btn-exec"><%= textBtnExec %></button>&nbsp;<button class="btn-cancel"><%= Resources.cancel %></button></div></div>')({Resources:t,title:e.title,message:e.message,textBtnExec:e.titleExec||t.deleteItem})),this.$("#sho").addClass("nobg").show(),this.execConfirm=e.fx,this.contextConfirm=e.ctx,!1},hide:function(){return this.$("#sho").hide(),this}}))}),define("ModeInfoView",["i18n!nls/resources.min","access"],function(e,t){t.data.Points;return Mn.View.extend({template:!1,onRender:function(){}})}),define("global.view.headerView",["access","i18n!nls/resources.min","MessageView","c/AlertsView","c/EdgeView","c/BasketView","global.radio.dialog"],function(e,t,i,n,o,s){var l=Mn.Object.extend({initialize:function(){this.collection=new Backbone.Collection,this.collection.url="/api/common/0/"+this.options.guid}});return Mn.View.extend({template:!1,el:"header",ui:{casebtn:".case-block",casenum:".badge",logo:".logo",info:".info-block"},regions:{edge:{el:"#edge",replaceElement:!0},alert:{el:".alert-block",replaceElement:!0},case:"#case-window"},events:{"click #InfoDB":"show","click #InfoUser":"show",mouseleave:"hide","click @ui.casebtn":function(){this.getChildView("case").$el.show()},"click @ui.logo":function(){Backbone.history.navigate("",{trigger:!0})},"click @ui.info":function(){this.showDemoInfo()}},initialize:function(e){this.storage=[],this.currentid=""},onRender:function(){this.ui.casebtn.get(0)&&this.showChildView("case",new s),this.showChildView("alert",new n),this.options.isDemo?this.ui.casebtn.hide():this.showChildView("edge",new o({collection:new Backbone.Collection(e.data.Edges)}));var t="FE195E4A-CAAD-4987-A1E8-2788F1796F95",i=new l({guid:t});e.data.Points&&-1!==e.data.Points.indexOf(t)&&i.collection.fetch({reset:!0,success:function(e,t){this.demoInfoContent=t.data[1].value,this.demoTs=t.data[2].value,t&&parseInt(t.data[0].value)&&!$.cookie("DemoMode_"+this.demoTs)&&$.trim(this.demoInfoContent)&&this.showDemoInfo()}.bind(this)})},showDemoInfo:function(){var e=_.template('<input type="checkbox" <% if(checked){ %>checked="checked"<% } %> class="g-form--checkbox" name="dontshow" id="hidemenow"><label for="hidemenow"><%- Resources.noMoreView %></label>')({Resources:t,checked:$.cookie("DemoMode_"+this.demoTs)}),i=Backbone.Radio.channel("Notify").request("once:dialog",{title:t.information,content:$.trim(this.demoInfoContent)?this.demoInfoContent:t.N,footer:[{id:"cbx",template:e}]});this.listenTo(i,"dialog:closed",function(){i.getChildView("footer").children.findByIndex(0).$("input[name='dontshow']").prop("checked")?$.cookie("DemoMode_"+this.demoTs,"nomore",{expires:30}):$.cookie("DemoMode_"+this.demoTs,"")})},onChildviewUpdateCase:function(e){this.ui.casenum.text(e),e&&(this.ui.casebtn.addClass("action--blink"),setTimeout(function(){this.ui.casebtn.removeClass("action--blink")}.bind(this),2e3))},hide:function(){this.currentid&&this.$("#"+this.currentid).next("div").removeClass("active")},show:function(e){var t=$(e.target).closest("span");this.currentid=t.attr("id"),this.close(),-1===this.storage.indexOf(this.currentid)&&this.storage.push(this.currentid),t.next("div").addClass("active")},close:function(){_.each(this.storage,function(e){e!==this.currentid&&this.$("#"+e).next("div").removeClass("active")},this)}})}),define("Feedback",["i18n!nls/resources.min"],function(e){return Mn.View.extend({className:"g-dialog--wrapper",el:"#feedback-alerts-panel",template:_.template('<div class="g-dialog--header">\n        <div class ="g-dialog--title" data-icon="icon-attention"><%-Resources.alert %></div>\n        <div class="g-dialog--manage">\n            <i class="close"></i>\n        </div>\n    </div>\n    <div class="g-dialog--container">\n        <div class ="g-dialog--content"><%= html %></div>\n        <div class="g-dialog--sidebar"></div>\n    </div>'),templateContext:{Resources:e},events:{"click .close":function(){this.$el.hide()}},onRender:function(){window.sendresult=this.send.bind(this),window.SetResult=this.send.bind(this),window.SetSubResult=this.send.bind(this),window.captcha=function(){var e=$.trim(this.$("input[type=text]").val());e&&this.send(e)},this.$el.show()},send:function(e){var t={result:e},i={modelid:this.model.id,modeltypeid:this.model.get("typeid")};SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}}).server.sendMessage(t,i.modelid,i.modeltypeid),this.model.collection&&this.model.collection.remove(this.model),this.$el.hide()}})}),define("c/AlertsView",["i18n!nls/resources.min","Feedback"],function(e,t){new(Mn.Object.extend({channelName:"Ale"}));var i=Mn.View.extend({tagName:"li",template:_.template('<span><%- title %></span><i class="erase"></i>'),triggers:{"click span":"click:message"},events:{"click .erase":function(e){e.stopPropagation(),this.model.collection.remove(this.model),SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}}).server.sendMessage({result:null},this.model.id,1)}},onRender:function(){"red"===this.model.get("Status")&&this.$el.addClass("alert-red"),"blue"===this.model.get("Status")&&this.$el.addClass("alert-blue");var e=Backbone.Radio.channel("oM").request("get:app");e&&-1!==e.Tasks.indexOf(this.model.get("taskUID"))&&this.triggerMethod("click:message",this)}}),n=Mn.CollectionView.extend({tagName:"ul",childView:i,emptyView:Mn.View.extend({tagName:"li",template:_.template("<span><%- Resources.N %></span>"),templateContext:{Resources:e}}),childViewOptions:function(e){e.has("kind")&&e.get("kind"),e.has("state")&&e.get("state");switch(e.get("typeid")){case-1:e.set({Status:"none"});break;case 1:case 2:e.set({Status:"red"});break;case 3:e.set({Status:"blue"});break;default:e.set({Status:"none"})}},childViewTriggers:{"click:message":"click:message"}});return Mn.View.extend({tagName:"li",className:"tray--item alert-block",template:_.template('<span class="alert"></span><div class="alert--container"><div class="alert--header"><i class="close"></i><div><%= Resources.serverMessage %></div></div><div class="alert--list"></div></div>'),templateContext:{Resources:e},ui:{btn:".alert",header:".alert--header>div",container:".alert--container"},regions:{list:".alert--list"},events:{"click i.close":function(){this.ui.container.removeClass("active")},"click @ui.btn":function(){this.ui.container.toggleClass("active")}},initialize:function(){this.collection=new Backbone.Collection},onRender:function(){this.showChildView("list",new n({collection:this.collection}))},onAttach:function(){this.monitoring()},onChildviewClickMessage:function(e){e.model.get("html")?(this.feedback?this.feedback.model=e.model:this.feedback=new t({model:e.model}),this.feedback.render()):e.model.collection.remove(e.model)},collectionEvents:{reset:function(e){this.status()},update:function(e,t){this.status(),t.add&&(console.log("Ticker :: new message"),this.returnMessage()),this.sharedCollection.change(function(){return this.collection.models}.bind(this))}},status:function(){this.collection.length?(this.ui.btn.addClass("active"),this.ui.container.addClass("active"),this.ui.header.html(e.alertMessage)):(this.ui.btn.removeClass("active"),this.ui.container.removeClass("active"),this.ui.header.html(e.serverMessage))},returnMessage:function(){var e=SJ.iwc.SignalR.getHubProxy("Ticker",{client:{}});this.collection.each(function(t){e.server.returnValueSet("alertDelivery",t.get("eqID"),"1")})},monitoring:function(){SJ.iwc.SignalR.getHubProxy("Ticker",{client:{showAlerts:function(e){e.length&&this.collection.add(e)}.bind(this),acitiveAlerts:function(e){this.collection.each(function(t){t&&-1===e.indexOf(t.id)&&-1!==t.get("typeid")&&this.collection.remove(t)},this)}.bind(this),hideAlerts:function(e){var t=this.collection.get(e);this.collection.remove(t)}.bind(this),transferData:function(e,t,i){Backbone.Radio.channel("Ale").request("get:transfer:data",{data:e,kind:t})},ping:function(e){console.log("Ticker :: ping >> ",e)}}});this.sharedCollection=new SJ.iwc.SharedData("AlertMessages"),this.sharedCollection.onChanged(function(e){this.collection.set(e)},this);var e=this.sharedCollection.get();null!==e&&e.length?e.length&&this.collection.set(e):this.sharedCollection.set(this.collection.models)}})}),define("global.view.connect",["i18n!nls/resources.min","access"],function(e,t){var i=Backbone.Model.extend({defaults:function(){return{id:null,title:""}}}),n=Backbone.Collection.extend({model:i}),o=Backbone.View.extend({tagName:"option",render:function(){return this.$el.attr("value",this.model.id),this.$el.html(_.template("<%= title %>")(this.model.toJSON())),this}}),s={Internet:{Start:{cmd:"works",to:"WorkGroups"},WorkGroups:{cmd:"projects",to:"Projects"},Projects:{cmd:"datas",to:"Connects"},Connects:{cmd:"connect"}},Intranet:{Start:{cmd:"works",to:"WorkGroups"},WorkGroups:{cmd:"datas",to:"Connects"},Connects:{cmd:"connect"}}},l={};return Mn.View.extend({className:"authorisation-block",template:"#connect-template",templateContext:{Resources:e},ui:{},events:{"change select":"getData","click @ui.btn:not([data-icon=icon-loader])":"connect"},initialize:function(){this.collection=new n},onRender:function(){this.NetVersion=t.data.NetVersion||"Internet","Intranet"===this.NetVersion&&(this.$("label:eq(1)").hide(),this.$("#Projects").hide()),this.fetch("Start")},collectionEvents:{reset:function(e){var t=s[this.NetVersion][this.name].to,i=this.$("#"+t),n=$.cookie(t)||l[t];t?(Array.from(e.models,function(e){i.append(new o({model:e}).render().el)},this),i.val(n),this.fetch(t,n)):e.length&&this.triggerMethod("connect:made")},error:function(){}},getData:function(e){var t=$(e.target).val(),i=$(e.target).attr("id");$.ajaxSetup({timeout:3e4}),$.trim(t)?(this.fetch(i,t),$.cookie(i,t,{expires:30,path:"/"}),l[i]=t):this.reset(i)},reset:function(e){this.$("#"+e).nextAll("select").each(function(e,t){$(t).find(":not(option[value=''])").remove()})},fetch:function(e,t){var i=s[this.NetVersion][e];t&&(i.itemid=t),this.$("#Info").text(""),"Connects"===e&&(i.wgtitle=this.$("#WorkGroups option:selected").text(),i.wgid=this.$("#WorkGroups").val(),i.prgtitle=this.$("#Projects option:selected").text(),i.prgid=this.$("#Projects").val(),i.dbtitle=this.$("#Connects option:selected").text(),i.dbid=this.$("#Connects").val()),this.collection.url="/api/Authorise?"+$.param(i),this.reset(e),this.collection.fetch({reset:!0}),this.name=e},connect:function(){if(this.collection.length){var e=this.collection.at(0).get("title")||"/";this.triggerMethod("authorize:end",e)}}})}),define("c/ContextMenuView",[],function(){var e=Mn.CollectionView.extend({childView:Mn.View.extend({template:_.template('<%- title %><div class="_container"></div>'),className:"item",regions:{container:{el:"._container",replaceElement:!0}},events:{mouseover:function(e){if(this.model.get("child")&&this.model.get("child").length){var t=this.$(".g-context--container");$(window).width()-t.offset().left<t.width()&&this.$(".g-context--container").addClass("revert")}}},triggers:{click:"click:item"},onRender:function(){this.model.get("icon")&&this.$el.attr("data-icon","icon-"+this.model.get("icon")),this.model.get("status")&&this.$el.addClass(this.model.get("status")),this.model.get("cmd")&&("string"==typeof this.model.get("cmd")&&this.$el.attr("data-cmd",this.model.get("cmd")),"function"==typeof this.model.get("cmd")&&(this.cmd=this.model.get("cmd"))),this.model.get("child")?(this.$el.addClass("haskids"),this.showChildView("container",new e({collection:new Backbone.Collection(this.model.get("child"))}))):this.$("._container").remove()},childViewTriggers:{"click:item":"click:item"}}),className:"g-context--container",childViewTriggers:{"click:item":"click:item"}});return Mn.View.extend({className:"g-context--menu",template:_.template('<div class="g-context--container"></div>'),regions:{container:{el:".g-context--container",replaceElement:!0}},onRender:function(){this.showChildView("container",new e({collection:this.collection}))},childViewTriggers:{"click:item":"menu:click:item"}})}),define("c/EditPanelView",["i18n!nls/resources.min"],function(e){return Mn.View.extend({className:"edit-panel",template:"#edit-panel-template",templateContext:{Resources:e},events:{"click span:not(.search)":function(e){e.stopPropagation(),this.trigger("edit-panel:action",$(e.target).closest("li"))},"keyup input[name='rubric-name']":function(e){e.stopPropagation(),13!==e.keyCode&&$.trim(this.$("input[name='rubric-name']").val())||this.trigger("edit-panel:action",this.$("i[name=search]"))},"click i.search":function(e){e.stopPropagation(),this.trigger("edit-panel:action",this.$("i[name=search]"))}},rere:function(){this.$("li:not([name='add'])").attr("disabled","disabled")},setCurrent:function(e){this.selectmodel=e,"-1"!==this.selectmodel.id?this.$("li").removeAttr("disabled"):this.$("li:not([name='add'])").attr("disabled","disabled"),this.selectmodel.has("isdoc")&&this.selectmodel.get("isdoc")&&this.$("li[name='add']").attr("disabled","disabled")},onRender:function(){var e=this.options.unvisible?this.options.unvisible.split(","):[];return _.each(e,function(e){$.trim(e)&&this.$("."+$.trim(e)).hide()},this),this}})}),define("g/files/UploadFileView",["i18n!nls/resources.min"],function(e){var t=Backbone.Model.extend({idAttribute:"FileUID",defaults:{FileUID:null,FilePath:"",CDate:(new Date).toISOString(),FileName:"",FileUrl:""}});return Mn.View.extend({className:"image-path",template:"#file-upload-template",templateContext:{Resources:e},ui:{form:"form",file:"input[name = fileToUpload]",pro:".progress",bar:".bar",per:".percent"},events:{"change @ui.file":function(e){var t=this.ui.file.val();if(this.ui.file.prev(".input").text(t),$.trim(t)){var i=this.ui.file.val().split("\\"),n=i[i.length-1];n.split(".");this.collection.find(function(e){return-1!==e.get("OriginalFileName").indexOf(n)})?this.$(".anbr-tooltip").show().delay(5e3).fadeOut():this.ui.form.submit()}}},initialize:function(){this.formAction=this.options.formAction||"/api/common/upload/"},indicator:function(e){this.ui.pro.show(),this.ui.bar.width(e),this.ui.per.html(e).show()},onRender:function(){this.ui.form.attr("action",this.formAction),this.ui.bar.width(0),this.ui.per.html("0%"),this.ui.file.val(""),this.ui.form.ajaxForm({beforeSend:function(){this.indicator("0%")}.bind(this),uploadProgress:function(e,t,i,n){this.indicator(n+"%")}.bind(this),success:function(){this.indicator("100%")}.bind(this),error:function(){this.$(".anbr-tooltip").html('<span position="bottom"></span>'+e.error+" Server errror.").show().delay(5e3).fadeOut(),this.onFinal()}.bind(this),complete:function(i){_.map(i.responseJSON,function(e){if(-1!==e.indexOf("error"))return this.$(".anbr-tooltip").html('<span position="bottom"></span>'+e.replace("error","")).show().delay(5e3).fadeOut(),void this.onFinal();if(e.Message)return this.$(".anbr-tooltip").html('<span position="bottom"></span>'+e.Message).show().delay(5e3).fadeOut(),void this.onFinal();var i=e.split("/"),n=i[i.length-1],o=n.substr(n.indexOf("_")+1),s=n.split("_")[0],l=new t({FileUID:s,FilePath:e,FileUrl:e,FileName:o,OriginalFileName:o});this.collection.add(l)},this),this.ui.file.val(""),this.$(".input").text(e.selFile),this.onFinal()}.bind(this)})},onFinal:function(){setTimeout(function(){this.ui.bar.width(0),this.ui.per.html("0%"),this.ui.pro.hide()}.bind(this),1e3)}})}),define("g/ImageGalleryView",["i18n!nls/resources.min","g/files/UploadFileView"],function(e,t){var i=Backbone.Model.extend({idAttribute:"FileUID"}),n=Mn.CollectionView.extend({className:"image-gallery",childView:Mn.View.extend({tagName:"span",template:_.template('<i data-icon="icon-trash"></i><img src="<%- FileUrl %>" alt="" title="<%- OriginalFileName %>"  />'),events:{'click i[data-icon="icon-trash"]':function(){Backbone.trigger("message:confirm",{title:e.askyousure,message:e.confirmDeleteImg,fx:function(){this.model.destroy()},ctx:this})},"click img":function(){var e=this.model.collection.findWhere({select:!0});e&&e.set("select",!1),this.model.set("select",!0),this.triggerMethod("change:item",this.model)}},modelEvents:{"change:select":function(e,t){t?this.$el.addClass("selected"):this.$el.removeClass("selected")}},onRender:function(){this.model.get("select")&&this.$el.addClass("selected")}}),childViewOptions:function(e){e.set("select",e.get("FileUrl")===this.options.select)},childViewTriggers:{"change:item":"change:item"}});return Mn.View.extend({className:"image-gallery-wrapper",template:_.template('<div class="image-path"></div><div class="image-gallery"></div>'),regions:{list:{el:".image-gallery",replaceElement:!0},path:{el:".image-path",replaceElement:!0}},initialize:function(){this.collection=new Backbone.Collection([],{model:i,comparator:function(e){return-new Date(e.get("CDate"))}}),this.collection.url="/api/common/files/"},onBeforeRender:function(){this.collection.fetch({reset:!0})},onRender:function(){this.showChildView("path",new t({collection:this.collection})),this.showChildView("list",new n({collection:this.collection,select:this.options.selectedImgPath}))},childViewTriggers:{"change:item":"change:item"}})}),define("c/SimpleTableView",["i18n!nls/resources.min","c/ContextMenuView"],function(e,t){var i=Mn.CollectionView.extend({tagName:"tr",childView:Mn.View.extend({tagName:"th",getTemplate:function(){return this.model.has("subTemplate")?_.template(this.model.get("subTemplate")):_.template("<%- title %>")},onRender:function(){this.model.get("width")&&this.$el.width(this.model.get("width"))}}),triggers:{"click input[type=checkbox] ~ label:not(.disabled)":"click:head:input"}}),n=Mn.View.extend({tagName:"tr",template:_.template('<td colspan="<%- colspan %>"><div class="paging-box"><div class="paginator"></div><div class="paginator_pages"><%- titlePages %>: <span><%- totalPages %></span></div></div><div class="context-menu" style="position:absolute;display:none;z-index:100;"></div></td>'),templateContext:{titlePages:e.Pages2},ui:{menu:".context-menu",box:".paging-box"},regions:{menu:"@ui.menu"},events:{"mouseenter @ui.menu":function(e){this.ui.menu.clearQueue()},"mouseleave @ui.menu":function(e){this.ui.menu.delay(300).hide(100)},"click @ui.box a":function(e){e.preventDefault(),this.triggerMethod("page:select",$(e.target).text())}},childViewTriggers:{"menu:click:item":"menu:click:item"},modelEvents:{"change:currentPage":function(e,t){},"change:totalPages":function(e,t){parseInt(t)<=1?this.ui.box.hide():this.ui.box.show()}},onRender:function(){this.ui.box.hide(),this.showChildView("menu",new t({collection:this.collection}));var e=this.model;if(parseInt(e.get("totalPages"))>1){this.ui.box.show(),this.$(".paginator_pages>span").text(e.get("totalPages"));var i="paginator_"+this.cid;this.$(".paginator").attr("id",i),new Paginator(i,e.get("totalPages"),e.get("pageSize"),e.get("currentPage"))}else this.ui.box.hide()}}),o=Mn.CollectionView.extend({tagName:"tbody",emptyView:Mn.View.extend({tagName:"tr",template:_.template('<td colspan="<%- colspan %>"><%- title %></td>')}),childView:Mn.View.extend({tagName:"tr",getTemplate:function(){return _.template(this.options.rowTemplate)},templateContext:function(){var t={Resources:e};return Object.assign(t,this.options.rowOptions),t},events:{mouseleave:function(){this.triggerMethod("hide:menu")},"click button.menu":function(e){this.$el.addClass("ui-selected"),this.triggerMethod("menu:show",this.model,$(e.target).closest("button"))},"click a":function(e){e.stopPropagation()}},triggers:{"change input":"change:input:row","click *[data-cmd]":"click:row:cmd:item"},modelEvents:{change:function(e){this.render(),this.triggerMethod("model:changed",e)}},onRender:function(){this.model.has("checked")&&this.$("input[type=checkbox]").prop("checked",this.model.get("checked"))}}),emptyViewOptions:function(t){t.set({colspan:this.options.colspan,title:e.N})},childViewOptions:function(){return{rowTemplate:this.options.rowTemplate,rowOptions:this.options.rowOptions,colspan:this.options.colspan}},childViewTriggers:{"change:input:row":"change:input:row","click:row:cmd:item":"click:row:cmd:item","model:changed":"model:changed","menu:show":"menu:show","hide:menu":"hide:menu","check:rows:for:head":"check:rows:for:head"}});return Mn.View.extend({tagName:"table",className:"table table-hover",template:_.template("<thead><tr></tr></thead><tbody></tbody><tfoot></tfoot>"),regions:{head:{el:"thead tr",replaceElement:!0},body:{el:"tbody",replaceElement:!0},foot:"tfoot"},initialize:function(){this.currentPage=1},onRender:function(){this.options.head&&this.showChildView("head",new i({collection:this.options.head}));var e=$(this.options.rowTemplate).size();this.showChildView("body",new o({collection:this.collection,rowTemplate:this.options.rowTemplate,rowOptions:this.options.rowOptions,colspan:e})),this.showChildView("foot",new n({collection:this.options.menuCollection||new Backbone.Collection,model:new Backbone.Model({currentPage:0,pageSize:30,totalPages:0,colspan:e,collection:this.collection})}))},collectionEvents:{update:function(e,t){this.triggerMethod("table:collection:update",e,t)},reset:function(){if(this.triggerMethod("table:collection:reset",this.collection),this.getRegion("head").hasView()){var e=this.getChildView("head").$('input[type="checkbox"]').prop("checked");e&&this.collection.each(function(t){t.set("checked",e)})}var t=this.collection.get(0);if(t){this.collection.remove(t);var i=t.get("pageSize")||30,n=t.get("page")||parseInt(this.currentPage),o=Math.ceil(t.get("num")/i)}else o=0;this.getChildView("foot").model.set({currentPage:n,pageSize:i,totalPages:o}),this.getChildView("foot").render()},error:function(){}},childViewTriggers:{"change:input:row":"change:input:row","click:row:cmd:item":"table:row:cmd","model:changed":"table:row:model:changed"},onChildviewPageSelect:function(e){this.triggerMethod("page:select",e,this.collection)},childViewEvents:{"click:head:input":function(e){var t=e.$("input[type=checkbox]");t.prop("checked",!t.prop("checked")),this.collection.each(function(e){e.set("checked",t.prop("checked"))})},"check:rows:for:head":function(){this.getRegion("head").hasView()&&(this.collection.where({checked:!0}).length===this.collection.length?this.getChildView("head").$('input[type="checkbox"]').prop("checked",!0):this.getChildView("head").$('input[type="checkbox"]').prop("checked",!1))},"menu:click:item":function(e){this.getChildView("foot").getChildView("menu").$el.parent("div").hide(),e.cmd&&e.cmd.call(this,this.modelsSelected,e.model)},"hide:menu":function(){var e=this.getChildView("foot").getChildView("menu").$el.parent("div");e.is(":visible")&&e.delay(300).hide(100)},"menu:show":function(e,t){var i=this.getChildView("foot").getChildView("menu"),n=this.modelsSelected||[];if(_.findWhere(n,{id:e.id})||(this.modelsSelected=[e],this.$("tr.ui-selected").removeClass("ui-selected")),i.collection&&i.collection.length){var o=i.$el.parent("div"),s=t.position(),l=s.top,a=s.left,c=$(window).width()-o.width();o.clearQueue(),s.left+o.width()>c&&(a=c-o.width()-($("body").hasClass("ls-on")?120:5)),o.css({top:l,left:a}).slideDown()}}}})}),define("global.grid.dataItemsView",["app","i18n!nls/resources.min","c/ContextMenuView"],function(e,t,i){var n=Backbone.Model.extend({idAttribute:"object_id"}),o=Backbone.Collection.extend({model:n}),s=Mn.View.extend({className:"paging-box",template:_.template('<div class="paginator"></div><div class="paginator_pages"><%- Resources.Pages2 %>: <span><%- totalPages %></span></div>'),templateContext:{Resources:t},events:{"click a":function(e){e.preventDefault(),this.triggerMethod("page:select",$(e.target).text())}},onAttach:function(){var e="paginator_"+this.cid;this.$(".paginator").attr("id",e),new Paginator(e,this.model.get("totalPages"),this.model.get("paging").pageSize,this.model.get("paging").currentPage)}}),l=Mn.View.extend({tagName:"th",template:_.template("<%- displayName %>")}),a=Mn.View.extend({tagName:"tr",template:_.template('<td colspan="<%- numCols %>"><div class="context-menu" style="position:absolute;display:none;z-index:100;"></div></td>'),regions:{menu:".context-menu"},ui:{menu:".context-menu"},onRender:function(){this.showChildView("menu",new i({collection:this.collection}))},events:{"mouseenter .context-menu":function(e){this.ui.menu.clearQueue()},"mouseleave .context-menu":function(e){this.ui.menu.delay(300).hide(100)}},childViewTriggers:{
"hide:menu":"hide:menu","menu:click:item":"menu:click:item"}}),c=Mn.CollectionView.extend({tagName:"tr",childView:l,onRender:function(){this.addChildView(new l({model:new Backbone.Model({displayName:"№"})}),0),this.addChildView(new l({model:new Backbone.Model({displayName:""})}))}}),r=Mn.View.extend({tagName:"tr",getTemplate:function(){return _.template(this.options.bodyTemplate)},templateContext:{Resources:t},triggers:{mouseleave:"hide:menu","contextmenu td":"menu:show","click button.btn-link":"menu:show","click td":"row:col:trigger","click a":{event:"click:link",preventDefault:!1}},onRender:function(){this.$el.data("id",this.model.id)},modelEvents:{"change:State":function(e,t){this.$("td[data-name='state']").text(t)}}}),d=Mn.CollectionView.extend({tagName:"tbody",childView:r,emptyView:Mn.View.extend({tagName:"tr",className:"info",template:_.template('<td colspan="120">'+t.nodata+"</td>")}),collectionEvents:{remove:function(){this.triggerMethod("change:collection",this.collection)}},childViewOptions:function(e,i){if(!this.isEmpty()){var n=["","green","yellow","red","grey"],o=["",t.working,t.ff,t.tm,t.ar],s=parseInt(this.options.pagination.currentPage)*this.options.pagination.pageSize-this.options.pagination.pageSize+1;e.set({Num:i+s,StatusIcon:n[e.get("status")],state:o[e.get("state")]})}return{bodyTemplate:this.options.bodyTemplate}},onAttach:function(){this.$el.selectable({cancel:"a, button.btn-link, span",stop:function(){var e=[];this.$el.find("tr.ui-selected").each(function(t,i){e.push(this.collection.get($(i).data("id")))}.bind(this)),this.triggerMethod("stop:selectable",e)}.bind(this)})},childViewTriggers:{"menu:show":"menu:show","row:col:trigger":"row:col:trigger","click:link":"click:link"}}),h=Mn.View.extend({tagName:"table",className:"table inquiry table-hover list",template:_.template("<thead></thead><tbody></tbody><tfoot></tfoot>"),regions:{head:"thead",body:{el:"tbody",replaceElement:!0},footer:"tfoot"},collectionEvents:{reset:function(e){if(e.length){var t="<td><%- Num %></td>",i=e.at(0),n=i.has("feed")?new Backbone.Model(i.get("feed")):i,s=n.get("pagination"),l=_.filter(n.get("head"),function(e){if(e.isVisible){var i=e.systemName,n=this.options.path||Backbone.history.fragment||"";t+="display_name"===i||"title"===i?"<td data-name='"+i+"'><% if(href){ %><a href='#"+n+"/<%- object_id %>'><%- "+i+" %></a><% }else{ %><%- "+i+" %><% } %></td>":"status"===i?"<td data-name='"+i+"'><span class='status-icon <%- StatusIcon %>'></span><% if(dossier){ %><span data-icon='icon-note'></span><% } %></td>":"createddate"===i||"cdate"===i||"jobcdate"===i?"<td data-name='"+i+"'><%- Date.parse("+i+")? new Date("+i+").toLocaleString(Resources.Lang) : ''  %></td>":"<td data-name='"+i+"'><%- "+i+" %></td>"}return e.isVisible},this);this.options.hideButton?t+="<td class='controls'></td>":t+="<td class='controls'><button type='button' class='btn-link g-form--context'><svg><use xlink:href='#icon-burger-menu'></use></svg></button></td>",this.showChildView("head",new c({collection:new Backbone.Collection(l)})),this.showChildView("body",new d({collection:new o($.prepare(n.get("items"))),pagination:s,bodyTemplate:t})),this.showChildView("footer",new a({model:new Backbone.Model({numCols:l.length+2}),collection:this.options.menuCollection})),this.triggerMethod("list:init",s)}}},childViewTriggers:{"row:col:trigger":"row:col:trigger","change:collection":"change:collection","click:link":"click:link"},childViewEvents:{"menu:click:item":function(e){this.getChildView("footer").getChildView("menu").$el.parent("div").hide(),e.cmd&&e.cmd.call(this,this.modelsSelected,e.model)},"hide:menu":function(){var e=this.getChildView("footer").getChildView("menu").$el.parent("div");e.is(":visible")&&e.delay(300).hide(100)},"menu:show":function(e){var t=e.model,i=this.getChildView("footer").getChildView("menu"),n=this.modelsSelected||[];if(_.findWhere(n,{id:t.id})||(this.modelsSelected=[t],this.$("tr.ui-selected").removeClass("ui-selected")),e.$el.addClass("ui-selected"),i.collection&&i.collection.length){var o=i.$el.parent("div"),s=$(event.target).closest("td").position(),l=s.top+event.offsetY+$(".workbench--content").scrollTop(),a=s.left+event.offsetX,c=$(window).width()-o.width();o.clearQueue(),s.left+o.width()>c&&(a=c-o.width()-60),o.css({top:l,left:a}).slideDown()}},"stop:selectable":function(e){var t=_.compact(e);t.length&&(this.modelsSelected=t)}}});return Mn.View.extend({template:_.template('<table></table><div class="paging-box"></div>'),regions:{table:{el:"table",replaceElement:!0},paging:{el:".paging-box",replaceElement:!0}},onRender:function(){this.showChildView("table",new h(this.options))},onChildviewListInit:function(e){var t=Math.ceil(e.totalItems/e.pageSize);t>1?this.showChildView("paging",new s({model:new Backbone.Model({totalPages:t,paging:e})})):this.getRegion("paging").empty(),this.triggerMethod("after:load",e.totalItems)},onChildviewPageSelect:function(e){this.collection.url=$.mergeUrlParam(this.collection.url,{page:e}),this.collection.fetch({reset:!0})},childViewTriggers:{"row:col:trigger":"row:col:trigger","click:link":"click:link","change:collection":"change:collection","action:from:menu":"action:from:menu"}})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("global.view.dropDown",["i18n!nls/resources.min"],function(e){var t=Mn.View.extend({className:"item",template:_.template('<%- title %><div class="manage"></div>'),triggers:{click:"click:item","click .manage span":"click:cmd"},onRender:function(){this.model.has("icon")?this.$el.attr("data-icon",this.model.get("icon")):this.$el.attr("data-icon","icon-blank"),this.model.has("cmd")&&(this.$el.attr("tools",this.model.get("cmd").length),_.each(this.model.get("cmd"),function(e){this.$(".manage").append('<span class="'+e+'"></span>')},this))}}),i=Mn.CollectionView.extend({className:"g-dropdown--container",childView:t,events:{mouseenter:function(){this.$el.clearQueue()},mouseleave:function(){this.$el.delay(1e3).slideUp(150,function(){this.triggerMethod("container:mouseleave")}.bind(this))}},childViewTriggers:{"click:cmd":"click:cmd","click:item":"click:item"}});return Mn.View.extend({className:"g-dropdown--menu",template:_.template('<div class="g-dropdown--placeholder"></div><div class="g-dropdown--container"></div>'),ui:{placeholder:".g-dropdown--placeholder"},regions:{container:{el:".g-dropdown--container",replaceElement:!0},current:"@ui.placeholder"},initialize:function(){this.current=new Backbone.Model},collectionEvents:{update:function(){if(this.collection.length){var e=new t({model:this.collection.at(0)});this.showChildView("current",e),this.setCurrent(e)}else this.showChildView("current",new t({model:new Backbone.Model({title:"...",id:null})}))}},onRender:function(){if(this.options.hasOwnProperty("addClass")&&this.$el.addClass(this.options.addClass),this.showChildView("container",new i({collection:this.collection})),this.options.placeholder)this.ui.placeholder.html(this.options.placeholder);else if(this.collection&&this.collection.length){var e=new t({model:this.collection.at(0)});this.showChildView("current",e)}else this.showChildView("current",new t({model:new Backbone.Model({title:"...",id:null})}))},onAttach:function(){this.collection&&this.collection.length&&this.setCurrent(this.options.current)},events:{"click .g-dropdown--placeholder":"expand"},childViewTriggers:{"click:cmd":"dropdown:click:cmd"},childViewEvents:{"container:mouseleave":function(){this.$(".g-dropdown--placeholder").removeClass("expanded")},"click:item":function(e){e.model.id!==this.current.id?(e.model.has("fn")&&e.model.get("fn").call(),this.setCurrent(e),this.getChildView("container")&&this.getChildView("container").$el.slideUp(150,function(){this.$(".g-dropdown--placeholder").removeClass("expanded")}.bind(this))):this.expand()}},expand:function(){this.collection.length&&!this.$el.hasClass("disabled")&&this.$(".g-dropdown--placeholder").toggleClass("expanded").next(".g-dropdown--container").clearQueue().slideToggle(150)},setCurrent:function(e){if(void 0===e)return this;var t=this.getChildView("container"),i=this.getChildView("current");if(t&&(t.children.each(function(e){e.$el.removeClass("selected")}),"object"!==(void 0===e?"undefined":_typeof(e)))){var n=t.collection.get(e);if(!n)return this;e=t.children.findByModel(n)}return this.options.placeholder||(this.current=e.model,e.$el.addClass("selected"),i.model.id!==e.model.id&&(i.model=e.model,i.render())),this.triggerMethod("dropdown:select",e.model,this.options.name),this}})}),define("global.model.dialog",[],function(){return Backbone.Model.extend({defaults:function(){return{title:"",autoOpen:!0,modal:!1,view:null,size:"def",color:"default",icon:"folder",zindex:0,header:{move:!1,manage:[{id:"close"},{id:"size"}]},sidebar:null,content:null,toolbar:new Backbone.Collection,context:new Backbone.Collection,showContext:!1,footer:new Backbone.Collection,width:"auto",height:"auto",top:0,left:0}}})}),define("global.view.dialog",["i18n!nls/resources.min","global.model.dialog"],function(e,t){var i=Mn.CollectionView.extend({className:"g-dialog--footer",childView:Mn.View.extend({tagName:"span",getTemplate:function(){return this.model.has("template")?_.template(this.model.get("template")):_.template('<button name="<%- id %>" class="g-form--button flat <%- className %>"><%- title %></button>')},events:{"click input[type=checkbox]":function(e){this.model.set("selected",$(e.target).prop("checked"))}},triggers:{"click button:not(.disabled)":"footer:button:click"},modelEvents:{"change:selected":function(e,t){this.$("input[type=checkbox]").prop("checked",t)}},onRender:function(){this.model.has("selected")&&this.$("input[type = checkbox]").prop("checked",this.model.get("selected"))},templateContext:function(){return{viewid:this.cid}}}),childViewOptions:function(e){e.has("className")||e.set("className","")},onFooterButtonClick:function(e){this.triggerMethod("content:reflect",e)},childViewTriggers:{"footer:button:click":"footer:button:click"}}),n=Mn.CollectionView.extend({tagName:"ul",childView:Mn.View.extend({tagName:"li",getTemplate:function(){return this.model.has("template")?_.template(this.model.get("template")):_.template('<span name="<%- id %>" title="<%- caption %>" toolbar-icon="<%- icon %>" class="<%- className %>"><i><%- title %></i></span>')},triggers:{"click :not(.disabled)":"toolbar:item:click","input input":"toolbar:input:keyup"},onBeforeRender:function(){this.model.has("className")||this.model.set("className",this.model.id),this.model.has("icon")||this.model.set("icon",this.model.get("className")),this.model.has("title")||this.model.set("title",""),this.model.has("caption")||this.model.set("caption",this.model.get("title"))},onRender:function(){this.model.get("disabled")&&this.$el.attr("disabled","disabled")}}),onToolbarItemClick:function(e){this.triggerMethod("content:reflect",e)},onToolbarInputKeyup:function(e){this.triggerMethod("content:reflect",e)},childViewTriggers:{"toolbar:item:click":"toolbar:item:click","toolbar:input:keyup":"toolbar:input:keyup"},collectionEvents:{reset:function(e){this.triggerMethod("toolbar:update",e)},update:function(){}}}),o=Mn.CollectionView.extend({className:"row",childView:Mn.View.extend({className:"g-form--button",tagName:"button",template:_.template("<%- title %>"),onRender:function(){this.model.get("className")&&this.$el.addClass(this.model.get("className"))},triggers:{click:"click:button"}}),childViewTriggers:{"click:button":"click:button"}}),s=Mn.View.extend({className:"g-dialog--promt",template:_.template("<span></span><div></div>"),regions:{buttons:{el:"div",replaceElement:!0}},onRender:function(){this.showChildView("buttons",new o({collection:new Backbone.Collection}))},onChildviewClickButton:function(e){"delete"===e.model.id&&this.callback&&(this.callback.call(this.context),this.callback=null),this.$el.slideUp()},showNotify:function(e){this.getChildView("buttons").collection.reset([{id:"ok",title:"Ok",className:"blue small flat"}]),this.$("span").html(e),this.$el.slideDown(150),this.triggerMethod("notice:show:message")},showConfirm:function(t,i,n){this.getChildView("buttons").collection.reset([{id:"delete",title:e.del,className:"rightsmall flat blue"},{id:"cancel",title:e.cancel,className:"left small flat"}]),this.$("span").html(t),this.callback=i,this.context=n,this.$el.slideDown(150),this.triggerMethod("notice:show:message")},childViewTriggers:{"click:button":"notice:click:button"}}),l=Mn.CollectionView.extend({className:"g-dialog--manage",childView:Mn.View.extend({tagName:"i",template:_.template(""),triggers:{click:"manage:item:click"},onRender:function(){this.$el.addClass(this.model.id)}}),childViewTriggers:{"manage:item:click":"manage:item:click"}});return Mn.View.extend({className:"g-dialog--wrapper",template:"#dialog-window-template",ui:{header:".g-dialog--header",title:".g-dialog--title",content:".g-dialog--content",blocker:".g-dialog--blocker"},regions:{notify:{el:".g-dialog--promt",replaceElement:!0},toolbar:".g-toolbar",content:"@ui.content",sidebar:".g-dialog--sidebar",footer:{el:".g-dialog--footer",replaceElement:!0},manage:{el:".g-dialog--manage",replaceElement:!0}},initialize:function(){this.options.model||(this.model=new t(this.options))},modelEvents:{"change:content":function(e,t){this.getRegion("content").show(t)},"change:title":function(e,t){this.ui.title.html(t)},"change:icon":function(e,t){this.ui.title.attr("data-icon","icon-"+t)},"change:showContext":function(e,t){this.$el.attr("context",t)},"change:size":function(e,t){if(this.model.set({top:this.$el.position().top,left:this.$el.position().left,width:this.$el.width(),height:this.$el.height()}),this.$el.attr("size",t),"max"===t)this.$el.css({left:0,top:45,width:"",height:"",transform:"initial"}).draggable().draggable("destroy").resizable().resizable("destroy");else{var i=this.model.previousAttributes();this.$el.css({left:i.left,top:i.top,width:i.width,height:i.height}),this._initDragAndResize()}}},onRender:function(){this.$el.attr("size",this.model.get("size")),this.$el.attr("footer",!!this.model.get("footer").length),this.$el.attr("toolbar",!!this.model.get("toolbar").length),this.$el.attr("modal",!!this.model.get("modal")),this.$el.attr("context",this.model.get("showContext")),this.$el.attr("header",this.model.get("color")),this.model.get("zindex")&&this.$el.css("zIndex",9e3+this.model.get("zindex")),"full"!==this.model.get("size")?this._initDragAndResize():this.model.get("header").manage=[{id:"close"}],this.showChildView("manage",new l({collection:new Backbone.Collection(this.model.get("header").manage)})),this.showChildView("notify",new s),this.showChildView("toolbar",new n({collection:this.model.get("toolbar")})),this.showChildView("footer",new i({collection:this.model.get("footer")})),this.model.has("content")&&this.showChildView("content",this.model.get("content")),this.model.has("sidebar")?(this.$el.attr("sidebar",!0),this.showChildView("sidebar",this.model.get("sidebar"))):this.$el.attr("sidebar",!1)},onAttach:function(){if("full"!==this.model.get("size")){var e=$("main"),t=this.$el,i=e.height()/2-t.height()/2;t.css({top:i<44?44:i,left:e.width()/2-t.width()/2})}this.model.get("autoOpen")?this.$el.show():this.$el.hide()},childViewEvents:{"show:message":function(e){this.getChildView("notify").showNotify(e)},"show:message:confirm":function(e){this.getChildView("notify").showConfirm(e.text,e.fx,e.ctx)},"notice:show:message":function(){this.ui.blocker.show()},"notice:click:button":function(){this.ui.blocker.hide()},"manage:item:click":function(e){this[e.model.id]()},"content:reflect":function(e){var t=this.getChildView("content"),i=t[e.model.id];i&&"function"==typeof i&&i.call(t,e)},"toolbar:update":function(e){this.$el.attr("toolbar",!!e.length)}},childViewTriggers:{"toolbar:item:click":"toolbar:item:click","toolbar:input:keyup":"toolbar:input:keyup","container:select:item":"container:select:item","footer:button:click":"footer:button:click","after:load":"after:load"},close:function(){this.$el.hide(),this.triggerMethod("dialog:closed"),Backbone.Radio.channel("Notify").request("hide:overlay")},size:function(){this.model.set("size","max"===this.model.get("size")?"def":"max")},menu:function(){this.model.set("showContext",!this.model.get("showContext"))},_initDragAndResize:function(){this.$el.resizable({stop:function(e,t){try{this.model.has("content")&&_.isFunction(this.model.get("content"))&&this.model.get("content").triggerMethod("container:resize:stop",this.getRegion("content").$el)}catch(e){console.error(e.message)}}.bind(this)}).draggable({handle:this.ui.header,helper:"original",containment:"main"}),this.$el.css("position","fixed")}})}),define("c/InputFormView",["i18n!nls/resources.min","global.behaviors.input"],function(e,t){return Mn.View.extend({behaviors:[t],tagName:"span",className:"g-form--input",template:_.template('<input type="text" id="input" name="" value="" class="g-form--input" placeholder="<%= Resources.nameVidget %>"><label for="input"><%= Resources.nameVidget %></label><i class="add rtl-1"></i><i class="clear rtl-2"></i>'),templateContext:{Resources:e},events:{"click .clear":function(){this.$("input").val("")}},triggers:{"click .add":"input:click:add"}})}),define("c/EditListView",[],function(){var e="<span><%= title %></span><span class='cmd'><button type='button' class='view' data-icon='icon-eye'></button><% if(!IsSystem){ %><button type='button' class='edit' data-icon='icon-pen'></button><button type='button' class='clear' data-icon='icon-close-l'></button><% } %></span>",t=Mn.CollectionView.extend({className:"list-cmd-panel",childView:Mn.View.extend({className:"item",template:_.template(e),triggers:{click:"click:item","click .view":"list:item:view","click .clear":"list:item:clear","click .save":"list:item:save"},events:{"click .edit":function(e){e.stopPropagation(),this.template=_.template("<input type='text' value='<%- title %>' /><span class='cmd edit-view'><button type='button' class='cancel' data-icon='icon-round-del'></button><button type='button' class='save' data-icon='icon-round-check'></button></span>"),this.render()},"click .cancel":function(t){t.stopPropagation(),this.template=_.template(e),this.render()},"click input":function(e){e.stopPropagation()}},onListItemSave:function(){if($.trim(this.$("input").val())){var t={title:this.$("input").val()};t[this.options.titleAttribute]=this.$("input").val(),this.model.set(t),this.template=_.template(e),this.render()}else this.$("input").val(this.model.get("title"))}}),childViewOptions:function(e){return e.has("IsSystem")||e.set("IsSystem",!1),this.options.titleAttribute&&(e.set("title",e.get(this.options.titleAttribute)),e.on("change:"+this.options.titleAttribute,function(){e.set("title",e.get(this.options.titleAttribute))},this)),{titleAttribute:this.options.titleAttribute}},childViewTriggers:{"click:item":"click:item","list:item:view":"list:item:view","list:item:clear":"list:item:clear","list:item:save":"list:item:save"}});return Mn.View.extend({template:_.template("<div></div>"),regions:{list:{el:"div",replaceElement:!0}},childViewTriggers:{"click:item":"click:item","list:item:view":"list:item:view","list:item:clear":"list:item:clear","list:item:save":"list:item:save"},events:{"click .add-btn":function(e){e.stopPropagation(),this.$("#add-collection").css({"border-color":""});var t=$.trim(this.$("#add-collection").val());t?(this.$("#add-collection").val(""),this.triggerMethod("list:add",t)):this.$("#add-collection").css({"border-color":"red"})}},onRender:function(){this.getRegion("list").show(new t({collection:this.collection,titleAttribute:this.options.titleAttribute}))}})}),define("c/TabsView",[],function(){var e=Mn.CollectionView.extend({tagName:"ul",className:"nav nav-tabs",childView:Mn.View.extend({tagName:"li",template:_.template('<a href="#<%- id %>"><%- title %>&nbsp;<span style="display: inline-block; min-width: 22px;"><%- total?"("+total+")":"" %></span></a>'),triggers:{click:"click:item"},onRender:function(){this.model.has("active")&&this.model.get("active")?this.$el.addClass("active"):this.$el.removeClass("active")},modelEvents:{"change:active":function(){this.render()}}}),childViewOptions:function(e){e.has("total")||e.set("total",null)}});return Mn.View.extend({template:_.template("<ul></ul><div></div>"),regions:{tabs:{el:"ul",replaceElement:!0},content:{el:"div",replaceElement:!0}},onChildviewClickItem:function(e){var t=e.model.collection.findWhere({active:!0});t&&t.set("active",!1),e.model.has("active")&&e.model.get("acitve")||(e.model.set("active",!0),this.showContent(e.model))},showContent:function(e){var t=e.get("view");this.showChildView("content",new t(e.get("options"))),this.finishLoadContent()},finishLoadContent:function(){},onRender:function(){this.showChildView("tabs",new e({collection:this.collection}));var t=this.collection.findWhere({active:!0});t&&this.showContent(t)}})}),define("global.request.param",["i18n!nls/resources.min","global.behaviors.input","global.view.dropDown","global.view.dialog","c/searchPanel","g/tree","RU"],function(e,t,i,n,o,s){var l=Backbone.Model.extend({defaults:function(){return{Name:"",DisplayValue:"",ParametrType:"",Caption:"",Description:"",Value:[],MetaEntity:"",IsMultiValues:!1,StickUrl:"",NoCash:!1}},validate:function(e){var t=[];if("int"!==this.get("ParametrType").toLowerCase()||function(e,t){return""===e||new RegExp(t).test(e)}(e.Value[0],"^[\\d]+$")||t.push(e),t.length)return t;this.trigger("valid")}});return Mn.View.extend({behaviors:{input:t},tagName:"span",className:"g-form--input",getTemplate:function(){var e=this.model.get("ParametrType")?this.model.get("ParametrType").toLowerCase():"";return-1!==["idlist","type","rubric","object"].indexOf(e)?_.template('<div class="dialog"></div><input type="text" class="g-form--input <%- DisplayValue?\'filled\':\'\' %>" placeholder="<%- Caption %>" value="<%- DisplayValue?DisplayValue:Value.join(",") %>" name="<%- Name %>" disabled="disabled" /><label><%- Caption %></label><i class="rtl-2 more add"></i><i class="rtl-3 clear"></i><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>'):"bool"===e?_.template('<input type="checkbox" id="id<%- Name %>" class="g-form--checkbox" name="<%- Name %>" <% if(Value[0]==="True"){ %>checked="checked"<% } %> /><label for="id<%- Name %>" class="bool-type-label"><%- Caption %></label><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>'):"text"===e?_.template('<label><%- Caption %></label><i class="help rtl-1 textarea"></i><span class="g-tip bottom textarea"><kbd></kbd><span><%- Description %></span></span><textarea class="g-form--textarea <%- DisplayValue?\'filled\':\'\' %>" name="<%- Name %>" placeholder="<%- Caption %>"><%- DisplayValue?DisplayValue:Value.join(",") %></textarea>'):"datetime"===e?_.template('<input type="text" value="" name="<%- Name %>" /><label><%- Caption %></label><svg class="svg-icon--big"><use xlink:href="#calendar-icon"></use></svg><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>'):"dictionary"===e?_.template('<label><%- Caption %></label><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span><div></div>'):_.template('<input type="text" class="g-form--input <%- DisplayValue?\'filled\':\'\' %>" placeholder="<%- Caption %>" value="<%- DisplayValue?DisplayValue:Value.join(",") %>" name="<%- Name %>" /><label><%- Caption %></label><i class="help rtl-1"></i><span class="g-tip bottom"><kbd></kbd><span><%- Description %></span></span>')},ui:{text:"textarea",input:"input",clear:"i.clear"},collectionEvents:{update:function(e,t){if(t.add){var i=e.pluck("id");i.length||(i=this.model.get("Value")),this.model.set({DisplayValue:e.pluck("title").join("; "),Value:i})}}},modelEvents:{invalid:function(){this.ui.text.addClass("error"),this.ui.input.addClass("error")},valid:function(){this.ui.text.removeClass("error"),this.ui.input.removeClass("error")},"change:DisplayValue":function(e,t){this.ui.input.val(t)},"change:Value":function(e,t){this.ui.clear.show()}},events:{"click label.bool-type-label":function(){this.$("input").is(":checked")?this.model.set("Value",["False"]):this.model.set("Value",["True"])},"keyup input[type=text], textarea, input[class!=ejdatepicker]":function(e){this.model.set("Value",[$.trim($(e.target).val())],{validate:!0})},"click .more":function(){if(this._setKeyHeader(),-1===["Object","IdList"].indexOf(this.model.get("ParametrType"))){var t={RequestSelected:e.selectRequest,Request:e.selectRequest,Rubric:e.selectRubric,RubricTools:[{id:"add",caption:e.add},{id:"rename",caption:e.rename},{id:"clear",caption:e.deleteItem},{id:"searchObj",className:"search",template:'<span class="g-form--input input-data"><input type="text" name="search-name" value="" class="g-form--input" placeholder="Enter keyword"/><i class="search rtl-1" name="search"></i></span>'}],Type:e.selectTree},i=new s({collection:new Backbone.Collection,selected:this.model.get("Value"),node:{checkbox:!1}}),l=new n({title:t[this.model.get("ParametrType")],header:{manage:[{id:"close"}]},color:"blue",controls:[],tools:t[this.model.get("ParametrType")+"Tools"],content:i});i.collection.url=this.model.get("url")||"/api/"+this.model.get("ParametrType"),i.collection.fetch({reset:!0}),this.listenTo(i,"container:select:item",function(e){parseInt(e.model.id)>=0&&(this.model.get("IsMultiValues")?this.collection.add(e.model):(this.collection.reset(),this.collection.add(e.model),l.close()))})}else l=new n({title:e.selObj,icon:"gear",color:"blue",size:"med",header:{manage:[{id:"close"}]},toolbar:new Backbone.Collection([{id:"filterByType",className:"filter"},{id:"searchObj",className:"search",template:'<span class="g-form--input input-data"><input type="text" name="search-name" value="" class="g-form--input" placeholder="Enter keyword"/><i class="search rtl-1" name="search"></i></span>'}]),content:new o({rid:this.options.rid,collection:this.collection,IsMultiValues:"IdList"===this.model.get("ParametrType")}),footer:new Backbone.Collection([{id:"close",title:e.apply,className:"blue right"}])}),this.listenTo(l,"footer:button:click",function(e){l.close()});this.hasRegion()||this.addRegion("dialog",".dialog"),this.getRegion("dialog").show(l)},"click @ui.clear":function(e){e.stopPropagation(),this.collection.reset(),this.model.set({DisplayValue:"",Value:[]})}},initialize:function(){this.collection||(this.collection=new Backbone.Collection),this.model||(this.model=new l(this.options.attributes))},onBeforeRender:function(){-1!==this.model.get("Name").indexOf("#")&&this.model.set("Name",this.model.get("Name").replace(/#/g,"")),this.model.has("ParametrType")||this.model.set("ParametrType","")},onRender:function(){this._setKeyHeader();var e=this.model.get("ParametrType").toLowerCase();this["_"+e]&&this["_"+e]()},onChildviewDropdownSelect:function(e,t){this.model.set("Value",[e.id])},_setKeyHeader:function(){if(this.options.rid||this.options.dbase){var e={};this.options.rid?e.RID=this.options.rid:e.db="db"+this.options.dbase,$.ajaxSettings.headers.key=$.mergeUrlParam($.ajaxSettings.headers.key,e)}else require(["bdid"],function(e){e&&($.ajaxSettings.headers.key=$.mergeUrlParam($.ajaxSettings.headers.key,{db:"db"+e}))})},_dictionary:function(){this.addRegion("ddm","div");var e=new Backbone.Collection;this.showChildView("ddm",new i({collection:e})),e.url="/api/ModelDicItems?dic="+this.model.get("MetaEntity"),e.fetch({reset:!0,success:function(){this.getChildView("ddm").setCurrent(this.model.get("Value")[0])}.bind(this)}),this.listenTo(this.getChildView("ddm"),"dropdown:select",function(e){this.model.set({Value:[e.id]})})},_datetime:function(){this.$el.addClass("date-position");this.$("input").ejDatePicker({width:"100%",height:"36px",value:new Date(this.model.get("Value")[0]),locale:e.Lang,buttonText:e.Today,showPopupButton:!1,watermarkText:this.model.get("Caption"),focusOut:function(e){this.$("input").data("ejDatePicker").hide()}.bind(this),select:function(e){var t=e.date;this.model.set({Value:[$.ToISODateOnly(t)]})}.bind(this)});this.$("input").addClass("ejdatepicker"),this.$(".svg-icon--big").on("click",function(){this.$("input").ejDatePicker("show")}.bind(this))}})}),define("c/searchPanel",["i18n!nls/resources.min","c/SimpleTableView","g/tree"],function(e,t,i){var n=Mn.CollectionView.extend({childView:Mn.View.extend({className:"item",template:_.template('<%- title %><span data-icon="icon-trash"></span>'),triggers:{'click span[data-icon="icon-trash"]':"remove:selected"}}),childViewTriggers:{"remove:selected":"remove:selected"}});return Mn.View.extend({className:"choise-panel",template:"#choise-panel-list-template",templateContext:{Resources:e},ui:{tt:"#types-tree"},regions:{result:".result-list",select:".select-list",tree:"@ui.tt"},initialize:function(){this.options.rid&&(this.treeOptions={path:"/api/Tree/ByWidgetQ/"+this.options.rid}),this.typeid=10001,this.searchVal=""},onRender:function(){var o=new Backbone.Collection;o.url="/api/List/?page=1&text=&typeid=10001",this.showChildView("result",new t({collection:o,rowTemplate:"<td><input type='checkbox' id='ch_<%- id %>' class='g-form--checkbox'><label for='ch_<%- id %>'><span><%= num %>.</span><span><%- title %></span></label></td><td><%- type %></td>",head:new Backbone.Collection([{id:0,title:e.title,width:"70%"},{id:1,title:e.type,width:"30%"}])})),this.getChildView("result").collection.on("reset",function(){this.getChildView("result").$el.hideIndicator()},this),this.getChildView("result").collection.on("error",function(){this.getChildView("result").$el.hideIndicator()},this),this.collection.reset(),this.showChildView("select",new n({collection:this.collection}));var s=new Backbone.Collection;s.url=this.treeOptions?this.treeOptions.path||"/api/Type":"/api/Type",this.showChildView("tree",new i({collection:s,node:{checkbox:!1,levelOpen:4}})),s.fetch({reset:!0})},onChildviewContainerSelectItem:function(e){this.typeid=e.model.id,this.search()},clear:function(){this.searchVal="",this.typeid=10001;var e=this.getChildView("result").collection;e.url=$.mergeUrlParam(e.url,{text:this.searchVal,page:1,typeid:this.typeid}),e.reset()},search:function(e){var t=this.getChildView("result").collection;this.getChildView("result").currentPage=1,t.url=$.mergeUrlParam(t.url,{page:1,typeid:this.typeid,text:this.searchVal}),this.triggerMethod("notice:show:message"),t.fetch({reset:!0,success:function(){this.triggerMethod("notice:click:button")}.bind(this),error:function(){this.triggerMethod("notice:click:button")}})},filterByType:function(e){this.ui.tt.toggle()},searchObj:function(e){var t=e.$("input[name='search-name']").val();(event.keyCode?13===event.keyCode&&$.trim(t):$(event.target).hasClass("search"))&&t.length>=1&&(this.searchVal=t,this.search())},childViewEvents:{"page:select":function(e){var t=this.getChildView("result"),i=this.getChildView("result").collection;t.currentPage=e,i.url=$.mergeUrlParam(i.url,{page:e}),i.fetch({reset:!0})},"change:input:row":function(e){var t=e.$("input");this.ui.tt.hide(),t.prop("checked")?this.options.IsMultiValues?this.collection.add(e.model):(this.getChildView("result").getChildView("body").children.each(function(t){e.model.id!==t.model.id&&t.$("input").prop("checked",!1)}),this.collection.reset(),this.collection.add(e.model)):this.collection.remove(e.model)},"remove:selected":function(e){this.getChildView("result").getChildView("body").children.findByModel(e.model).$("input").prop("checked",!1),this.collection.remove(e.model)}}})}),define("g/tree",["i18n!nls/resources.min"],function(e){var t=(Backbone.Collection.extend({model:Backbone.Model.extend({defaults:{id:null,parentid:"",title:"",parents:[],children:0,cdate:0}})}),Mn.View.extend({tagName:"li",
template:_.template('<div><i class="expander" <%- nodes?"":"disabled" %>></i><input type="checkbox" id="node_<%- id %>"><label for="node_<%- id %>"></label><span tree-icon="<%- nodes?(id==="-1"?"root":"folder"):"file" %>"><% if(iconurl){ %><img src="<%- iconurl %>" alt="" />&nbsp;<% } %><%- title %></span><button data-value="ok"></button><button data-value="cancel"></button></div><ul></ul>'),ui:{span:"span",cancel:'button[data-value="cancel"]',save:'button[data-value="ok"]',expander:"i.expander",chbox:"input[type=checkbox]",label:"input[type=checkbox]+label"},regions:{tree:{el:"ul",replaceElement:!0}},triggers:{"click @ui.span":"container:select:item"},events:{"click @ui.chbox":function(e){e.stopPropagation(),this.model.set("selected",this.ui.chbox.prop("checked")),this.triggerMethod("click:select:input",this)},"click @ui.cancel":function(){this.model.set("isEdit",!1),this.model.id||this.model.collection.remove(this.model)},"click @ui.save":function(e){e.stopPropagation(),$.trim(this.ui.span.text())&&this.model.save({title:this.ui.span.text()}),this.model.set("isEdit",!1)},"click .expander":function(e){e.stopPropagation(),$(e.target).closest("div").toggleClass("expanded")}},modelEvents:{"change:nodes":function(e,t){t&&t.length?(this.ui.expander.attr("disabled",!1),this.ui.span.attr("tree-icon","folder")):(this.ui.expander.attr("disabled",!0),this.ui.span.attr("tree-icon","file"))},"change:isEdit":function(e,t){t?this.ui.span.attr("contenteditable",!0):this.ui.span.removeAttr("contenteditable")}},onBeforeRender:function(){if(this.options.parent&&this.options.parent.id===this.model.get("parentid")){var e=this.options.parent.get("parents")||[];e.push(parseInt(this.options.parent.id)),this.model.set("parents",_.uniq(e))}},onRender:function(){if(this.options.node||(this.options.node={checkbox:!0}),this.model.has("selected")&&this.$("input[type=checkbox]").prop("checked",this.model.get("selected")),this.model.has("nodes")){this.options.node.levelOpen?this.model.get("level")<this.options.node.levelOpen&&this.$("div").addClass("expanded"):this.$("div").addClass("expanded");var e=new i({parent:this.model,collection:this.model.get("nodes"),url:this.options.url,node:this.options.node});this.showChildView("tree",e)}this.options.node.checkbox||this.$("input[type=checkbox] ~ label").hide(),this.model.has("isEdit")||this.model.set("isEdit",!1)},showAddTemplate:function(){this.model.set("isEdit",!1);var t=new Backbone.Model({id:null,title:e.title,parentid:this.model.id,cdate:0,nodes:null,iconurl:null});if(this.model.has("nodes"))this.model.get("nodes").add(t);else{var i=new Backbone.Collection([t]);i.url=this.model.collection.url,this.model.set({nodes:i,children:1})}this.model.trigger("change:nodes"),this.render(),t.set("isEdit",!0)},childViewTriggers:{"click:select:input":"click:select:input","container:select:item":"container:select:item"}})),i=Mn.CollectionView.extend({tagName:"ul",className:"g-tree",childView:t,childViewOptions:function(){return{parent:this.options.parent,url:this.options.url,node:this.options.node}},initialize:function(){this.collection.comparator="cdate",this.branch=this.options.branch||{pid:0}},collectionEvents:{update:function(){this.options.parent&&(this.options.parent.set({children:this.collection.length}),this.collection.length||this.options.parent.set({nodes:null}))},reset:function(){this.$el.hideIndicator();var e=new Backbone.Collection;this.collection.each(function(t){0===parseInt(t.get("parentid"))&&t.set("level",1),this.options.selected&&t.set("selected",-1!==this.options.selected.indexOf(parseInt(t.id)));var i=this.collection.where({parentid:t.id}),n=new Backbone.Collection;n.url=this.collection.url,n.add(_.map(i,function(e){return e.set("level",t.get("level")+1),e.collection=n,e})),t.set("nodes",n.length?n:t.has("isdoc")?null:[]),e.add(i)},this),this.collection.remove(e.models)}},onChildviewContainerSelectItem:function(e){this.$("div.active").removeClass("active"),e.$("div:first").addClass("active")},childViewTriggers:{"click:select:input":"click:select:input","container:select:item":"container:select:item"}});return i}),define("g/ejRTEView",["i18n!nls/resources.min","g/ImageGalleryView","RU","syncfusion"],function(e,t){return Mn.View.extend({tagName:"textarea",template:!1,onAttach:function(){this.ejRTE=this.$el.ejRTE({enableRTL:!!this.options.enableRTL,value:this.options.value,maxLength:Number.MAX_VALUE,locale:e.Lang,width:this.options.width||"100%",height:this.options.height||"450px",minHeight:"200px",showFooter:!0,showHtmlSource:!0,autoFocus:!0,toolsList:["font","style","alignment","customTools","links","clipboard","doAction","lists","media","tables","casing","clear"],tools:{font:["fontSize","fontColor","backgroundColor"],style:["bold","italic","underline","strikethrough"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"],clipboard:["cut","copy","paste"],doAction:["undo","redo"],clear:["clearFormat","clearAll"],links:["createLink","removeLink"],media:["video"],tables:["createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","deleteTable"],casing:["upperCase","lowerCase"],customTools:[{name:"galleryWindow",tooltip:e.gallery,text:"",css:"e-rte-toolbar-icon image",action:function(){var i={id:"gallery-window",icon:"icon-source",title:e.gallery,toolbar:[],footer:[],content:new t};Backbone.Radio.channel("Notify").request("once:dialog",i),this.listenTo(i.content,"change:item",function(e){var t='<img src="'+e.get("FileUrl")+'" alt="'+e.get("OriginalFileName")+'" />';this.ejRTE.executeCommand("inserthtml",t)}.bind(this))}.bind(this)}]}}).data("ejRTE")},fix:function(){return $(window).trigger("resize"),this}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpY3Rpb25hcnkuanMiLCJzdG9yYWdlbW9kZWwuanMiLCJpbnB1dC5qcyIsImRpYWxvZy5qcyIsInNpZGViYXIuanMiLCJsb2FkZXIuanMiLCJhcHAuanMiLCJEb20uanMiLCJlZGdldmlldy5qcyIsImJhc2tldHZpZXcuanMiLCJIZWFkZXJWaWV3LmpzIiwiRmVlZGJhY2suanMiLCJBbGVydHNCYXJWaWV3LmpzIiwiY29ubmVjdC5qcyIsIkNvbnRleHRNZW51Vmlldy5qcyIsImVkaXRwYW5lbHZpZXcuanMiLCJ1cGxvYWRmaWxldmlldy5qcyIsImltYWdlZ2FsbGVyeXZpZXcuanMiLCJzaW1wbGV2aWV3LmpzIiwiZGF0YXZpZXcuanMiLCJkcm9wZG93bnZpZXcuanMiLCJkaWFsb2dtb2RlbC5qcyIsImRpYWxvZ3ZpZXcuanMiLCJpbnB1dGZvcm12aWV3LmpzIiwiZWRpdGxpc3R2aWV3LmpzIiwidGFic3ZpZXcuanMiLCJwYXJhbXZpZXcuanMiLCJzZWFyY2h2aWV3LmpzIiwidHJlZS5qcyIsImVqcnRldmlldy5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJkaWN0aW9uYXJpZXMiLCJCYWNrYm9uZSIsIkNvbGxlY3Rpb24iLCJleHRlbmQiLCJtb2RlbCIsIk1vZGVsIiwiaWRBdHRyaWJ1dGUiLCJkZWZhdWx0cyIsIkRpY0NvZGUiLCJEaWNUeXBlIiwiSUQiLCJJbXBvcnRhbmNlIiwiVGl0bGUiLCJ1cmwiLCJjIiwiaW5pdCIsImRvbmUiLCJmIiwiY29udGV4dCIsInRoaXMiLCJjYWxsYmFjayIsIm1vZGVscyIsImxlbmd0aCIsImNhbGwiLCJmZXRjaCIsInJlc2V0Iiwic3VjY2VzcyIsIlJlc291cmNlcyIsIlRyZWVzIiwiUGxheWVycyIsIkNvbm5lY3RVcmwiLCJpbml0aWFsaXplIiwiQ3VycmVudCIsIm9uIiwiYWRkVHJlZSIsImFkZFBsYXllciIsImNsZWFyUGxheWVycyIsImFkZENoZWNraW5nIiwiY2xlYXJDaGVja2luZyIsInNldEN1cnJlbnQiLCJkYXRhIiwiaWQiLCJtIiwiY2hlY2tDb2xsZWN0aW9uIiwiZ2V0IiwicmVtb3ZlIiwibyIsImFkZCIsImdldFRyZWUiLCJub0Nhc2giLCJzdXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0cyIsImdldE1vZGVsRm9yVHJlZSIsInJlcXVpcmUiLCJUcmVlVmlldyIsIm9wdGlvbnMiLCJhcGkiLCJtYXJrQ3VycmVudCIsInNldCIsImJpbmQiLCJvcGVyYXRpb24iLCJuYW1lIiwiJCIsInRyaW0iLCJidXRzIiwiZ2V0QnV0cyIsIl8iLCJmaW5kV2hlcmUiLCJRdWVyeUJ1dHRvbnNEYXRhIiwiYnMiLCJlYWNoIiwiYSIsInB1c2giLCJiIiwiYWRkQnV0dG9ucyIsInVuaW9uIiwicCIsInBzIiwicGxheWVyIiwicGF1c2UiLCJzcmMiLCJsb2FkIiwiTW4iLCJCZWhhdmlvciIsInVpIiwiaW5wdXQiLCJjbGVhciIsInN3aXRjaEVkaXQiLCJoZWxwIiwiZXZlbnRzIiwiY2xpY2sgLmctdGlwIGtiZCIsImUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiaGlkZSIsImNsaWNrIEB1aS5oZWxwIiwibmV4dCIsInNob3ciLCJkZWxheSIsImZhZGVPdXQiLCJjbGljayBAdWkuY2xlYXIiLCJldmVudCIsInByZXZBbGwiLCJ2YWwiLCJyZW1vdmVDbGFzcyIsImZvY3VzIEB1aS5pbnB1dDpub3QoXCIuZGlzYWJsZWRcIikiLCJibHVyIEB1aS5pbnB1dDpub3QoXCIuZGlzYWJsZWRcIikiLCJjbGljayBAdWkuc3dpdGNoRWRpdCIsIiRlIiwiZmxhZyIsImF0dHIiLCIkZm9ybSIsInRvZ2dsZUNsYXNzIiwiZmluZCIsImhhc0NsYXNzIiwicHJvcCIsImZpbGxlZCIsImFkZENsYXNzIiwib25SZW5kZXIiLCJlcSIsInRleHQiLCJzaWJsaW5ncyIsImRpYWxvZ01vZGVsIiwiRGlhbG9nVmlldyIsIk9iamVjdCIsImNoYW5uZWxOYW1lIiwicmFkaW9SZXF1ZXN0cyIsInNob3c6b3ZlcmxheSIsIm92ZXJsYXkiLCJhcHBlbmQiLCJoaWRlOm92ZXJsYXkiLCJ1bmlxOmRpYWxvZyIsIm9uY2U6ZGlhbG9nIiwiaW5pdERpYWxvZyIsImRpYWxvZyIsImdldENoYW5uZWwiLCJyZXF1ZXN0IiwibGlzdGVuVG8iLCJjYWxsVG9vbHNEaWFsb2ciLCJjYWxsRmlsdGVyRGlhbG9nIiwidHJlZVNlbGVjdEl0ZW0iLCJ2IiwiayIsImdldENoaWxkVmlldyIsImVkaXRhYmxlVmlldyIsInRvb2xzIiwiY29sbGVjdGlvbiIsInJlbmFtZSIsImNoaWxkcmVuIiwiZmluZEJ5TW9kZWwiLCJzaG93QWRkVGVtcGxhdGUiLCJ0cmlnZ2VyIiwidGl0bGUiLCJhc2t5b3VzdXJlIiwibWVzc2FnZSIsIkZvcm1hdCIsImRlbHRleHQiLCJmeCIsImRlc3Ryb3kiLCJjdHgiLCJ0b0xvd2VyQ2FzZSIsInRyZWVWaWV3IiwicmVjdXJjaXZlIiwicGFyc2VJbnQiLCJpbmRleE9mIiwiaGFzIiwiJGVsIiwic2lkZUJhck1vZGVsIiwidmlldyIsIm5hbWVWaWV3IiwibWVudVZpZXciLCJDb2xsZWN0aW9uVmlldyIsInRhZ05hbWUiLCJjaGlsZFZpZXciLCJWaWV3IiwidGVtcGxhdGUiLCJ0cmlnZ2VycyIsImNsaWNrIiwiY2hpbGRWaWV3VHJpZ2dlcnMiLCJtZW51Oml0ZW0iLCJzaWRlYmFyVmlldyIsImVsIiwicmVnaW9ucyIsImxpc3QiLCJyZXBsYWNlRWxlbWVudCIsImNsaWNrIC5jb250cm9sIiwiaXNIaWRlIiwibW9kZWxFdmVudHMiLCJjaGFuZ2UiLCJjaGlsZFZpZXdFdmVudHMiLCJzaWRlQmFyVHJpZ2dlciIsImNvbGxlY3Rpb25FdmVudHMiLCJzaG93Q2hpbGRWaWV3Iiwic2lkZUJhciIsInVuZGVmaW5lZCIsIm9wZW4iLCJpdGVtcyIsInJhZGlvRXZlbnRzIiwicmVuZGVyIiwiY2xvc2UiLCJsb2FkZXIiLCJfdGhpcyIsImNzcyIsInNpemUiLCJzcGVlZCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiU2VsZWN0IiwicHJlc2VudCIsInF1ZXJ5IiwicGFnZSIsImRldGFpbCIsInRhYiIsInN1YiIsInBhcmFtcyIsInRpY2tCYWxhbmNlIiwiZmlsbCIsInBhdGgiLCJzZWdtZW50cyIsInNwbGl0IiwiaSIsImZ1bGxwYXRoIiwiZ2V0cGF0aCIsImpvaW4iLCJnZXRPYmplY3RCeVBhcmFtIiwiY2hlY2tNb25pdG9yaW5nIiwibW9uaXRvcmluZyIsImdvbiIsImh1YiIsIlNKIiwiaXdjIiwiU2lnbmFsUiIsImdldEh1YlByb3h5IiwiY2xpZW50Iiwic2VydmVyIiwic3RhcnRNb25pdG9yaW5nVGFza3MiLCJhamF4U2V0dGluZ3MiLCJzdG9wTW9uaXRvcmluZ1Rhc2tzIiwic3RyIiwib3V0IiwicyIsInNlbCIsImhhc093blByb3BlcnR5IiwibGluayIsInBhcmFtIiwiYXJndW1lbnRzIiwiYWN0aW9uIiwiX2lkIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInByZXBhcmUiLCJmaWVsZCIsImRhdGV0aW1lIiwiYXJyIiwiZmllbGROYW1lIiwiaHJlZiIsImlzQXJyYXkiLCJBcnJheSIsImZyb20iLCJwcm9wVHlwZSIsInZhbHVlIiwicGFyc2UiLCJ0Iiwib3V0cHV0IiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiTGFuZyIsIkdldCIsInIiLCJpbCIsImMxIiwiX3BhcmFtIiwib2JqIiwicmVzdWx0IiwicHIiLCJjaGVjayIsImFjY2VzcyIsImd1aWQiLCJ0eXBlIiwiY29va2llIiwiYWpheCIsImQiLCJleHBpcmVzIiwiZmFpbCIsIkVycm9yIiwiJGxpc3QiLCJuYXZpZ2F0ZSIsImZyYWdtZW50Iiwicm91dGVyIiwiUm91dGVyIiwiX28iLCJoYXNoIiwiczEiLCJzMiIsInMzIiwiY29sbGVjdFVybCIsInFzdHIiLCJhZGRQYXJhbXMiLCJ0d28iLCJzcGxpY2UiLCJnZXRDb250ZXh0Iiwia2V5IiwicSIsInR4dCIsImdldFBhcmFtIiwiX3MiLCJnZXRQYXJhbXMiLCJwYXJzZUhhc2giLCJsaCIsInJlc2l6ZWVuZCIsInJ0aW1lIiwiZGVsdGEiLCJnZXRJY29uIiwiX291dCIsImFqYXhTZXR1cCIsImhlYWRlcnMiLCJ3aW5kb3ciLCJvcmlnaW4iLCJzZWFyY2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJlcnJvciIsIngiLCJiZWZvcmVTZW5kIiwieGhyIiwiY29tcGxldGUiLCJqcVhIUiIsInhoclBvb2wiLCJ4aHJBYm9ydEFsbCIsIm1hcCIsImFib3J0IiwicmVzaXplIiwiZWxlbWVudCIsImxpbmtzIiwibCIsInJlcGxhY2UiLCJmbiIsInNob3dJbmRpY2F0b3IiLCJnZXRUaW1lIiwibGVmdCIsIm9mZnNldCIsIndpZHRoIiwidG9wIiwiaGVpZ2h0IiwiaGlkZUluZGljYXRvciIsImNsb25lIiwiYXBwZW5kVG8iLCJyZW1vdmVBdHRyIiwibWVyZ2VVcmxQYXJhbSIsInUiLCJjaGFpbiIsIml0ZW0iLCJjb21wYWN0Iiwib2JqZWN0IiwiR2V0RGF0YSIsIiRwIiwiZGF0ZXRpbWVwaWNrZXIiLCJ0b0lTT1N0cmluZyIsIlRvSVNPIiwiZ2V0VmFsdWUiLCJpcyIsIk1hcmtFcnJvckZvcm0iLCJHZW5RdWVyeSIsInJlc3BvbnNlIiwiZGljdCIsImFjY2VudE1hcCIsItGRIiwi0LgiLCLQtSIsItC5Iiwibm9ybWFsaXplIiwidGVybSIsInJldCIsImNoYXJBdCIsIm1hdGNoZXIiLCJSZWdFeHAiLCJhdXRvY29tcGxldGUiLCJlc2NhcGVSZWdleCIsImxpdCIsImRhdGFUeXBlIiwiZXIiLCJncmVwIiwibGFiZWwiLCJ0ZXN0IiwiYWRkSWNvbiIsInJvYm90IiwiJG8iLCJpY29uX2NsYXNzIiwic3RhdHVzIiwicGMiLCJzZXZlcml0eSIsInN0YXRlIiwibnBjIiwibmljb25fY2xhc3MiLCJUb0lTT0RhdGVPbmx5IiwiZW50ZXJlZERhdGUiLCJwYWQiLCJuIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJpc05hTiIsInRpbWVQYXJ0Iiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwicHR0IiwiY29uc29sZSIsInBhcnNlRGF0ZSIsInNkIiwialF1ZXJ5IiwiaW5jbHVkZSIsIm1ldGEiLCJyZXMiLCJmaWx0ZXIiLCJzdWJzdHJpbmciLCJwcmVwYXJlVXJsIiwibGFuZyIsImRiIiwiX3UiLCJ0YWJzVmlldyIsImNsYXNzTmFtZSIsInRyaWdnZXJNZXRob2QiLCJjaGlsZFZpZXdPcHRpb25zIiwiYWRkOmVkZ2VzIiwiY2hhbmdlOm1vZHVsZSIsIm1vZHVsZXNWaWV3IiwiY2xpY2sgYSIsInByZXZlbnREZWZhdWx0IiwiZWRnZTpjb2xsYXBzZSIsInRlbXBsYXRlQ29udGV4dCIsInRvdWNoc3RhcnQgLmRlZmF1bHQtc3RhcnQtbmF2LXBhdGgiLCJjbGljayAuZGVmYXVsdC1zdGFydC1uYXYtcGF0aCIsInRvdWNoc3RhcnQgLmRlZmF1bHQtc3RhcnQtbmF2LWNsb3NlIiwiY2xpY2sgLmRlZmF1bHQtc3RhcnQtbmF2LWNsb3NlIiwiZGVmYXVsdE5hdiIsInN0YXJ0TmF2IiwiYW5pbWF0ZSIsInByZXBlbmQiLCJfY29sbGFwc2UiLCJ0YWJzIiwibW9kdWxlcyIsIkVuYWJsZWQiLCJDb2RlIiwiZ2V0UmVnaW9uIiwiaGFzVmlldyIsImF0dGFjaEh0bWwiLCJzdGVwIiwiX2luZGV4IiwiU2NoZWR1bGVNb2RlbCIsIlVJRCIsIlRpbWVTdGFydEV4ZWN1dGlvbiIsIlBvaW50RGF0ZUZvclNlbGVjdGlvbiIsIlBlcmlvZGljaXR5IiwiV2hpY2hEYXlzT2ZXZWVrIiwiU3Vic2NyaWJlcnMiLCJTY2hlZHVsaW5nVGFza1R5cGUiLCJTdGF0ZSIsIkVtYWlsVG9waWMiLCJFbWFpbEJvZHkiLCJ2YWxpZGF0ZSIsInNjaGVkdWxlQ29sbGVjdGlvbiIsInJ1IiwiZGF5c1ZpZXciLCJmbG9hdCIsImNoZWNrZWQiLCJyYWRpb1ZpZXciLCJjbGljayBpbnB1dCIsInBlcmlvZCIsImRheXMiLCJjbGljayAuY2FuY2VsLCAuY2xvc2UiLCJjbGljayAuc2F2ZSIsImRpZ2VzdCIsIm9sZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJhc3NpZ24iLCJzYXZlIiwid2FpdCIsIm9uQ2hpbGR2aWV3Q2xpY2tSYWRpbyIsImxvY2FsIiwic2V0bG9jYWwiLCJ3ZWVrIiwiZGF5TmFtZXMiLCJlbXB0eSIsImV2ZXJ5aG91ciIsImV2ZXJ5ZGF5IiwiZXZlcnl3ZWVrIiwiZWpUaW1lUGlja2VyIiwibG9jYWxlIiwiaW50ZXJ2YWwiLCJpZHMiLCJzZWxlY3RlZCIsInBvc3QiLCJhbHdheXMiLCJEcm9wRG93biIsImRkIiwiY3VycmVudCIsIkNEYXRlIiwiU2NoZWR1bGVWaWV3IiwiZmFjdERpZ2VzdE1vZGVsIiwiVGl0bGVUb3AiLCJUaXRsZU1pZGRsZSIsIlRpdGxlQm90dG9tIiwidG9TdHJpbmciLCJjaGFuZ2UgI3Nob3ctc2NoZSIsImJsdXIgaW5wdXQiLCJpc1ZhbGlkIiwic2NoZSIsImVqRGF0ZVBpY2tlciIsImJ1dHRvblRleHQiLCJUb2RheSIsImh0bWwiLCJub3NlbGVjdCIsInZhbGlkYXRpb25FcnJvciIsInRvSlNPTiIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwic2VhcmNoUGFuZWwiLCJkb2NEaWdlc3RNb2RlbCIsIlNlbGVjdGVkT2JqZWN0c0ZvcktleVBocmFzZXMiLCJTb3VyY2VzIiwicmVxIiwia2V5cyIsInBsdWNrIiwiY2xpY2sgaW5wdXRbdmFsdWU9YV0iLCJjbGljayBpbnB1dFt2YWx1ZT1iXSIsImRpYWxvZ09wdGlvbnMiLCJzZWxlY3RSZXF1ZXN0IiwiY29sb3IiLCJjb250cm9scyIsImNvbnRlbnQiLCJub2RlIiwiY2hlY2tib3giLCJ6aW5kZXgiLCJSYWRpbyIsImNoYW5uZWwiLCJjbGljayAuY2hvb3NlIiwic2VsZWN0aW5nT2JqIiwidG9vbGJhciIsImZvb3RlciIsInJpZyIsInJpZCIsIndhcm5pbmciLCJub3RzZWxlY3RlZCIsInNvdXJjZSIsInN0YXR1c1RleHQiLCJ0YWJsZVZpZXciLCJmYWN0RGlnZXN0VmlldyIsImRvY0RpZ2VzdFZpZXciLCJzY2hlZHVsZSIsInN0YXJ0Iiwic2NoZVRhc2tzIiwiZW5hYmxlIiwiZGlzYWJsZSIsImN1cmVudCIsIm9uQ2hpbGR2aWV3VGFibGVSb3dDbWQiLCJoZWFkIiwic2VuZCIsInRvc2VuZCIsInJvd1RlbXBsYXRlIiwiaGVhZGVyIiwiaWNvbiIsIm1hbmFnZSIsImF1dG9PcGVuIiwiYmFza2V0IiwiZXhwb3J0IiwiaW1wb3J0Iiwid2l6YXJkZGlnZXN0IiwiZmFjdERpZ2VzdCIsImRvY0RpZ2VzdCIsImNsZWFyU2VsZWN0ZWQiLCJjbGVhckJhc2tldCIsImhpZGVCdXR0b24iLCJvbkJlZm9yZVJlbmRlciIsIm9uQ2hpbGR2aWV3QWZ0ZXJMb2FkIiwib25DaGlsZHZpZXdUb29sYmFySXRlbUNsaWNrIiwiYWN0IiwidGFibGUiLCJpc0Z1bmN0aW9uIiwibW9kZWxzU2VsZWN0ZWQiLCJjbWQiLCJkaWFsb2dWaWV3IiwiaGFzUmVnaW9uIiwiYWRkUmVnaW9uIiwic2hvd05vdGlmeSIsInNlbGVjdG9iaiIsIm9uQ2hpbGR2aWV3Rm9vdGVyQnV0dG9uQ2xpY2siLCJlcmFzZSIsIm5vdGlmeSIsInNob3dDb25maXJtIiwic3VyZSIsImNsZWFyYWxsIiwiY29uZmlybU9iakRlbGV0ZSIsIklEcyIsImxpc3RJRHMiLCJjbyIsIkFwcCIsInRlbXBsYXRlSW5mbyIsImNsaWNrIC5pY29uLWNsb3NlIiwiY2xpY2sgLmJ0bi1leGVjIiwiY2xpY2sgLmJ0bi1jYW5jZWwiLCJtb2RhbCIsImV4ZWMiLCJjb25maXJtIiwic2lkIiwiYW1vdW50IiwibW9kZSIsImNhbmNlbEJ0biIsIndhaXQyIiwiYWxlcnQiLCJzdG9yYWdlIiwiZGlyZWN0aW9uIiwiX2V4ZWNDb25maXJtIiwiZXhlY0NvbmZpcm0iLCJjb250ZXh0Q29uZmlybSIsIiRsIiwibGFzdCIsImluc2VydEFmdGVyIiwidGV4dEJ0bkV4ZWMiLCJ0aXRsZUV4ZWMiLCJkZWxldGVJdGVtIiwiYWNjIiwiUG9pbnRzIiwiTWVzc2FnZVZpZXciLCJBbGVydHNCYXIiLCJFZGdlVmlldyIsIkJhc2tldFZpZXciLCJkZW1vSW5mbyIsImNhc2VidG4iLCJjYXNlbnVtIiwibG9nbyIsImluZm8iLCJlZGdlIiwiY2FzZSIsImNsaWNrICNJbmZvREIiLCJjbGljayAjSW5mb1VzZXIiLCJtb3VzZWxlYXZlIiwiY2xpY2sgQHVpLmNhc2VidG4iLCJjbGljayBAdWkubG9nbyIsImhpc3RvcnkiLCJjbGljayBAdWkuaW5mbyIsInNob3dEZW1vSW5mbyIsImN1cnJlbnRpZCIsImlzRGVtbyIsIkVkZ2VzIiwiZGVtbyIsImRlbW9JbmZvQ29udGVudCIsImRlbW9UcyIsImluZm9ybWF0aW9uIiwiTiIsImZpbmRCeUluZGV4Iiwib25DaGlsZHZpZXdVcGRhdGVDYXNlIiwibnVtIiwiJGIiLCJjbGljayAuY2xvc2UiLCJzZW5kcmVzdWx0IiwiU2V0UmVzdWx0IiwiU2V0U3ViUmVzdWx0IiwiY2FwdGNoYSIsInNlbmRkYXRhIiwibW9kZWxpZCIsIm1vZGVsdHlwZWlkIiwic2VuZE1lc3NhZ2UiLCJmZWVkYmFja1ZpZXciLCJjbGljayBzcGFuIiwiY2xpY2sgLmVyYXNlIiwic3RvcFByb3BhZ2F0aW9uIiwiYXBwIiwiVGFza3MiLCJtZXNzYWdlc0xpc3QiLCJlbXB0eVZpZXciLCJTdGF0dXMiLCJjbGljazptZXNzYWdlIiwiYnRuIiwiY29udGFpbmVyIiwiY2xpY2sgaS5jbG9zZSIsImNsaWNrIEB1aS5idG4iLCJvbkF0dGFjaCIsIm9uQ2hpbGR2aWV3Q2xpY2tNZXNzYWdlIiwiZmVlZGJhY2siLCJ1cGRhdGUiLCJsb2ciLCJyZXR1cm5NZXNzYWdlIiwic2hhcmVkQ29sbGVjdGlvbiIsImFsZXJ0TWVzc2FnZSIsInNlcnZlck1lc3NhZ2UiLCJyZXR1cm5WYWx1ZVNldCIsInNob3dBbGVydHMiLCJtZXNzYWdlcyIsImFjaXRpdmVBbGVydHMiLCJndWlkcyIsImhpZGVBbGVydHMiLCJ0cmFuc2ZlckRhdGEiLCJraW5kIiwid25kIiwicGluZyIsIm1zZyIsIlNoYXJlZERhdGEiLCJvbkNoYW5nZWQiLCJzYyIsImxpc3RJdGVtIiwiR3JvdXBDb2xsZWN0aW9uIiwiSXRlbSIsInBhcmFtU2V0IiwiSW50ZXJuZXQiLCJTdGFydCIsInRvIiwiV29ya0dyb3VwcyIsIlByb2plY3RzIiwiQ29ubmVjdHMiLCJJbnRyYW5ldCIsInRlbXBDb25uZWN0IiwiY2hhbmdlIHNlbGVjdCIsImNsaWNrIEB1aS5idG46bm90KFtkYXRhLWljb249aWNvbi1sb2FkZXJdKSIsIk5ldFZlcnNpb24iLCJjdiIsImdldERhdGEiLCJuZXh0QWxsIiwiaXRlbWlkIiwid2d0aXRsZSIsIndnaWQiLCJwcmd0aXRsZSIsInByZ2lkIiwiZGJ0aXRsZSIsImRiaWQiLCJjb25uZWN0IiwiYXQiLCJpdGVtc1ZpZXciLCJtb3VzZW92ZXIiLCIkYyIsImNsaWNrOml0ZW0iLCJjbGljayBzcGFuOm5vdCguc2VhcmNoKSIsImtleXVwIGlucHV0W25hbWU9J3J1YnJpYy1uYW1lJ10iLCJrZXlDb2RlIiwiY2xpY2sgaS5zZWFyY2giLCJyZXJlIiwic2VsZWN0bW9kZWwiLCJzcGwiLCJ1bnZpc2libGUiLCJGaWxlTW9kZWwiLCJGaWxlVUlEIiwiRmlsZVBhdGgiLCJGaWxlTmFtZSIsIkZpbGVVcmwiLCJmb3JtIiwiZmlsZSIsInBybyIsImJhciIsInBlciIsImNoYW5nZSBAdWkuZmlsZSIsInByZXYiLCJzZWdtIiwic3VibWl0IiwiZm9ybUFjdGlvbiIsImluZGljYXRvciIsImFqYXhGb3JtIiwidXBsb2FkUHJvZ3Jlc3MiLCJwb3NpdGlvbiIsInRvdGFsIiwicGVyY2VudENvbXBsZXRlIiwib25GaW5hbCIsInJlc3BvbnNlSlNPTiIsIk1lc3NhZ2UiLCJzdWJzdHIiLCJmdWlkIiwiT3JpZ2luYWxGaWxlTmFtZSIsInNlbEZpbGUiLCJ1cGxvYWRWaWV3IiwiZmlsZU1vZGVsIiwibGlzdEZpbGVzIiwiY2xpY2sgaVtkYXRhLWljb249XCJpY29uLXRyYXNoXCJdIiwiY29uZmlybURlbGV0ZUltZyIsImNsaWNrIGltZyIsInNlbGVjdCIsImNoYW5nZTpzZWxlY3QiLCJjaGFuZ2U6aXRlbSIsImNvbXBhcmF0b3IiLCJzZWxlY3RlZEltZ1BhdGgiLCJjb250ZXh0TWVudSIsImhlYWRWaWV3IiwiZ2V0VGVtcGxhdGUiLCJjbGljayBpbnB1dFt0eXBlPWNoZWNrYm94XSB+IGxhYmVsOm5vdCguZGlzYWJsZWQpIiwiZm9vdFZpZXciLCJ0aXRsZVBhZ2VzIiwiUGFnZXMyIiwibWVudSIsImJveCIsIm1vdXNlZW50ZXIgQHVpLm1lbnUiLCJjbGVhclF1ZXVlIiwibW91c2VsZWF2ZSBAdWkubWVudSIsImNsaWNrIEB1aS5ib3ggYSIsIm1lbnU6Y2xpY2s6aXRlbSIsImNoYW5nZTpjdXJyZW50UGFnZSIsImNoYW5nZTp0b3RhbFBhZ2VzIiwiY2lkIiwiUGFnaW5hdG9yIiwicm93c1ZpZXciLCJyb3dPcHRpb25zIiwiY2xpY2sgYnV0dG9uLm1lbnUiLCJjaGFuZ2UgaW5wdXQiLCJjbGljayAqW2RhdGEtY21kXSIsImVtcHR5Vmlld09wdGlvbnMiLCJjb2xzcGFuIiwiY2hhbmdlOmlucHV0OnJvdyIsImNsaWNrOnJvdzpjbWQ6aXRlbSIsIm1vZGVsOmNoYW5nZWQiLCJtZW51OnNob3ciLCJoaWRlOm1lbnUiLCJjaGVjazpyb3dzOmZvcjpoZWFkIiwiYm9keSIsImZvb3QiLCJjdXJyZW50UGFnZSIsIm1lbnVDb2xsZWN0aW9uIiwicGFnZVNpemUiLCJ0b3RhbFBhZ2VzIiwicGciLCJNYXRoIiwiY2VpbCIsIm9uQ2hpbGR2aWV3UGFnZVNlbGVjdCIsImNsaWNrOmhlYWQ6aW5wdXQiLCIkaSIsIndoZXJlIiwicGFyZW50IiwiJG0iLCJwb3MiLCJkdyIsInNsaWRlRG93biIsIkl0ZW1Nb2RlbCIsIkl0ZW1zQ29sbGVjdGlvbiIsInBhZ2luZ1ZpZXciLCJjb2xWaWV3IiwiZm9vdGVyVmlldyIsIm1vdXNlZW50ZXIgLmNvbnRleHQtbWVudSIsIm1vdXNlbGVhdmUgLmNvbnRleHQtbWVudSIsImFkZENoaWxkVmlldyIsImRpc3BsYXlOYW1lIiwicm93VmlldyIsImJvZHlUZW1wbGF0ZSIsImNvbnRleHRtZW51IHRkIiwiY2xpY2sgYnV0dG9uLmJ0bi1saW5rIiwiY2xpY2sgdGQiLCJjaGFuZ2U6U3RhdGUiLCJib2R5VmlldyIsIm5vZGF0YSIsImluZGV4IiwiaXNFbXB0eSIsInN0YXR1c3NldCIsInN0YXRlc2V0Iiwid29ya2luZyIsImZmIiwidG0iLCJhciIsInBhZ2luYXRpb24iLCJOdW0iLCJTdGF0dXNJY29uIiwic2VsZWN0YWJsZSIsImNhbmNlbCIsInN0b3AiLCJyb3c6Y29sOnRyaWdnZXIiLCJjbGljazpsaW5rIiwiaXNWaXNpYmxlIiwic3lzdGVtTmFtZSIsIm51bUNvbHMiLCJjaGFuZ2U6Y29sbGVjdGlvbiIsIm9mZnNldFkiLCJzY3JvbGxUb3AiLCJvZmZzZXRYIiwic3RvcDpzZWxlY3RhYmxlIiwibXMiLCJwYWdpbmciLCJvbkNoaWxkdmlld0xpc3RJbml0IiwidG90YWxJdGVtcyIsImFjdGlvbjpmcm9tOm1lbnUiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImRyb3BEb3duSXRlbVZpZXciLCJjbGljayAubWFuYWdlIHNwYW4iLCJkcm9wRG93bkl0ZW1zVmlldyIsIm1vdXNlZW50ZXIiLCJzbGlkZVVwIiwiY2xpY2s6Y21kIiwicGxhY2Vob2xkZXIiLCJjbGljayAuZy1kcm9wZG93bi0tcGxhY2Vob2xkZXIiLCJjb250YWluZXI6bW91c2VsZWF2ZSIsImV4cGFuZCIsInNsaWRlVG9nZ2xlIiwibW92ZSIsInNpZGViYXIiLCJzaG93Q29udGV4dCIsImNsaWNrIGlucHV0W3R5cGU9Y2hlY2tib3hdIiwiY2xpY2sgYnV0dG9uOm5vdCguZGlzYWJsZWQpIiwiY2hhbmdlOnNlbGVjdGVkIiwidmlld2lkIiwib25Gb290ZXJCdXR0b25DbGljayIsImZvb3RlcjpidXR0b246Y2xpY2siLCJ0b29sc1ZpZXciLCJjbGljayA6bm90KC5kaXNhYmxlZCkiLCJpbnB1dCBpbnB1dCIsIm9uVG9vbGJhckl0ZW1DbGljayIsIm9uVG9vbGJhcklucHV0S2V5dXAiLCJ0b29sYmFyOml0ZW06Y2xpY2siLCJ0b29sYmFyOmlucHV0OmtleXVwIiwiYnV0dG9uc1ZpZXciLCJjbGljazpidXR0b24iLCJub3RpZnlWaWV3IiwiYnV0dG9ucyIsIm9uQ2hpbGR2aWV3Q2xpY2tCdXR0b24iLCJkZWwiLCJtYW5hZ2VWaWV3IiwibWFuYWdlOml0ZW06Y2xpY2siLCJibG9ja2VyIiwiY2hhbmdlOmNvbnRlbnQiLCJjaGFuZ2U6dGl0bGUiLCJjaGFuZ2U6aWNvbiIsImNoYW5nZTpzaG93Q29udGV4dCIsImNoYW5nZTpzaXplIiwidHJhbnNmb3JtIiwiZHJhZ2dhYmxlIiwicmVzaXphYmxlIiwicHJldmlvdXNBdHRyaWJ1dGVzIiwiX2luaXREcmFnQW5kUmVzaXplIiwid2luIiwic2hvdzptZXNzYWdlIiwic2hvdzptZXNzYWdlOmNvbmZpcm0iLCJub3RpY2U6c2hvdzptZXNzYWdlIiwibm90aWNlOmNsaWNrOmJ1dHRvbiIsImNvbnRlbnQ6cmVmbGVjdCIsInRvb2xiYXI6dXBkYXRlIiwiY29udGFpbmVyOnNlbGVjdDppdGVtIiwiYWZ0ZXI6bG9hZCIsImhhbmRsZSIsImhlbHBlciIsImNvbnRhaW5tZW50IiwiaW5wdXRCZWhhdmlvciIsImJlaGF2aW9ycyIsImNsaWNrIC5jbGVhciIsImNsaWNrIC5hZGQiLCJsaXN0SXRlbVRlbXBsYXRlIiwibGlzdFZpZXciLCJjbGljayAudmlldyIsImNsaWNrIC5lZGl0IiwiY2xpY2sgLmNhbmNlbCIsIm9uTGlzdEl0ZW1TYXZlIiwidGl0bGVBdHRyaWJ1dGUiLCJsaXN0Oml0ZW06dmlldyIsImxpc3Q6aXRlbTpjbGVhciIsImxpc3Q6aXRlbTpzYXZlIiwiY2xpY2sgLmFkZC1idG4iLCJib3JkZXItY29sb3IiLCJOYW1lIiwiY2hhbmdlOmFjdGl2ZSIsIm9uQ2hpbGR2aWV3Q2xpY2tJdGVtIiwiYWN0aXZlIiwic2hvd0NvbnRlbnQiLCJmaW5pc2hMb2FkQ29udGVudCIsIklucHV0QmVoYXZpb3IiLCJEcm9wRG93bkxpc3QiLCJwYXJhbU1vZGVsIiwiRGlzcGxheVZhbHVlIiwiUGFyYW1ldHJUeXBlIiwiQ2FwdGlvbiIsIkRlc2NyaXB0aW9uIiwiVmFsdWUiLCJNZXRhRW50aXR5IiwiSXNNdWx0aVZhbHVlcyIsIlN0aWNrVXJsIiwiTm9DYXNoIiwicGFyYW1UeXBlIiwiaW52YWxpZCIsInZhbGlkIiwiY2hhbmdlOkRpc3BsYXlWYWx1ZSIsImNoYW5nZTpWYWx1ZSIsImNsaWNrIGxhYmVsLmJvb2wtdHlwZS1sYWJlbCIsImtleXVwIGlucHV0W3R5cGU9dGV4dF0sIHRleHRhcmVhLCBpbnB1dFtjbGFzcyE9ZWpkYXRlcGlja2VyXSIsImNsaWNrIC5tb3JlIiwiX3NldEtleUhlYWRlciIsIndpblR5cGUiLCJSZXF1ZXN0U2VsZWN0ZWQiLCJSZXF1ZXN0IiwiUnVicmljIiwic2VsZWN0UnVicmljIiwiUnVicmljVG9vbHMiLCJjYXB0aW9uIiwiVHlwZSIsInNlbGVjdFRyZWUiLCJ0cmVlIiwic2VsT2JqIiwiYXBwbHkiLCJhdHRyaWJ1dGVzIiwib25DaGlsZHZpZXdEcm9wZG93blNlbGVjdCIsImRiYXNlIiwiUklEIiwiX2RpY3Rpb25hcnkiLCJfZGF0ZXRpbWUiLCJzaG93UG9wdXBCdXR0b24iLCJ3YXRlcm1hcmtUZXh0IiwiZm9jdXNPdXQiLCJhcmdzIiwiZGF0ZUxvY2FsIiwiZGF0ZSIsInRhYmxlU2VhcmNoIiwibGlzdFNlbGVjdGVkVmlldyIsImNsaWNrIHNwYW5bZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiXSIsInJlbW92ZTpzZWxlY3RlZCIsInR0IiwidHJlZU9wdGlvbnMiLCJ0eXBlaWQiLCJzZWFyY2hWYWwiLCJ0YyIsImxldmVsT3BlbiIsIm9uQ2hpbGR2aWV3Q29udGFpbmVyU2VsZWN0SXRlbSIsImZpbHRlckJ5VHlwZSIsInRvZ2dsZSIsInNlYXJjaE9iaiIsInBhZ2U6c2VsZWN0IiwiVHJlZU5vZGUiLCJwYXJlbnRpZCIsInBhcmVudHMiLCJjZGF0ZSIsInNwYW4iLCJleHBhbmRlciIsImNoYm94IiwiY2xpY2sgQHVpLnNwYW4iLCJjbGljayBAdWkuY2hib3giLCJjbGljayBAdWkuY2FuY2VsIiwiY2xpY2sgQHVpLnNhdmUiLCJjbGljayAuZXhwYW5kZXIiLCJjaGFuZ2U6bm9kZXMiLCJub2RlcyIsImNoYW5nZTppc0VkaXQiLCJ1bmlxIiwiaWNvbnVybCIsImNsaWNrOnNlbGVjdDppbnB1dCIsImJyYW5jaCIsInBpZCIsIndpbGwiLCJHYWxsZXJ5IiwiZWpSVEUiLCJlbmFibGVSVEwiLCJtYXhMZW5ndGgiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJtaW5IZWlnaHQiLCJzaG93Rm9vdGVyIiwic2hvd0h0bWxTb3VyY2UiLCJhdXRvRm9jdXMiLCJ0b29sc0xpc3QiLCJmb250Iiwic3R5bGUiLCJhbGlnbm1lbnQiLCJsaXN0cyIsImNsaXBib2FyZCIsImRvQWN0aW9uIiwibWVkaWEiLCJ0YWJsZXMiLCJjYXNpbmciLCJjdXN0b21Ub29scyIsInRvb2x0aXAiLCJnYWxsZXJ5IiwiZG0iLCJpbWciLCJleGVjdXRlQ29tbWFuZCIsImZpeCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQUEsUUFBQSxrQ0FBQSxXQUVBLEdBQUFDLEdBQUFDLFNBQUFDLFdBQUFDLFFBQ0FDLE1BQUFILFNBQUFJLE1BQUFGLFFBQ0FHLFlBQUEsS0FDQUMsVUFDQUMsUUFBQSxHQUNBQyxRQUFBLEVBQ0FDLEdBQUEsS0FDQUMsV0FBQSxLQUNBQyxNQUFBLE1BR0FDLElBQUEsdUJBR0FDLEVBQUEsR0FBQWQsR0FFQWUsR0FFQUMsS0FBQSxTQUFBQyxFQUFBQyxHQUVBQyxLQUFBQyxTQUFBSCxFQUVBQyxJQUFBQyxLQUFBRCxRQUFBQSxHQUVBSixFQUFBTyxPQUFBQyxPQUNBSCxLQUFBQyxTQUFBRyxLQUFBUixFQUFBRyxRQUFBSixHQUdBQSxFQUFBVSxPQUNBQyxPQUFBLEVBQ0FDLFFBQUEsU0FBQVosR0FDQUMsRUFBQUssU0FBQUcsS0FBQVIsRUFBQUcsUUFBQUosT0FPQSxPQUFBQyxLQ3hDQWhCLE9BQUEsV0FBQSwwQkFBQSxTQUFBNEIsR0F1R0EsTUFEQSxLQXBHQTFCLFNBQUFJLE1BQUFGLFFB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QSwyQkFDQTZDLE9BQUEsV0FFQSxHQUFBZ3pCLElBQ0FqZ0MsR0FBQSxpQkFDQTRnQixLQUFBLGNBQ0ExWixNQUFBaEksRUFBQThnQyxRQUNBM2dCLFdBQ0FDLFVBQ0FULFFBQUEsR0FBQTZmLEdBR0FsaEMsVUFBQXloQixNQUFBQyxRQUFBLFVBQUFoWixRQUFBLGNBQUErNUIsR0FFQXZoQyxLQUFBeUgsU0FBQTg1QixFQUFBcGhCLFFBQUEsY0FBQSxTQUFBbGhCLEdBRUEsR0FBQXVpQyxHQUFBLGFBQUF2aUMsRUFBQXdDLElBQUEsV0FBQSxVQUFBeEMsRUFBQXdDLElBQUEsb0JBQUEsTUFDQXpCLE1BQUFpZ0MsTUFBQXdCLGVBQUEsYUFBQUQsSUFDQTcrQixLQUFBM0MsUUFDQTJDLEtBQUEzQyxXQXNCQXFCLEtBQUEsVUFHQXFnQyxJQUFBLFdBSUEsTUFEQTUrQixHQUFBZ1EsUUFBQXZLLFFBQUEsVUFDQXZJIiwiZmlsZSI6Imdsb2JhbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZGVmaW5lKCdnbG9iYWw6Y29sbGVjdGlvbjpkaWN0aW9uYXJ5JywgW10sIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkaWN0aW9uYXJpZXMgPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgICAgIG1vZGVsOiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICAgICAgaWRBdHRyaWJ1dGU6IFwiSURcIixcbiAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgRGljQ29kZTogXCJcIixcbiAgICAgICAgICAgICAgICBEaWNUeXBlOiAwLFxuICAgICAgICAgICAgICAgIElEOiBudWxsLFxuICAgICAgICAgICAgICAgIEltcG9ydGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgVGl0bGU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHVybDogXCIvYXBpL3NvdXJjZXMvdHlwZXNcIlxuICAgIH0pO1xuXG4gICAgdmFyIGMgPSBuZXcgZGljdGlvbmFyaWVzKCk7XG5cbiAgICB2YXIgaW5pdCA9IHtcblxuICAgICAgICBkb25lOiBmdW5jdGlvbiBkb25lKGYsIGNvbnRleHQpIHtcblxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGY7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0KSB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgICAgICBpZiAoYy5tb2RlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKGluaXQuY29udGV4dCwgYyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgYy5mZXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQuY2FsbGJhY2suY2FsbChpbml0LmNvbnRleHQsIGMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGluaXQ7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnc3RvcmFnZScsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XG5cbiAgICB2YXIgcyA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBUcmVlczoge30sXG4gICAgICAgICAgICBQbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgIENvbm5lY3RVcmw6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLkN1cnJlbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcInN0b3JhZ2U6YWRkVHJlZVwiLCB0aGlzLmFkZFRyZWUsIHRoaXMpO1xuXG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcInN0b3JhZ2U6YWRkUGxheWVyXCIsIHRoaXMuYWRkUGxheWVyLCB0aGlzKTtcbiAgICAgICAgICAgIEJhY2tib25lLm9uKFwic3RvcmFnZTpjbGVhclBsYXllcnNcIiwgdGhpcy5jbGVhclBsYXllcnMsIHRoaXMpO1xuXG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcInN0b3JhZ2U6Y2hlY2stYWRkXCIsIHRoaXMuYWRkQ2hlY2tpbmcsIHRoaXMpO1xuICAgICAgICAgICAgQmFja2JvbmUub24oXCJzdG9yYWdlOmNoZWNrLWNsZWFyXCIsIHRoaXMuY2xlYXJDaGVja2luZywgdGhpcyk7XG5cbiAgICAgICAgICAgIEJhY2tib25lLm9uKFwic3RvcmFnZTp0ZW1wLW9iamVjdFwiLCB0aGlzLnNldEN1cnJlbnQsIHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEN1cnJlbnQ6IGZ1bmN0aW9uIHNldEN1cnJlbnQoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50ID0gZGF0YTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBjaGVja1xuICAgICAgICBjbGVhckNoZWNraW5nOiBmdW5jdGlvbiBjbGVhckNoZWNraW5nKGlkKSB7XG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuY2hlY2tDb2xsZWN0aW9uLmdldChpZCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29sbGVjdGlvbi5yZW1vdmUobSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZENoZWNraW5nOiBmdW5jdGlvbiBhZGRDaGVja2luZyhvKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tDb2xsZWN0aW9uKSB0aGlzLmNoZWNrQ29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29sbGVjdGlvbi5hZGQobyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0VHJlZTogZnVuY3Rpb24gZ2V0VHJlZShpZCwgbm9DYXNoLCBzdXJsLCBvKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdHMgPSB0aGlzLmdldChcIlRyZWVzXCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0c1tpZF0gfHwgbm9DYXNoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5nZXRNb2RlbEZvclRyZWUoaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlKFsnZy90cmVlL1RyZWVWaWV3J10sIGZ1bmN0aW9uIChUcmVlVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBvIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tb2RlbCA9IG1vZGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5hcGkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcvYXBpLycgKyBpZCArIChzdXJsID8gc3VybCA6IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubWFya0N1cnJlbnQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0c1tpZF0gPSBuZXcgVHJlZVZpZXcob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChcIlRyZWVzXCIsIHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHNbaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHRzW2lkXS5vcGVyYXRpb24gPSB0aGlzLmdldE1vZGVsRm9yVHJlZShpZCkuZ2V0KFwicHJlc2VudFwiKS5vcGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHNbaWRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRNb2RlbEZvclRyZWU6IGZ1bmN0aW9uIGdldE1vZGVsRm9yVHJlZShuYW1lKSB7XG4gICAgICAgICAgICBpZiAoJC50cmltKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJ1dHMpIHRoaXMuZ2V0QnV0cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmFja2JvbmUuTW9kZWwoXy5maW5kV2hlcmUodGhpcy5idXRzLCB7IGlkOiBuYW1lIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0QnV0czogZnVuY3Rpb24gZ2V0QnV0cygpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gUmVzb3VyY2VzLlF1ZXJ5QnV0dG9uc0RhdGEsXG4gICAgICAgICAgICAgICAgYnMgPSBbXTtcbiAgICAgICAgICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIGJzLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSBhLmFkZEJ1dHRvbnM7XG4gICAgICAgICAgICAgICAgaWYgKGIpIGJzID0gXy51bmlvbihicywgYik7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYnV0cyA9IGJzO1xuICAgICAgICAgICAgcmV0dXJuIGJzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFBsYXllcjogZnVuY3Rpb24gYWRkUGxheWVyKHAsIGlkKSB7XG4gICAgICAgICAgICB2YXIgcHMgPSB0aGlzLmdldChcIlBsYXllcnNcIik7XG4gICAgICAgICAgICAvL18uZWFjaChwcywgZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgLy8gICAgcGxheWVyLnBhdXNlKCk7XG4gICAgICAgICAgICAvLyAgICBwbGF5ZXIuc3JjID0gXCJcIjtcbiAgICAgICAgICAgIC8vICAgIHBsYXllci5sb2FkKCk7XG4gICAgICAgICAgICAvLyAgICBwbGF5ZXIgPSBcIlwiO1xuICAgICAgICAgICAgLy99LCB0aGlzKTtcbiAgICAgICAgICAgIHBzLnB1c2gocCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyUGxheWVyczogZnVuY3Rpb24gY2xlYXJQbGF5ZXJzKCkge1xuICAgICAgICAgICAgdmFyIHBzID0gdGhpcy5nZXQoXCJQbGF5ZXJzXCIpO1xuICAgICAgICAgICAgXy5lYWNoKHBzLCBmdW5jdGlvbiAocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnNyYyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgcGxheWVyLmxvYWQoKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSB7fTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIHN0ID0gbmV3IHMoKTtcbiAgICByZXR1cm4gc3Q7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLmJlaGF2aW9ycy5pbnB1dCcsIFtdLCBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gTW4uQmVoYXZpb3IuZXh0ZW5kKHtcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgaW5wdXQ6ICdpbnB1dFt0eXBlPXRleHRdLmctZm9ybS0taW5wdXQnLFxuICAgICAgICAgICAgY2xlYXI6ICdpLmNsZWFyJyxcbiAgICAgICAgICAgIHN3aXRjaEVkaXQ6ICcjc3dpdGNoLWVkaXQnLFxuICAgICAgICAgICAgaGVscDogJ2kuaGVscCdcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgJ2NsaWNrIC5nLXRpcCBrYmQnOiBmdW5jdGlvbiBjbGlja0dUaXBLYmQoZSkge1xuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5nLXRpcCcpLmhpZGUoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayBAdWkuaGVscCc6IGZ1bmN0aW9uIGNsaWNrVWlIZWxwKGUpIHtcbiAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5uZXh0KCcuZy10aXAnKS5zaG93KCkuZGVsYXkoMzAwMCkuZmFkZU91dCgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIEB1aS5jbGVhcic6IGZ1bmN0aW9uIGNsaWNrVWlDbGVhcihlKSB7XG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLnByZXZBbGwoJ2lucHV0JykudmFsKCcnKS5yZW1vdmVDbGFzcygnZmlsbGVkJyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnZm9jdXMgQHVpLmlucHV0Om5vdChcIi5kaXNhYmxlZFwiKSc6ICdmaWxsZWQnLFxuICAgICAgICAgICAgJ2JsdXIgQHVpLmlucHV0Om5vdChcIi5kaXNhYmxlZFwiKSc6ICdmaWxsZWQnLFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLnN3aXRjaEVkaXQnOiBmdW5jdGlvbiBjbGlja1VpU3dpdGNoRWRpdChlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGUgPSAkKGUudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9ICRlLmF0dHIoJ21vZGUnKSA9PT0gJ29mZic7XG4gICAgICAgICAgICAgICAgJGUuYXR0cignbW9kZScsIGZsYWcgPyAnb24nIDogJ29mZicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZm9ybS50b2dnbGVDbGFzcygncmVhZG9ubHknKTtcbiAgICAgICAgICAgICAgICBpZiAoZmxhZykgdGhpcy4kZm9ybS5maW5kKCcuaW5xdWlyeS1mb3JtLS1jb250cm9scyAucm93IGRpdjpsYXN0Jykuc2hvdygpO2Vsc2UgdGhpcy4kZm9ybS5maW5kKCcuaW5xdWlyeS1mb3JtLS1jb250cm9scyAucm93IGRpdjpsYXN0JykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgXy5lYWNoKHRoaXMudWkuaW5wdXQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZSA9ICQoZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJGZvcm0uaGFzQ2xhc3MoJ3JlYWRvbmx5JykpICRlLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7ZWxzZSAkZS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBmaWxsZWQ6IGZ1bmN0aW9uIGZpbGxlZChlKSB7XG5cbiAgICAgICAgICAgIHZhciAkZSA9ICQoZS50YXJnZXQpO1xuXG4gICAgICAgICAgICBpZiAoJC50cmltKCRlLnZhbCgpKSkge1xuICAgICAgICAgICAgICAgICRlLmFkZENsYXNzKCdmaWxsZWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmNsZWFyLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSAkZS5yZW1vdmVDbGFzcygnZmlsbGVkJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRmb3JtID0gbnVsbDtcblxuICAgICAgICAgICAgXy5lYWNoKHRoaXMudWkuaW5wdXQsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGUgPSAkKGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCQudHJpbSgkZS52YWwoKSkpICRlLmFkZENsYXNzKCdmaWxsZWQnKTtcblxuICAgICAgICAgICAgICAgIGlmICgkZS5jbG9zZXN0KCcucmVhZG9ubHknKS5nZXQoMCkgJiYgIXRoaXMuJGZvcm0pIHRoaXMuJGZvcm0gPSAkZS5jbG9zZXN0KCcucmVhZG9ubHknKS5lcSgwKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRmb3JtKSAkZS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLnVpLmhlbHAsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkLnRyaW0oJChlKS5uZXh0KCcuZy10aXAnKS50ZXh0KCkpKSAkKGUpLmhpZGUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRmb3JtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5zd2l0Y2hFZGl0LmhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnN3aXRjaEVkaXQuc2libGluZ3MoJ2xhYmVsJykuaGlkZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHt9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnbG9iYWwucmFkaW8uZGlhbG9nJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC5tb2RlbC5kaWFsb2cnLCAnZ2xvYmFsLnZpZXcuZGlhbG9nJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIGRpYWxvZ01vZGVsLCBEaWFsb2dWaWV3KSB7XG5cbiAgICAvKiBcclxuICAgICAgICBtYWluVmlldyByZXBseSAnYWRkOmRpYWxvZydcclxuICAgICAgICBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdOb3RpZnknKS5yZXBseSgnYWRkOmRpYWxvZycsIGZ1bmN0aW9uIChkaWFsb2cpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCduZWVkJywgZGlhbG9nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgKi9cblxuICAgIC8vdmFyIHNob3dNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgLy8gICAgZGVmYXVsdHM6IGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICAgICByZXR1cm4ge1xuICAgIC8vICAgICAgICAgICAgaWNvbjogJ2ZvbGRlcicsXG4gICAgLy8gICAgICAgICAgICBjbGFzc05hbWU6ICdpbmZvIGRlZmF1bHQnLFxuICAgIC8vICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgIC8vICAgICAgICAgICAgYXV0b09wZW46IHRydWUsXG4gICAgLy8gICAgICAgICAgICB0b29sczogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24sIFxuICAgIC8vICAgICAgICAgICAgY29udHJvbHM6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFtcbiAgICAvLyAgICAgICAgICAgICAgICB7IGlkOiAnc2F2ZScsIHRpdGxlOiBSZXNvdXJjZXMuc2F2ZSwgY2xhc3NOYW1lOiAncmlnaHQgYmx1ZScgfVxuICAgIC8vICAgICAgICAgICAgXSlcbiAgICAvLyAgICAgICAgfTtcbiAgICAvLyAgICB9XG4gICAgLy99KTtcblxuICAgIHZhciBtZXNzYWdlSGFuZGxlciA9IE1uLk9iamVjdC5leHRlbmQoe1xuXG4gICAgICAgIGNoYW5uZWxOYW1lOiAnTm90aWZ5JyxcblxuICAgICAgICByYWRpb1JlcXVlc3RzOiB7XG5cbiAgICAgICAgICAgICdzaG93Om92ZXJsYXknOiBmdW5jdGlvbiBzaG93T3ZlcmxheSgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBvdmVybGF5ID0gJCgnYm9keScpLmZpbmQoJy5nLWRpYWxvZy0tb3ZlcmxheScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFvdmVybGF5LmdldCgwKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkgPSAkKCc8ZGl2IGNsYXNzPVwiZy1kaWFsb2ctLW92ZXJsYXlcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZChvdmVybGF5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvdmVybGF5LnNob3coKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdoaWRlOm92ZXJsYXknOiBmdW5jdGlvbiBoaWRlT3ZlcmxheSgpIHtcbiAgICAgICAgICAgICAgICAkKCdib2R5JykuZmluZCgnLmctZGlhbG9nLS1vdmVybGF5JykuaGlkZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ3VuaXE6ZGlhbG9nJzogZnVuY3Rpb24gdW5pcURpYWxvZyhvcHRpb25zKSB7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBcInVuaXE6ZGlhbG9nLCAtIHNlZSB0byBjYWxsc3RhY2tcIjtcblxuICAgICAgICAgICAgICAgIC8vdmFyIGRpYWxvZyA9IG5ldyBEaWFsb2dWaWV3KCB7IG1vZGVsOiB0aGlzLmluaXREaWFsb2coIG9wdGlvbnMgKSB9ICk7XG5cbiAgICAgICAgICAgICAgICAvL2lmICggISQoICcjJyArIG9wdGlvbnMuaWQgKS5nZXQoIDAgKSApIHtcblxuICAgICAgICAgICAgICAgIC8vICAgICQoJ2JvZHknKS5wcmVwZW5kKGRpYWxvZy5yZW5kZXIoKS4kZWwpO1xuICAgICAgICAgICAgICAgIC8vICAgIGRpYWxvZy4kZWwuYXR0ciggJ2lkJywgb3B0aW9ucy5pZCApO1xuXG4gICAgICAgICAgICAgICAgLy99IGVsc2VcbiAgICAgICAgICAgICAgICAvLyAgICBkaWFsb2cucmVuZGVyKCkuc2V0RWxlbWVudCgkKCcjJyArIG9wdGlvbnMuaWQpKS4kZWwuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gZGlhbG9nO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ29uY2U6ZGlhbG9nJzogZnVuY3Rpb24gb25jZURpYWxvZyhvcHRpb25zKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLmluaXREaWFsb2cob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IG5ldyBEaWFsb2dWaWV3KHsgbW9kZWw6IG1vZGVsIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INCyINC60L7RgNC90LXQstGD0Y4gdmlldyDQv9GA0LjQu9C+0LbQtdC90LjRj1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hhbm5lbCgpLnJlcXVlc3QoJ2FkZDpkaWFsb2cnLCB0aGlzLmRpYWxvZyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMuZGlhbG9nLCAndG9vbGJhcjppdGVtOmNsaWNrJywgdGhpcy5jYWxsVG9vbHNEaWFsb2cpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmRpYWxvZywgJ3Rvb2xiYXI6aW5wdXQ6a2V5dXAnLCB0aGlzLmNhbGxGaWx0ZXJEaWFsb2cpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLmRpYWxvZywgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbScsIHRoaXMudHJlZVNlbGVjdEl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdERpYWxvZzogZnVuY3Rpb24gaW5pdERpYWxvZyhvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBtID0gbmV3IGRpYWxvZ01vZGVsKCk7XG5cbiAgICAgICAgICAgIF8uZWFjaChvcHRpb25zLCBmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29scyc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2xiYXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgbS5nZXQoJ3Rvb2xiYXInKS5zZXQodik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udHJvbHMnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmb290ZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgbS5nZXQoJ2Zvb3RlcicpLnNldCh2KTsgLy8gY29sbGVjdG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uc2V0KGssIHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyZWVTZWxlY3RJdGVtOiBmdW5jdGlvbiB0cmVlU2VsZWN0SXRlbSh2KSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5kaWFsb2cuZ2V0Q2hpbGRWaWV3KCd0b29sYmFyJykpIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmVkaXRhYmxlVmlldyA9IHY7XG5cbiAgICAgICAgICAgIHZhciB0b29scyA9IHRoaXMuZGlhbG9nLmdldENoaWxkVmlldygndG9vbGJhcicpO1xuXG4gICAgICAgICAgICBpZiAodG9vbHMuY29sbGVjdGlvbi5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBhZGQgPSB0b29scy5jb2xsZWN0aW9uLmdldCgnYWRkJyksXG4gICAgICAgICAgICAgICAgICAgIHJlbmFtZSA9IHRvb2xzLmNvbGxlY3Rpb24uZ2V0KCdyZW5hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlID0gdG9vbHMuY29sbGVjdGlvbi5nZXQoJ2NsZWFyJyk7XG5cbiAgICAgICAgICAgICAgICB0b29scy5jaGlsZHJlbi5maW5kQnlNb2RlbChhZGQpLiQoJ3NwYW4nKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgICAgIGlmICh2Lm1vZGVsLmlkICE9PSAnLTEnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xzLmNoaWxkcmVuLmZpbmRCeU1vZGVsKHJlbmFtZSkuJCgnc3BhbicpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICB0b29scy5jaGlsZHJlbi5maW5kQnlNb2RlbChyZW1vdmUpLiQoJ3NwYW4nKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b29scy5jaGlsZHJlbi5maW5kQnlNb2RlbChyZW5hbWUpLiQoJ3NwYW4nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHMuY2hpbGRyZW4uZmluZEJ5TW9kZWwocmVtb3ZlKS4kKCdzcGFuJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNhbGxUb29sc0RpYWxvZzogZnVuY3Rpb24gY2FsbFRvb2xzRGlhbG9nKHYpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmVkaXRhYmxlVmlldykgcmV0dXJuO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHYubW9kZWwuaWQpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGFibGVWaWV3LnNob3dBZGRUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlbmFtZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGFibGVWaWV3Lm1vZGVsLnNldCgnaXNFZGl0JywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnY2xlYXInOlxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRhYmxlVmlldy5tb2RlbCA9PT0gJy0xJykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIEJhY2tib25lLnRyaWdnZXIoXCJtZXNzYWdlOmNvbmZpcm1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5hc2t5b3VzdXJlLCBtZXNzYWdlOiAkLkZvcm1hdChSZXNvdXJjZXMuZGVsdGV4dCwgXCJcIiwgdGhpcy5lZGl0YWJsZVZpZXcubW9kZWwuZ2V0KFwidGl0bGVcIikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZng6IGZ1bmN0aW9uIGZ4KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGFibGVWaWV3Lm1vZGVsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHg6IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FsbEZpbHRlckRpYWxvZzogZnVuY3Rpb24gY2FsbEZpbHRlckRpYWxvZyh2KSB7XG5cbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHYuJCgnaW5wdXQnKS52YWwoKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIHRyZWVWaWV3ID0gdGhpcy5kaWFsb2cubW9kZWwuZ2V0KCdjb250ZW50JykuY2hpbGRyZW4gPyB0aGlzLmRpYWxvZy5tb2RlbC5nZXQoJ2NvbnRlbnQnKSA6IHRoaXMuZGlhbG9nLm1vZGVsLmdldCgnY29udGVudCcpLmdldENoaWxkVmlldygndHJlZScpO1xuXG4gICAgICAgICAgICB2YXIgcmVjdXJjaXZlID0gZnVuY3Rpb24gcmVjdXJjaXZlKHYpIHtcbiAgICAgICAgICAgICAgICB2LmNoaWxkcmVuLmVhY2goZnVuY3Rpb24gKGEpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGEubW9kZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KG0uaWQpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0uZ2V0KCd0aXRsZScpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dCkgPT09IC0xICYmICFtLmhhcygnbm9kZXMnKSkgYS4kZWwuaGlkZSgpO2Vsc2UgYS4kZWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG0uaGFzKCdub2RlcycpKSByZWN1cmNpdmUoYS5nZXRDaGlsZFZpZXcoJ3RyZWUnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZWN1cmNpdmUodHJlZVZpZXcpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgbWVzc2FnZUhhbmRsZXIoKTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnbG9iYWwucmFkaW8uc2lkZUJhcicsIFtdLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHNpZGVCYXJNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVWaWV3OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJ1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbWVudVZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICAgICAgdGFnTmFtZTogJ3VsJyxcblxuICAgICAgICAgICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiAnbGknLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxzcGFuIGNsYXNzPVwiPCUtIGljb24gJT5cIiB0aXRsZT1cIjwlLSB0aXRsZSAlPlwiPjwlLSB0aXRsZSAlPjwvc3Bhbj4nKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogJ21lbnU6aXRlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWVudTppdGVtJzogJ21lbnU6aXRlbSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzaWRlYmFyVmlldyA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgICAgIGVsOiAnLnNpZGViYXInLFxuXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGZhbHNlLFxuXG4gICAgICAgICAgICAgICAgdWk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnLmN1cnJlbnQtdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJy50aXRsZSdcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdDogeyBlbDogJy5saXN0JywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWNrIC5jb250cm9sJzogZnVuY3Rpb24gY2xpY2tDb250cm9sKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSGlkZSA9ICEkKGUpLmhhc0NsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsID0gbmV3IHNpZGVCYXJNb2RlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMubW9kZWwuaGFzKCd2aWV3JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKHZpZXcubW9kZWwuaWQgIT09IHRoaXMudmlldy5tb2RlbC5pZCAmJiAhdGhpcy5pc0hpZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnZXhwYW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLm5hbWUudGV4dCh0aGlzLm1vZGVsLmdldCgndGl0bGUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aS50aXRsZS50ZXh0KHRoaXMubW9kZWwuZ2V0KCduYW1lVmlldycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBjaGlsZFZpZXdFdmVudHM6IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJ21lbnU6aXRlbSc6IGZ1bmN0aW9uIG1lbnVJdGVtKHYpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ3ZpZXcnKSkgdGhpcy5tb2RlbC5nZXQoJ3ZpZXcnKS5zaWRlQmFyVHJpZ2dlcih2Lm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbkV2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7fVxuXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdsaXN0JywgbmV3IG1lbnVWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL3Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZXhwYW5kZWQnKTtcblxuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMudWkudGl0bGUudGV4dCgnJyk7XG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy51aS5uYW1lLnRleHQoJycpO1xuXG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiAodGhpcy52aWV3WydoaWRlJ10pXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB0aGlzLnZpZXcuaGlkZSgpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnZpZXcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgLy8gICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKHRoaXMuZ2V0UmVnaW9uKCdsaXN0JykuaGFzVmlldygpKVxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLmdldENoaWxkVmlldygnbGlzdCcpLmNvbGxlY3Rpb24ucmVzZXQoKTtcblxuICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgc2lkZUJhciA9IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hhbm5lbCA9IE1uLk9iamVjdC5leHRlbmQoe1xuICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiAnc2lkZWJhcicsXG5cbiAgICAgICAgICAgICAgICByYWRpb1JlcXVlc3RzOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4obywgaXRlbXMgLyp0aXRsZSwgY29sbGVjdGlvbiwgdmlldywgbmFtZSovKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZUJhci5tb2RlbC5zZXQobyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVCYXIuY29sbGVjdGlvbi5yZXNldChpdGVtcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZGVCYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHJhZGlvRXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaWRlQmFyKSBzaWRlQmFyID0gbmV3IHNpZGViYXJWaWV3KCkucmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaWRlQmFyLiRlbC5yZW1vdmVDbGFzcygnZXhwYW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZUJhci4kZWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVCYXIubW9kZWwuc2V0KHNpZGVCYXIubW9kZWwuZGVmYXVsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlQmFyLmNvbGxlY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaWRlQmFyKSBzaWRlQmFyID0gbmV3IHNpZGViYXJWaWV3KCkucmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZUJhci4kZWwuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVCYXIuJGVsLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICBuZXcgY2hhbm5lbCgpO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2dsb2JhbC5yYWRpby5sb2FkZXInLCBbXSwgZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gc2l6ZSBbJycsICdsJywgJ3hsJ11cbiAgICAvLyBzcGVlZCBbc2xvdywgbWVkaXVtLCBmYXN0XVxuICAgIC8vIG92ZXJsYXk6IGZhbHNlIFxuXG4gICAgdmFyIGxvYWRlciA9ICQoJzxpIGNsYXNzPVwibG9hZGluZ1wiIHNpemU9XCJ4bFwiIHNwZWVkPVwibWVkaXVtXCI+PC9pPicpLFxuICAgICAgICBvdmVybGF5ID0gJCgnPGRpdiBjbGFzcz1cImctZGlhbG9nLS1vdmVybGF5XCIgc3R5bGU9XCJkaXNwbGF5OmJsb2NrXCI+PC9kaXY+Jyk7XG5cbiAgICB2YXIgY2hhbm5lbCA9IE1uLk9iamVjdC5leHRlbmQoe1xuXG4gICAgICAgIGNoYW5uZWxOYW1lOiAnbG9hZGVyJyxcblxuICAgICAgICByYWRpb0V2ZW50czoge1xuXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KCRlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbCA9ICRlbDtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy4kZWwuZmluZCgnLmxvYWRpbmcnKS5nZXQoMCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaGFzKG9wdGlvbnMsICdzaXplJykpIGxvYWRlci5hdHRyKCdzaXplJywgb3B0aW9ucy5zaXplKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaGFzKG9wdGlvbnMsICdzcGVlZCcpKSBsb2FkZXIuYXR0cignc3BlZWQnLCBvcHRpb25zLnNwZWVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3ZlcmxheSkgJGVsLmFwcGVuZChvdmVybGF5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICRlbC5hcHBlbmQobG9hZGVyKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlID0gX3RoaXMuJGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuZmluZCgnLmxvYWRpbmcnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5maW5kKCcuZy1kaWFsb2ctLW92ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMTIwMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRlID0gdGhpcy4kZWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJGUuZmluZCgnLmxvYWRpbmcnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgJGUuZmluZCgnLmctZGlhbG9nLS1vdmVybGF5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbmV3IGNoYW5uZWwoKTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdhcHAnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKFJlc291cmNlcykge1xuICAgIHZhciBTZWxlY3QgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHMoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByZXNlbnQ6IFwiM1wiLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBudWxsLFxuICAgICAgICAgICAgICAgIGxpc3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IG51bGwsXG4gICAgICAgICAgICAgICAgdGFiOiAwLFxuICAgICAgICAgICAgICAgIHN1YjogMCwgLy8g0YHRg9Cx0LzQtdC90Y4g0LIg0LTQtdGC0LDQu9GP0YVcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6IC0xIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IFtcInF1ZXJ5XCIsIFwibGlzdFwiLCBcInBhZ2VcIiwgXCJkZXRhaWxcIiwgXCJ0YWJcIiwgXCJzdWJcIl0sXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLm9uKFwiY2hhbmdlOnF1ZXJ5XCIsIHRoaXMucXVlcnksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcImNoYW5nZTpsaXN0XCIsIHRoaXMubGlzdCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uKFwiY2hhbmdlOmRldGFpbFwiLCB0aGlzLmRldGFpbCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uKFwiY2hhbmdlOnRhYlwiLCB0aGlzLmRldGFpbCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uKFwiY2hhbmdlOnN1YlwiLCB0aGlzLmRldGFpbCwgdGhpcyk7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcImJhbGFuY2U6c3RhcnRcIiwgZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tCYWxhbmNlID0gdGltZW91dDtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbihcImNoYW5nZVwiLCB0aGlzLmNoYW5nZSwgdGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbGw6IGZ1bmN0aW9uIGZpbGwocGF0aCkge1xuICAgICAgICAgICAgLy8g0LLRi9C30YvQstCw0LXRgtGB0Y8g0L7QtNC40L0g0YDQsNC3INGC0L7Qu9GM0LrQviDQsiDQvNC+0LzQtdC90YIg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLXG4gICAgICAgICAgICBpZiAoIXBhdGgpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldCh0aGlzLmRhdGFbaV0sIHNlZ21lbnRzW2ldIHx8IHRoaXMuZ2V0KHRoaXMuZGF0YVtpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmdWxscGF0aDogZnVuY3Rpb24gZnVsbHBhdGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoXCJwcmVzZW50XCIpICsgXCJ8XCIgKyB0aGlzLmdldHBhdGgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0cGF0aDogZnVuY3Rpb24gZ2V0cGF0aCgpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gdGhpcy5nZXQodGhpcy5kYXRhW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoJC50cmltKHYpKSBkYXRhLnB1c2godik7ZWxzZSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhLmpvaW4oXCIvXCIpO1xuICAgICAgICB9LFxuICAgICAgICBxdWVyeTogZnVuY3Rpb24gcXVlcnkoKSB7XG4gICAgICAgICAgICB0aGlzLnNldChcImxpc3RcIiwgbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Q6IGZ1bmN0aW9uIGxpc3QoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoXCJsaXN0XCIpICYmIHRoaXMuZ2V0KFwibGlzdFwiKS5pbmRleE9mKFwiPVwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChcInBhcmFtc1wiLCB0aGlzLmdldE9iamVjdEJ5UGFyYW0odGhpcy5nZXQoXCJsaXN0XCIpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KFwicGFyYW1zXCIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXQoeyBwYWdlOiAxIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkZXRhaWw6IGZ1bmN0aW9uIGRldGFpbCgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tNb25pdG9yaW5nKCk7XG4gICAgICAgICAgICBpZiAodGhpcy50aWNrQmFsYW5jZSkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpY2tCYWxhbmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tCYWxhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbW9uaXRvcmluZzogeyBvOiAtMSwgZjogbnVsbCB9LFxuICAgICAgICBjaGVja01vbml0b3Jpbmc6IGZ1bmN0aW9uIGNoZWNrTW9uaXRvcmluZygpIHtcblxuICAgICAgICAgICAgdmFyIGRldGFpbCA9IHBhcnNlSW50KHRoaXMuZ2V0KFwiZGV0YWlsXCIpKSxcbiAgICAgICAgICAgICAgICBtID0gdGhpcy5tb25pdG9yaW5nLFxuICAgICAgICAgICAgICAgIGZsYWcgPSAocGFyc2VJbnQodGhpcy5nZXQoXCJ0YWJcIikpID09PSA0IHx8IHBhcnNlSW50KHRoaXMuZ2V0KFwidGFiXCIpKSA9PT0gMikgJiYgcGFyc2VJbnQodGhpcy5nZXQoXCJzdWJcIikpID09PSAwLFxuICAgICAgICAgICAgICAgIGdvbiA9IG0uZiAhPT0gZmxhZztcbiAgICAgICAgICAgIGlmIChtLm8gIT09IGRldGFpbCkge1xuICAgICAgICAgICAgICAgIG0ubyA9IGRldGFpbDtcbiAgICAgICAgICAgICAgICBnb24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdvbikge1xuICAgICAgICAgICAgICAgIG0uZiA9IGZsYWc7XG4gICAgICAgICAgICAgICAgcmVxdWlyZShbJ3NpZ25hbFInXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlKFsnL3NpZ25hbHIvaHVicyddLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKFsnL3NjcmlwdHMvSVdDLVNpZ25hbFItbWFzdGVyL3NpZ25hbHItcGF0Y2guanMnLCAnL3NjcmlwdHMvSVdDLVNpZ25hbFItbWFzdGVyL2l3Yy1zaWduYWxyLmpzJ10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHViID0gU0ouaXdjLlNpZ25hbFIuZ2V0SHViUHJveHkoJ1RpY2tlcicsIHsgY2xpZW50OiB7fSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWwpIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHViLnNlcnZlci5zdGFydE1vbml0b3JpbmdUYXNrcygkLmFqYXhTZXR0aW5ncy51cmwsIGRldGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodWIuc2VydmVyLnN0b3BNb25pdG9yaW5nVGFza3MoJC5hamF4U2V0dGluZ3MudXJsLCBkZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKCkge30sXG4gICAgICAgIGdldE9iamVjdEJ5UGFyYW06IGZ1bmN0aW9uIGdldE9iamVjdEJ5UGFyYW0oc3RyKSB7XG4gICAgICAgICAgICBpZiAoISQudHJpbShzdHIpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHZhciBvdXQgPSB7fSxcbiAgICAgICAgICAgICAgICBzID0gc3RyLnNwbGl0KFwiJlwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHNlbCA9IGVsLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dC5oYXNPd25Qcm9wZXJ0eShzZWxbMF0pKSBvdXRbc2VsWzBdXSA9IHNlbFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBzID0gbmV3IFNlbGVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgU2VsZWN0OiBzLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IGFyZ3VtZW50c1sxXSB8fCBcImRldGFpbHNcIixcbiAgICAgICAgICAgICAgICBfaWQgPSBwYXJhbS5pZDtcbiAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZSArICcvZmlsZXMvJyArIGFjdGlvbiArICcvJyArIF9pZDtcbiAgICAgICAgfSxcbiAgICAgICAgcHJlcGFyZTogZnVuY3Rpb24gcHJlcGFyZShkYXRhLCBmaWVsZCwgZGF0ZXRpbWUpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbXSxcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPSBmaWVsZCB8fCAnc3lzdGVtTmFtZScsXG4gICAgICAgICAgICAgICAgaHJlZiA9IGRhdGEuaHJlZjtcblxuICAgICAgICAgICAgaWYgKCEkLmlzQXJyYXkoZGF0YSkpIGRhdGEgPSBbZGF0YV07XG5cbiAgICAgICAgICAgIEFycmF5LmZyb20oZGF0YSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG8gPSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BUeXBlOiB7fVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGVsLmRhdGEsIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9bcFtmaWVsZE5hbWVdXSA9IHAudmFsdWU7IC8vICB0aGlzLnBhcnNlKHAudmFsdWUsIHAucHJvcFR5cGUsIGRhdGV0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgby5wcm9wVHlwZVtwW2ZpZWxkTmFtZV1dID0gcC5wcm9wVHlwZTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgICAgIG8uaHJlZiA9IGVsLmhyZWY7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gobyk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZSh2LCB0LCBkYXRldGltZSkge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IHY7XG4gICAgICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGVcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gZGF0ZXRpbWUgPyBuZXcgRGF0ZSh2KS50b0xvY2FsZVN0cmluZygpIDogbmV3IERhdGUodikudG9Mb2NhbGVEYXRlU3RyaW5nKFJlc291cmNlcy5MYW5nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9LFxuICAgICAgICBHZXQ6IGZ1bmN0aW9uIEdldChyKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSByLml0ZW1zO1xuICAgICAgICAgICAgdmFyIGlsID0gaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGMxID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oeyBkYXRhOiBbeyBuYW1lOiBcIkRpc3BsYXlfTmFtZVwiLCB2YWx1ZTogXCJOb3QgZm91bmRcIiB9XSB9KTtcbiAgICAgICAgICAgIGlmIChpbCkge1xuICAgICAgICAgICAgICAgIGMxID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oaXRlbXMpO1xuICAgICAgICAgICAgICAgIC8vZm9yICh2YXIgaSA9IDA7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGVsID0gaXRlbXNbMF07XG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGhyZWYgPSBlbC5ocmVmO1xuICAgICAgICAgICAgICAgIC8vICAgIHZhciBkYXRhID0gZWwuZGF0YTtcbiAgICAgICAgICAgICAgICAvLyAgICB2YXIgZGwgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAvLyAgICAvL2ZvciAodmFyIGsgPSAwOyBrIDwgZGw7IGsrKykge1xuICAgICAgICAgICAgICAgIC8vICAgIC8vICAgIHZhciBwID0gZGF0YVtrXTtcbiAgICAgICAgICAgICAgICAvLyAgICAvLyAgICB2YXIgbmFtZSA9IHAubmFtZTtcbiAgICAgICAgICAgICAgICAvLyAgICAvLyAgICB2YXIgdmFsdWUgPSBwLnZhbHVlO1xuICAgICAgICAgICAgICAgIC8vICAgIC8vICAgIHZhciBwcm9tcHQgPSBwLnByb21wdDtcbiAgICAgICAgICAgICAgICAvLyAgICAvL31cbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjMTtcbiAgICAgICAgfSxcbiAgICAgICAgX3BhcmFtOiBmdW5jdGlvbiBfcGFyYW0ob2JqKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHByIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChwcikge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBwciArIFwiPVwiICsgb2JqW3ByXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCImXCIpO1xuICAgICAgICB9LFxuICAgICAgICBjaGVjazogZnVuY3Rpb24gY2hlY2soJGVsLCByZXF1ZXN0LCBjb250ZXh0KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmFjY2Vzcykge1xuICAgICAgICAgICAgICAgIHZhciBndWlkID0gJC50eXBlKCRlbCkgPT09IFwic3RyaW5nXCIgPyAkZWwgOiAkZWwuYXR0cihcImRhdGEtaWRcIik7XG4gICAgICAgICAgICAgICAgaWYgKGd1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZsYWcgPSB0aGlzLmFjY2Vzcy5pbmRleE9mKGd1aWQpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QgJiYgZmxhZykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQuY29va2llKFwiaGlhXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHsgdXJsOiBcIi9hcGkvY29tbW9uLzAvXCIgKyBndWlkIH0pLmRvbmUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChkLmRhdGFbMF0udmFsdWUpKSByZXF1ZXN0LmNhbGwoY29udGV4dCwgZC5kYXRhWzFdLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuY29va2llKFwiaGlhXCIsIGQuZGF0YVsxXS52YWx1ZSwgeyBleHBpcmVzOiAzMCwgcGF0aDogXCIvXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5FcnJvcihhcmd1bWVudHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmNhbGwoY29udGV4dCwgJC5jb29raWUoXCJoaWFcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZsYWc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KCRsaXN0KSB7XG4gICAgICAgICAgICB2YXIgcyA9IHRoaXM7XG4gICAgICAgICAgICAkbGlzdC5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMuY2hlY2soJChlKS5hdHRyKFwiZGF0YS1pZFwiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJChlKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG5hdmlnYXRlOiBmdW5jdGlvbiBuYXZpZ2F0ZShmcmFnbWVudCwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMucm91dGVyIHx8IG5ldyBCYWNrYm9uZS5Sb3V0ZXIoKTtcbiAgICAgICAgICAgIC8vaWYgKEJhY2tib25lLmhpc3RvcnkuZnJhZ21lbnQgPT0gZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIC8vICAgIEJhY2tib25lLmhpc3RvcnkuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICB2YXIgX28gPSBvcHRpb25zID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgcm91dGVyLm5hdmlnYXRlKGZyYWdtZW50LCB7IHRyaWdnZXI6IF9vIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgICAgICAgICAgIHZhciBzMSA9IGhhc2guc3BsaXQoXCJ8XCIpO1xuICAgICAgICAgICAgdmFyIHMyID0gczFbMV0uc3BsaXQoXCI/XCIpO1xuICAgICAgICAgICAgdmFyIHMzID0gczJbMF07XG4gICAgICAgICAgICB2YXIgc2VnbWVudHMgPSBzMy5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWxsKHNlZ21lbnRzKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdFVybDogZnVuY3Rpb24gY29sbGVjdFVybChvYmosIHFzdHIpIHtcbiAgICAgICAgICAgIHZhciByID0gdGhpcy5hZGRQYXJhbXMob2JqLCBxc3RyLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChyWzBdLmluZGV4T2YoXCI/XCIpID09PSAtMSAmJiByWzBdLmluZGV4T2YoXCI9XCIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciB0d28gPSByWzFdO1xuICAgICAgICAgICAgICAgIHIuc3BsaWNlKDEsIDEpO1xuICAgICAgICAgICAgICAgIHJbMF0gPSByWzBdICsgXCI/XCIgKyB0d287XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gci5qb2luKFwiJlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCJrZXlcIjogJC5hamF4U2V0dGluZ3MudXJsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAvLyDQvdGD0LbQvdC+INC00LvRjyDRhNC+0YDQvNC40YDQvtCy0LDQvdC40Y8g0YPRgNC70L7QsiDRgSDQv9Cw0YDQsNC80LXRgtGA0LDQvNC4INC00LvRjyBhcGlcbiAgICAgICAgYWRkUGFyYW1zOiBmdW5jdGlvbiBhZGRQYXJhbXMob2JqLCBxc3RyKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAocXN0ciAmJiBxc3RyLmluZGV4T2YoXCI/XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBzID0gcXN0ci5zcGxpdChcIj9cIik7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHNbMF07XG4gICAgICAgICAgICAgICAgcXN0ciA9IHNbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcSA9IHFzdHIgPyBxc3RyLnNwbGl0KFwiJlwiKSA6IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgcHIgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR4dCA9IHByICsgXCI9XCIgKyBvYmpbcHJdO1xuICAgICAgICAgICAgICAgIHMgPSB0aGlzLmdldFBhcmFtKHByLCBxc3RyKTtcbiAgICAgICAgICAgICAgICBpZiAoIXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5wdXNoKHR4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9zID0gcHIgKyBcIj1cIiArIHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmQgPSBxLmluZGV4T2YoX3MpO1xuICAgICAgICAgICAgICAgICAgICBxW2luZF0gPSB0eHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChwYXRoID8gcGF0aCArIFwiP1wiIDogXCJcIikgKyBxLmpvaW4oXCImXCIpO1xuICAgICAgICB9LFxuICAgICAgICAvLyByZXR1cm4gYXJyYXkga2V5LCB2YWx1ZVxuICAgICAgICBnZXRQYXJhbXM6IGZ1bmN0aW9uIGdldFBhcmFtcyhuYW1lLCBxc3RyKSB7XG4gICAgICAgICAgICB2YXIgciA9IFtuYW1lLCBcIlwiXTtcbiAgICAgICAgICAgIGlmIChxc3RyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBxc3RyLnNwbGl0KFwiJlwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbCA9IGVsLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbFswXSA9PT0gbmFtZSkgcmV0dXJuIHNlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UGFyYW06IGZ1bmN0aW9uIGdldFBhcmFtKG5hbWUsIHFzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBhcmFtcyhuYW1lLCBxc3RyKVsxXTtcbiAgICAgICAgfSxcblxuICAgICAgICBwYXJzZUhhc2g6IGZ1bmN0aW9uIHBhcnNlSGFzaCgpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxoID0gbG9jYXRpb24uaGFzaDtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IGxoLnNwbGl0KFwiP1wiKTtcbiAgICAgICAgICAgICAgICBpZiAocy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHNbMV0uc3BsaXQoXCImXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHBbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsID0gZWwuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3NlbFswXV0gPSBzZWxbMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XG5cbiAgICAkLmFqYXhTZXR1cCh7XG5cbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ2tleSc6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoKVxuICAgICAgICB9LFxuXG4gICAgICAgIHRpbWVvdXQ6IDEyMDAwMCxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoeCwgdCkge1xuICAgICAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndGltZW91dCc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Fib3J0JzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gYmVmb3JlU2VuZCh4aHIsIGFqYXgpIHtcbiAgICAgICAgICAgIC8vdmFyIHAgPSB7IGlkOiBhamF4LnVybCwgeGhyOiB4aHIgfTtcbiAgICAgICAgICAgIC8vJC54aHJQb29sLnB1c2gocCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKGpxWEhSKSB7XG4gICAgICAgICAgICAvLyQueGhyUG9vbC5zcGxpY2UoMCwgMSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQueGhyUG9vbCA9IFtdO1xuICAgICQueGhyQWJvcnRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQueGhyUG9vbC5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHguYWJvcnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQueGhyUG9vbCA9IFtdO1xuICAgIH07XG5cbiAgICAvLyByZXNpemVlbmQgZXZlbnRcbiAgICB2YXIgcnRpbWUgPSBuZXcgRGF0ZSgxLCAxLCAyMDAwLCAxMiwgJzAwJywgJzAwJyksXG4gICAgICAgIHRpbWVvdXQgPSBmYWxzZSxcbiAgICAgICAgZGVsdGEgPSAyMDA7XG5cbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uIChlLCBvKSB7XG5cbiAgICAgICAgaWYgKG8gJiYgJChvLmVsZW1lbnQpLmhhc0NsYXNzKFwiYW5ici13aWRnZXRcIikpIHJldHVybjtcblxuICAgICAgICBydGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGltZW91dCA9IHRydWU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc2l6ZWVuZCwgZGVsdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZXNpemVlbmQoKSB7XG4gICAgICAgIGlmIChuZXcgRGF0ZSgpIC0gcnRpbWUgPCBkZWx0YSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChyZXNpemVlbmQsIGRlbHRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBmYWxzZTtcbiAgICAgICAgICAgIEJhY2tib25lLnRyaWdnZXIoXCJ3aW5kb3c6cmVzaXplZW5kXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAgICAgJC5wcmVwYXJlID0gZnVuY3Rpb24gKGRhdGEsIGZpZWxkKSB7XG5cbiAgICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuIFtdO1xuXG4gICAgICAgICAgICB2YXIgYXJyID0gW10sXG4gICAgICAgICAgICAgICAgZmllbGROYW1lID0gZmllbGQgfHwgJ3N5c3RlbU5hbWUnLFxuICAgICAgICAgICAgICAgIGhyZWYgPSBkYXRhLmhyZWY7XG5cbiAgICAgICAgICAgIGlmICghJC5pc0FycmF5KGRhdGEpKSBkYXRhID0gW2RhdGFdO1xuXG4gICAgICAgICAgICBBcnJheS5mcm9tKGRhdGEsIGZ1bmN0aW9uIChlbCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG8gPSB7IHByb3BUeXBlOiB7fSB9O1xuXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShlbC5kYXRhLCBmdW5jdGlvbiAocCkge1xuXG4gICAgICAgICAgICAgICAgICAgIG9bcFtmaWVsZE5hbWVdXSA9IHAudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG8ucHJvcFR5cGVbcFtmaWVsZE5hbWVdXSA9IHAucHJvcFR5cGU7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBvLmhyZWYgPSBlbC5ocmVmO1xuICAgICAgICAgICAgICAgIG8ubGlua3MgPSBlbC5saW5rcztcblxuICAgICAgICAgICAgICAgIGFyci5wdXNoKG8pO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH07XG5cbiAgICAgICAgJC5Gb3JtYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB0ZXh0ID0gdjtlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSBcIntcIiArIChpIC0gMSkgKyBcIn1cIjtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShsLCB2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSwgJC5mbi5zaG93SW5kaWNhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJ18nICsgbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgY3NzID0gdGhpcy5nZXQoMCkgPyB7IGxlZnQ6IHRoaXMub2Zmc2V0KCkubGVmdCArIHRoaXMud2lkdGgoKSAvIDIsIHRvcDogdGhpcy5vZmZzZXQoKS50b3AgKyB0aGlzLmhlaWdodCgpIC8gMiB9IDogeyBsZWZ0OiAkKHdpbmRvdykud2lkdGgoKSAvIDIsIHRvcDogJCh3aW5kb3cpLmhlaWdodCgpIC8gMiB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRyKFwibG9hZGVyaWRcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUud2FybihcItC40LfQsdGL0YLQvtGH0L3Ri9C1INC30LDQv9GA0L7RgdGLP1wiLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hdHRyKFwibG9hZGVyaWRcIiwgaWQpO1xuICAgICAgICAgICAgJChcIiNSb3RvclwiKS5jbG9uZSgpLmF0dHIoXCJpZFwiLCBpZCkuYWRkQ2xhc3MoXCJsb2FkZXItaW5kaWNhdG9yXCIpLmFwcGVuZFRvKFwiYm9keVwiKS5jc3MoY3NzKS5zaG93KCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgNjAwMDApO1xuICAgICAgICB9O1xuXG4gICAgICAgICQuZm4uaGlkZUluZGljYXRvciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAkKCcjJyArIHRoaXMuYXR0cihcImxvYWRlcmlkXCIpKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cihcImxvYWRlcmlkXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgICQubWVyZ2VVcmxQYXJhbSA9IGZ1bmN0aW9uICh1cmwsIG8pIHtcblxuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCcjJykgPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdSA9IHVybC5zcGxpdChcIj9cIiksXG4gICAgICAgICAgICAgICAgICAgIHMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcCA9IHVbMV0gPyBfLmNoYWluKHVbMV0uc3BsaXQoJyYnKSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSByZXR1cm4gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIH0pLmNvbXBhY3QoKS5vYmplY3QoKS52YWx1ZSgpIDoge30sXG4gICAgICAgICAgICAgICAgICAgIHIgPSBfLmNoYWluKHApLmV4dGVuZChvKS5tYXAoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKyAnPScgKyB2O1xuICAgICAgICAgICAgICAgIH0pLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVbMF0gKyBcIj9cIiArIHIuam9pbihcIiZcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdSA9IHVybC5zcGxpdChcIiNcIiksIHMgPSB1WzBdLnNwbGl0KFwiP1wiKSwgcCA9IHNbMV0gPyBfLmNoYWluKHNbMV0uc3BsaXQoJyYnKSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5pbmRleE9mKCc9JykgIT09IC0xKSByZXR1cm4gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIH0pLmNvbXBhY3QoKS5vYmplY3QoKS52YWx1ZSgpIDoge30sIHIgPSBfLmNoYWluKHApLmV4dGVuZChvKS5tYXAoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsgKyAnPScgKyB2O1xuICAgICAgICAgICAgICAgIH0pLnZhbHVlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc1swXSArICc/JyArIHIuam9pbihcIiZcIikgKyBcIiNcIiArIHVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJC5FcnJvciA9IGZ1bmN0aW9uICh0ZXh0KSB7fTtcblxuICAgICAgICAkLkdldERhdGEgPSBmdW5jdGlvbiAoJHApIHtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgICAgICAgICAkcC5maW5kKFwiaW5wdXQ6bm90KC5pZ25vcmUpXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcIm5hbWVcIikpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwidHlwZVwiKSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSAkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuYXR0cihcInR5cGVcIikgPT09IFwicmFkaW9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykucHJvcChcImNoZWNrZWRcIikpIHJlc3VsdFskKHRoaXMpLmF0dHIoXCJuYW1lXCIpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcIlRpbWVwaWNrZXJcIikgfHwgJCh0aGlzKS5oYXNDbGFzcyhcImRhdGVwaWNrZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9ICQodGhpcykuZGF0ZXRpbWVwaWNrZXIoXCJnZXREYXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSBudWxsKSByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSBkLnRvSVNPU3RyaW5nKCk7ZWxzZSByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZWpkYXRlcGlja2VyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gJC5Ub0lTTygkKHRoaXMpLmRhdGEoXCJlakRhdGVQaWNrZXJcIikuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJlanRpbWVwaWNrZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSAkLlRvSVNPKCQodGhpcykuZGF0YShcImVqVGltZVBpY2tlclwiKS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0WyQodGhpcykuYXR0cihcIm5hbWVcIildID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkcC5maW5kKFwic2VsZWN0Om5vdCguaWdub3JlKVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFskKHRoaXMpLmF0dHIoXCJuYW1lXCIpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRwLmZpbmQoXCJ0ZXh0YXJlYTpub3QoLmlnbm9yZSlcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbJCh0aGlzKS5hdHRyKFwibmFtZVwiKV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgICQuTWFya0Vycm9yRm9ybSA9IGZ1bmN0aW9uIChtb2RlbCwgZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmhpZGVJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIHRoaXMuJChcIiNpbmZvXCIpLnRleHQoXCJcIik7XG4gICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5jc3MoXCJib3JkZXItY29sb3JcIiwgXCJcIik7XG4gICAgICAgICAgICBfLmVhY2goZXJyb3IsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIjaW5mb1wiKS50ZXh0KGRhdGEudGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuJChcIltuYW1lPSdcIiArIGRhdGEubmFtZSArIFwiJ11cIikuY3NzKFwiYm9yZGVyLWNvbG9yXCIsIFwicmVkXCIpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJC5HZW5RdWVyeSA9IGZ1bmN0aW9uIChyZXF1ZXN0LCByZXNwb25zZSwgZGljdCkge1xuICAgICAgICAgICAgdmFyIGFjY2VudE1hcCA9IHtcbiAgICAgICAgICAgICAgICBcItGRXCI6IFwi0LVcIixcbiAgICAgICAgICAgICAgICBcItC4XCI6IFwi0LlcIixcbiAgICAgICAgICAgICAgICBcItC1XCI6IFwi0ZFcIixcbiAgICAgICAgICAgICAgICBcItC5XCI6IFwi0LhcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUodGVybSkge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXQgKz0gYWNjZW50TWFwW3Rlcm0uY2hhckF0KGkpXSB8fCB0ZXJtLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cChcIl5cIiArICQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KHJlcXVlc3QudGVybSksIFwiaVwiKTtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHsgbGl0OiByZXF1ZXN0LnRlcm0sIG5hbWU6IGRpY3QgfTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2FwaS9EaWN0aW9uYXJ5L0J5TmFtZS9cIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogcGFyYW0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVyLCBtKSB7XG4gICAgICAgICAgICAgICAgICAgICQuRXJyb3IobSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UoJC5ncmVwKGRhdGEuZGF0YSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmxhYmVsIHx8IHZhbHVlLnZhbHVlIHx8IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXIudGVzdCh2YWx1ZSkgfHwgbWF0Y2hlci50ZXN0KG5vcm1hbGl6ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJC5hZGRJY29uID0gZnVuY3Rpb24gKCRlLCByb2JvdCkge1xuXG4gICAgICAgICAgICB2YXIgJG8gPSAkZS5jbG9zZXN0KFwiZGl2XCIpLmZpbmQoXCJzcGFuLlRyZWVFbGVtZW50VGl0bGUgc3BhblwiKSxcbiAgICAgICAgICAgICAgICBpY29uX2NsYXNzID0gZ2V0SWNvbihyb2JvdC5zdGF0dXMpLFxuICAgICAgICAgICAgICAgIHBjID0gJ3NldmVyaXR5JyArIHJvYm90LnNldmVyaXR5O1xuXG4gICAgICAgICAgICBpZiAoISRvLmdldCgwKSkge1xuXG4gICAgICAgICAgICAgICAgJG8gPSAkKFwiPHNwYW4gY2xhc3M9J3VpLWljb24gdWktY29ybmVyLWFsbCBcIiArIGljb25fY2xhc3MgKyBcIicgdGl0bGU9J1wiICsgcm9ib3Quc3RhdGUgKyBcIicgZGF0YS1pYz0nXCIgKyBpY29uX2NsYXNzICsgXCInPjwvc3Bhbj48c3Bhbj5cIiArIHJvYm90LnN0YXRlICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgICRlLmNsb3Nlc3QoXCJkaXZcIikuZmluZChcInNwYW4uVHJlZUVsZW1lbnRUaXRsZVwiKS5hZGRDbGFzcyhwYykuYXR0cihcImRhdGEtcGNcIiwgcGMpLmFwcGVuZCgkbyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCRvLmF0dHIoXCJ0aXRsZVwiKSAhPT0gcm9ib3Quc3RhdGUpIHtcblxuICAgICAgICAgICAgICAgIHZhciAkcCA9ICRlLmNsb3Nlc3QoXCJkaXZcIikuZmluZChcInNwYW4uVHJlZUVsZW1lbnRUaXRsZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgbnBjID0gXCJzZXZlcml0eVwiICsgcm9ib3Quc2V2ZXJpdHk7XG5cbiAgICAgICAgICAgICAgICBwYyA9ICRwLmF0dHIoXCJkYXRhLXBjXCIpO1xuICAgICAgICAgICAgICAgIG5pY29uX2NsYXNzID0gZ2V0SWNvbihyb2JvdC5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICRvLnJlbW92ZUNsYXNzKGljb25fY2xhc3MpLmFkZENsYXNzKG5pY29uX2NsYXNzKS5hdHRyKFwiZGF0YS1pY1wiLCBuaWNvbl9jbGFzcykuYXR0cihcInRpdGxlXCIsIHJvYm90LnN0YXRlKTtcbiAgICAgICAgICAgICAgICBpY29uX2NsYXNzID0gJG8uYXR0cihcImRhdGEtaWNcIik7XG4gICAgICAgICAgICAgICAgJHAucmVtb3ZlQ2xhc3MocGMpLmFkZENsYXNzKG5wYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy/RgyDQu9C+0LrQsNC70YzQvdC+0Lkg0LTQsNGC0Ysg0L7QsdGA0LXQt9Cw0LXRgiDQstGA0LXQvNGPINC4INC/0YDQuNCy0L7QtNC40YIg0LogVVRDINGE0L7RgNC80LDRgtGDICjRh9GC0L7QsdGLINC40LfQsdC10LbQsNGC0Ywg0L/RgNC+0LHQu9C10LzRiyDRgSDQstGA0LXQvNC10L3QvdC+0Lkg0LfQvtC90L7QuSlcbiAgICAgICAgJC5Ub0lTT0RhdGVPbmx5ID0gZnVuY3Rpb24gKGVudGVyZWREYXRlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBwYWQobikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuIDogbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGVudGVyZWREYXRlRGF0ZUlTTyA9IGVudGVyZWREYXRlLmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArIHBhZChlbnRlcmVkRGF0ZS5nZXRNb250aCgpICsgMSkgKyBcIi1cIiArIHBhZChlbnRlcmVkRGF0ZS5nZXREYXRlKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGVudGVyZWREYXRlRGF0ZUlTTyArIFwiVDAwOjAwOjAwWlwiO1xuICAgICAgICB9O1xuXG4gICAgICAgICQuVG9JU08gPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgaWYgKGEpIHtcblxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oRGF0ZS5wYXJzZShhKSkgJiYgbmV3IERhdGUoYSkudG9JU09TdHJpbmcoKSA9PT0gYSkgcmV0dXJuIGE7XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lXG4gICAgICAgICAgICAgICAgaWYgKGEuaW5kZXhPZihcIjpcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lUGFydCA9IGEuc3BsaXQoXCI6XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGMuc2V0SG91cnMocGFyc2VJbnQodGltZVBhcnRbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgYy5zZXRNaW51dGVzKHBhcnNlSW50KHRpbWVQYXJ0WzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKFJlc291cmNlcy5MYW5nID09PSBcInJ1LVJVXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBhLnNwbGl0KFwiLlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0dCA9IHBbMV0gKyAnLycgKyBwWzBdICsgJy8nICsgcFsyXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKERhdGUucGFyc2UocHR0KSkpIHJldHVybiBuZXcgRGF0ZShwdHQpLnRvSVNPU3RyaW5nKCk7ZWxzZSBjb25zb2xlLmVycm9yKCfQlNCw0YLQsCBbJyArIGEgKyAnXSDQvdC1INCy0LDQu9C40LTQvdCwISAtICcgKyBwdHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShhKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkLnBhcnNlRGF0ZSA9IGZ1bmN0aW9uIChkKSB7XG5cbiAgICAgICAgICAgIHZhciBzZCA9IGQuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgaWYgKERhdGUucGFyc2Uoc2RbMF0pKSByZXR1cm4gbmV3IERhdGUoc2RbMF0pLnRvTG9jYWxlRGF0ZVN0cmluZyhSZXNvdXJjZXMuTGFuZyk7XG4gICAgICAgICAgICByZXR1cm4gc2RbMF07XG4gICAgICAgIH07XG4gICAgfSkoalF1ZXJ5KTtcblxuICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0eU9iaih0ZXh0KSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIGlmIChjb3VudCA+IDUpIHJldHVybiBcIlwiO1xuICAgICAgICB2YXIgdHh0ID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgcHIgaW4gdGV4dCkge1xuICAgICAgICAgICAgdmFyIHYgPSB0ZXh0W3ByXTtcbiAgICAgICAgICAgIGlmICgkLnR5cGUodikgPT09IFwiZnVuY3Rpb25cIikgY29udGludWU7ZWxzZSBpZiAoJC50eXBlKHYpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgdHh0ICs9IGdldFByb3BlcnR5T2JqKHYpO1xuICAgICAgICAgICAgfSBlbHNlIHR4dCArPSBwciArIFwiPVwiICsgdGV4dFtwcl0gKyBcIjwvYnI+XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR4dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJY29uKHMpIHtcbiAgICAgICAgdmFyIF9vdXQgPSBcInVpLWljb24taW5mb1wiO1xuICAgICAgICBzd2l0Y2ggKHMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmtub3duXCI6XG4gICAgICAgICAgICAgICAgX291dCA9IFwidWktaWNvbi1pbmZvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICAgICAgICAgIF9vdXQgPSBcInVpLWljb24tbGlnaHRidWxiXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29tcGxpdGVkXCI6XG4gICAgICAgICAgICAgICAgX291dCA9IFwidWktaWNvbi1jaGVja1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNyZWF0ZWRcIjpcbiAgICAgICAgICAgICAgICBfb3V0ID0gXCJ1aS1pY29uLXBlbmNpbFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInByb2Nlc3NpbmdcIjpcbiAgICAgICAgICAgICAgICBfb3V0ID0gXCJ1aS1pY29uLWNsb2NrXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZFwiOlxuICAgICAgICAgICAgICAgIF9vdXQgPSBcInVpLWljb24tdHJhc2hcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX291dDtcbiAgICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9FZGdlVmlldycsIFsnaW5jbHVkZU1vZHVsZXMnLCAnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoaW5jbHVkZSwgUmVzb3VyY2VzKSB7XG5cbiAgICB2YXIgRVhQQU5EX1dJRFRIID0gNTcwLFxuICAgICAgICBFWFBBTkRfSEVJR0hUID0gMzc2LFxuICAgICAgICBUQUJfU1RFUCA9IDQ5MjtcblxuICAgIGZ1bmN0aW9uIG1ldGEocCkge1xuXG4gICAgICAgIHZhciByZXMgPSBsb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5pbmRleE9mKHApICE9PSAtMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlcy5sZW5ndGgpIHJldHVybiByZXNbMF07XG5cbiAgICAgICAgdmFyIHVybCA9IGxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkucmVwbGFjZSgvJTJmL2csICcvJyk7XG5cbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCdyZXR1cm5VcmwnKSAhPT0gLTEpIHJlcyA9IHVybC5zcGxpdCgnLycpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXhPZihwKSAhPT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXMubGVuZ3RoKSByZXR1cm4gcmVzWzBdO1xuXG4gICAgICAgIHJlcyA9IHVybC5zcGxpdChcIiZcIikuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5pbmRleE9mKHApICE9PSAtMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlcy5sZW5ndGgpIHJldHVybiByZXNbMF0uc3BsaXQoJz0nKVsxXTtcblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHJlcGFyZVVybChtKSB7XG5cbiAgICAgICAgdmFyIGxhbmcgPSBtZXRhKFwibGFuZ1wiKSB8fCBcImxhbmctcnUtUlVcIixcbiAgICAgICAgICAgIGRiID0gbWV0YShcImRiXCIpIHx8IFwiZGIwXCIsXG4gICAgICAgICAgICBfdSA9IG0uZ2V0KCdVcmwnKTtcblxuICAgICAgICBpZiAoX3UuaW5kZXhPZihcImh0dHBcIikgPT09IC0xIHx8IF91LmluZGV4T2YoXCJodHRwc1wiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBfdS5yZXBsYWNlKFwie2xhbmd9XCIsIGxhbmcpO1xuXG4gICAgICAgICAgICBpZiAoX3UuaW5kZXhPZihcIntkYn1cIikgPT09IC0xKSB1cmwgPSB1cmwgKyBcIj9kYj1cIiArIGRiO2Vsc2UgdXJsID0gdXJsLnJlcGxhY2UoXCJ7ZGJ9XCIsIGRiKTtcblxuICAgICAgICAgICAgbS5zZXQoJ1VybCcsIHVybCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHRhYnNWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdkZWZhdWx0LXN0YXJ0LXRhYnMnLFxuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuICAgICAgICAgICAgdGFnTmFtZTogJ2EnLFxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzwlPSBHcm91cFRpdGxlICU+JyksXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogJ2NoYW5nZTptb2R1bGUnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ2FjdGl2ZScpKSB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCdocmVmJywgJyMnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnRWRnZXMnKSkgdGhpcy50cmlnZ2VyTWV0aG9kKCdhZGQ6ZWRnZXMnLCB0aGlzLm1vZGVsLmdldCgnRWRnZXMnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIGNoaWxkVmlld09wdGlvbnM6IGZ1bmN0aW9uIGNoaWxkVmlld09wdGlvbnMobSwgaSkge1xuICAgICAgICAgICAgaWYgKCFpKSBtLnNldCgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdhZGQ6ZWRnZXMnOiAnYWRkOmVkZ2VzJyxcbiAgICAgICAgICAgICdjaGFuZ2U6bW9kdWxlJzogJ2NoYW5nZTptb2R1bGUnXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBtb2R1bGVzVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3VsJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRhZ05hbWU6ICdsaScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGEgaHJlZj1cIjwlPSBVcmwgJT5cIiBjbGFzcz1cImJ0bi1zdGFydCBidG4tc3RhcnQtLTwlPSBDb2RlICU+XCIgdGFyZ2V0PVwiX2JsYW5rXCI+PCU9IFRpdGxlICU+PC9hPicpLFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayBhJzoge1xuICAgICAgICAgICAgICAgICAgICBldmVudDogJ2VkZ2U6Y29sbGFwc2UnLFxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIGNoaWxkVmlld09wdGlvbnM6IGZ1bmN0aW9uIGNoaWxkVmlld09wdGlvbnMobSkge1xuICAgICAgICAgICAgcHJlcGFyZVVybChtKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2VkZ2U6Y29sbGFwc2UnOiAnZWRnZTpjb2xsYXBzZSdcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdkZWZhdWx0LXN0YXJ0LW5hdiBjb2xsYXBzZWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJyNlZGdlLWJsb2NrLXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICBcInRvdWNoc3RhcnQgLmRlZmF1bHQtc3RhcnQtbmF2LXBhdGhcIjogJ2RlZmF1bHROYXYnLFxuICAgICAgICAgICAgXCJjbGljayAuZGVmYXVsdC1zdGFydC1uYXYtcGF0aFwiOiAnZGVmYXVsdE5hdicsXG5cbiAgICAgICAgICAgIFwidG91Y2hzdGFydCAuZGVmYXVsdC1zdGFydC1uYXYtY2xvc2VcIjogJ3N0YXJ0TmF2JyxcbiAgICAgICAgICAgIFwiY2xpY2sgLmRlZmF1bHQtc3RhcnQtbmF2LWNsb3NlXCI6ICdzdGFydE5hdidcbiAgICAgICAgfSxcblxuICAgICAgICBkZWZhdWx0TmF2OiBmdW5jdGlvbiBkZWZhdWx0TmF2KCkge1xuXG4gICAgICAgICAgICB2YXIgbGFuZyA9IG1ldGEoXCJsYW5nXCIpIHx8IFwibGFuZy1ydS1SVVwiLFxuICAgICAgICAgICAgICAgIGRiID0gbWV0YShcImRiXCIpIHx8IFwiZGIwXCI7XG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZGIgPT09IFwiZGIwXCIgPyAnLycgKyBsYW5nICsgJy9ob21lL21haW4nIDogJy8nICsgbGFuZyArICcvJyArIGRiICsgJy9ob21lL21haW4nO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0YXJ0TmF2OiBmdW5jdGlvbiBzdGFydE5hdigpIHtcblxuICAgICAgICAgICAgdmFyIGNoZWNrVXNlciA9ICQoJyNJbmZvVXNlcicpLnRleHQoKTtcbiAgICAgICAgICAgIGlmIChjaGVja1VzZXIgPT0gXCJBQlNcXFxcRGVtbzAxXCIpIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy8nO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuJGVsLmhhc0NsYXNzKFwiY29sbGFwc2VkXCIpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hbmltYXRlKHsgaGVpZ2h0OiBFWFBBTkRfSEVJR0hULCB3aWR0aDogRVhQQU5EX1dJRFRIIH0sIDE1MCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2V4cGFuZGVkJykucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpO1xuICAgICAgICAgICAgICAgICAgICAkKCdoZWFkZXInKS5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJGVsLmhhc0NsYXNzKFwiZXhwYW5kZWRcIikpIHRoaXMuX2NvbGxhcHNlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgdGFiczogeyBlbDogJy5kZWZhdWx0LXN0YXJ0LXRhYnMnLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9LFxuICAgICAgICAgICAgbW9kdWxlczogJy5kZWZhdWx0LXN0YXJ0LXRhYnMtaW5uZXInXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCd0YWJzJywgbmV3IHRhYnNWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY29sbGFwc2U6IGZ1bmN0aW9uIF9jb2xsYXBzZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWwuYW5pbWF0ZSh7IGhlaWdodDogNDQsIHdpZHRoOiA0NCB9LCAxNTAsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgICAgICQoJ2Rpdi5vdmVybGF5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld0V2ZW50czoge1xuXG4gICAgICAgICAgICAnZWRnZTpjb2xsYXBzZSc6IGZ1bmN0aW9uIGVkZ2VDb2xsYXBzZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsYXBzZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2FkZDplZGdlcyc6IGZ1bmN0aW9uIGFkZEVkZ2VzKG8pIHtcblxuICAgICAgICAgICAgICAgIHZhciBkID0gXy5maWx0ZXIobywgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuRW5hYmxlZCAmJiBpbmNsdWRlLmluZGV4T2YoYS5Db2RlKSAhPT0gLTE7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2V0UmVnaW9uKCdtb2R1bGVzJykuaGFzVmlldygpKSB0aGlzLnNob3dDaGlsZFZpZXcoJ21vZHVsZXMnLCBuZXcgbW9kdWxlc1ZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihkKSB9KSk7ZWxzZSB0aGlzLmdldFJlZ2lvbignbW9kdWxlcycpLmF0dGFjaEh0bWwobmV3IG1vZHVsZXNWaWV3KHsgY29sbGVjdGlvbjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oZCkgfSkucmVuZGVyKCkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTptb2R1bGUnOiBmdW5jdGlvbiBjaGFuZ2VNb2R1bGUodikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kKCcuZGVmYXVsdC1zdGFydC10YWJzIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHYuJGVsLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gdi5faW5kZXggKiBUQUJfU1RFUDtcblxuICAgICAgICAgICAgICAgIHRoaXMuJChcIi5kZWZhdWx0LXN0YXJ0LXRhYnMtaW5uZXJcIikuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHN0ZXAgPyBcIi1cIiArIHN0ZXAgOiAwXG4gICAgICAgICAgICAgICAgfSwgNDAwLCAnZWFzZUluT3V0QmFjaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFNjaGVkdWxlTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgIGlkQXR0cmlidXRlOiBcIlVJRFwiLFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIFVJRDogbnVsbCxcbiAgICAgICAgVGl0bGU6IFwiXCIsXG4gICAgICAgIFRpbWVTdGFydEV4ZWN1dGlvbjogbnVsbCxcbiAgICAgICAgUG9pbnREYXRlRm9yU2VsZWN0aW9uOiBudWxsLFxuICAgICAgICBQZXJpb2RpY2l0eTogMSxcbiAgICAgICAgV2hpY2hEYXlzT2ZXZWVrOiBbXSxcbiAgICAgICAgU3Vic2NyaWJlcnM6IFwiXCIsXG4gICAgICAgIFNjaGVkdWxpbmdUYXNrVHlwZTogMCxcbiAgICAgICAgU3RhdGU6IDEsXG4gICAgICAgIEVtYWlsVG9waWM6IFwiXCIsXG4gICAgICAgIEVtYWlsQm9keTogXCJcIlxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoYXR0cikge1xuICAgICAgICB2YXIgb3V0cHV0ID0gW107XG5cbiAgICAgICAgaWYgKCEkLnRyaW0oYXR0ci5UaXRsZSkpIG91dHB1dC5wdXNoKFwiVGl0bGVcIik7XG5cbiAgICAgICAgaWYgKCEkLnRyaW0oYXR0ci5UaW1lU3RhcnRFeGVjdXRpb24pKSBvdXRwdXQucHVzaChcIlRpbWVTdGFydEV4ZWN1dGlvblwiKTtcblxuICAgICAgICBpZiAoISQudHJpbShhdHRyLlN1YnNjcmliZXJzKSkgb3V0cHV0LnB1c2goXCJTdWJzY3JpYmVyc1wiKTtcblxuICAgICAgICBpZiAoYXR0ci5QZXJpb2RpY2l0eSA9PT0gXCIzXCIpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXR0cikge1xuICAgICAgICAgICAgICAgIGlmIChwLmluZGV4T2YoXCJEYXlfXCIpICE9PSAtMSAmJiBhdHRyW3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHBhcnNlSW50KHAuc3BsaXQoXCJfXCIpWzFdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXQoXCJXaGljaERheXNPZldlZWtcIiwgYXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldChcIlBlcmlvZGljaXR5XCIsIHBhcnNlSW50KGF0dHIuUGVyaW9kaWNpdHkpKTtcbiAgICAgICAgaWYgKG91dHB1dC5sZW5ndGgpIHJldHVybiBvdXRwdXQ7XG4gICAgfVxufSk7XG5cbnZhciBzY2hlZHVsZUNvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgbW9kZWw6IFNjaGVkdWxlTW9kZWwsXG4gICAgdXJsOiBcIi9hcGkvYXV0b2V4ZWNzY2hlZHVsaW5nL2l0ZW1zXCJcbn0pO1xuXG5kZWZpbmUoJ3NjaGVkdWxlJywgWydSVScsICdpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChydSwgUmVzb3VyY2VzKSB7XG5cbiAgICB2YXIgZGF5c1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIkRheV88JS0gbmFtZSAlPlwiIHZhbHVlPVwiPCUtIGlkICU+XCIgaWQ9XCJkPCUtIGlkICU+XCIgY2xhc3M9XCJnLWZvcm0tLWNoZWNrYm94XCI+PGxhYmVsIGZvcj1cImQ8JS0gaWQgJT5cIj48JS0gdGl0bGUgJT48L2xhYmVsPicpLFxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmNzcyh7IGZsb2F0OiAnbGVmdCcsIHdpZHRoOiAnMTIwcHgnIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuJCgnaW5wdXQnKS5wcm9wKCdjaGVja2VkJywgdGhpcy5tb2RlbC5nZXQoJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcbiAgICAgICAgICAgIG0uc2V0KHsgY2hlY2tlZDogdGhpcy5tb2RlbC5nZXQoJ3ZhbHVlJykuaW5kZXhPZihtLmlkKSAhPT0gLTEgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByYWRpb1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIjwlLSBuYW1lICU+XCIgdmFsdWU9XCI8JS0gaWQgJT5cIiBjbGFzcz1cImctZm9ybS0tcmFkaW9cIiBpZD1cInI8JS0gaWQgJT5cIiAvPjxsYWJlbCBmb3I9XCJyPCUtIGlkICU+XCI+PCUtIHRpdGxlICU+PC9sYWJlbD4nKSxcbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQoJ2lucHV0JykucHJvcCgnY2hlY2tlZCcsIHRoaXMubW9kZWwuaWQgPT09IHRoaXMubW9kZWwuZ2V0KCd2YWx1ZScpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAnY2xpY2sgaW5wdXQnOiBmdW5jdGlvbiBjbGlja0lucHV0KCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NsaWNrOnJhZGlvJywgdGhpcy5tb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgY2hpbGRWaWV3T3B0aW9uczogZnVuY3Rpb24gY2hpbGRWaWV3T3B0aW9ucyhtKSB7XG4gICAgICAgICAgICBtLnNldCh7IG5hbWU6IHRoaXMubW9kZWwuZ2V0KCduYW1lJyksIHZhbHVlOiBwYXJzZUludCh0aGlzLm1vZGVsLmdldCgndmFsdWUnKSkgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGVtcGxhdGU6ICcjY2FzZS1zY2hlZHVsZS1pdGVtLXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIHBlcmlvZDogJy5wZXJpb2QnLFxuICAgICAgICAgICAgZGF5czogJy5kYXlzLWJsb2NrJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICAnY2xpY2sgLmNhbmNlbCwgLmNsb3NlJzogZnVuY3Rpb24gY2xpY2tDYW5jZWxDbG9zZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcImNsaWNrIC5zYXZlXCI6IGZ1bmN0aW9uIGNsaWNrU2F2ZShlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQuR2V0RGF0YSh0aGlzLiQoXCIuU2NoZUZvcm06bm90KC5kaWdlc3QpXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgZGlnZXN0ID0gJC5HZXREYXRhKHRoaXMuJChcIi5kaWdlc3RcIikpLFxuICAgICAgICAgICAgICAgICAgICBvbGQgPSBKU09OLnBhcnNlKHRoaXMubW9kZWwuZ2V0KFwiRGF0YVwiKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcIkRhdGFcIiwgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbihvbGQsIGRpZ2VzdCkpKTtcblxuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLnNob3dJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNhdmUoZGF0YSwgeyB3YWl0OiB0cnVlLCBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChlLnRhcmdldCkuaGlkZUluZGljYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3Q2xpY2tSYWRpbzogZnVuY3Rpb24gb25DaGlsZHZpZXdDbGlja1JhZGlvKG0pIHtcblxuICAgICAgICAgICAgaWYgKG0uaWQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWwgPSBSZXNvdXJjZXMuc2V0bG9jYWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgd2VlayA9IF8ubWFwKFswLCAxLCAyLCAzLCA0LCA1LCA2XSwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IGQsIHRpdGxlOiBsb2NhbC5kYXlOYW1lc1tkXSB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnZGF5cycsIG5ldyBkYXlzVmlldyh7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoeyB2YWx1ZTogdGhpcy5tb2RlbC5nZXQoXCJXaGljaERheXNPZldlZWtcIikgfSksXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKHdlZWspXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHRoaXMuZ2V0UmVnaW9uKCdkYXlzJykuZW1wdHkoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIocCkge1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3BlcmlvZCcsIG5ldyByYWRpb1ZpZXcoeyBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHsgbmFtZTogJ1BlcmlvZGljaXR5JywgdmFsdWU6IHRoaXMubW9kZWwuZ2V0KFwiUGVyaW9kaWNpdHlcIikgfSksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3sgdGl0bGU6IFJlc291cmNlcy5ldmVyeWhvdXIsIGlkOiAxIH0sIHsgdGl0bGU6IFJlc291cmNlcy5ldmVyeWRheSwgaWQ6IDIgfSwgeyB0aXRsZTogUmVzb3VyY2VzLmV2ZXJ5d2VlaywgaWQ6IDMgfV0pXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMubW9kZWwuZ2V0KFwiVGltZVN0YXJ0RXhlY3V0aW9uXCIpID8gbmV3IERhdGUodGhpcy5tb2RlbC5nZXQoXCJUaW1lU3RhcnRFeGVjdXRpb25cIikpIDogbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuJChcIi5lanRpbWVwaWNrZXJcIikuZWpUaW1lUGlja2VyKHtcbiAgICAgICAgICAgICAgICBsb2NhbGU6IFJlc291cmNlcy5MYW5nLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwcHgnLFxuICAgICAgICAgICAgICAgIGludGVydmFsOiAxMCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZGVmaW5lKCdleHBvcnQnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKFJlc291cmNlcykge1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogJyNjYXNlLWV4cG9ydC10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKHIpIHtcblxuICAgICAgICAgICAgci4kZWwuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKS5hdHRyKCdkYXRhLWljb24nLCAnaWNvbi1sb2FkZXInKTtcblxuICAgICAgICAgICAgdmFyIG91dHB1dCA9ICQuR2V0RGF0YSh0aGlzLiRlbCksXG4gICAgICAgICAgICAgICAgaWRzID0gXy5tYXAodGhpcy5vcHRpb25zLnNlbGVjdGVkLCBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtLmlkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG91dHB1dC5saXN0ID0gaWRzO1xuXG4gICAgICAgICAgICAkLnBvc3Qoe1xuICAgICAgICAgICAgICAgIHVybDogXCIvYXBpL0V4cG9ydFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6ICQucGFyYW0ob3V0cHV0KVxuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgICAgICAgIHIuJGVsLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIikucmVtb3ZlQXR0cignZGF0YS1pY29uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdzaG93Om1lc3NhZ2UnLCByZXN1bHQpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnaW1wb3J0JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC52aWV3LmRyb3BEb3duJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIERyb3BEb3duKSB7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiAnI2Nhc2UtaW1wb3J0LXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIGRkOiAnI2V4cC1pdGVtcydcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi51cmwgPSBcIi9hcGkvRXhwb3J0XCI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2RkJywgbmV3IERyb3BEb3duKHsgY29sbGVjdGlvbjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKSB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcbiAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnZGQnKS5jb2xsZWN0aW9uLnJlc2V0KHRoaXMuY29sbGVjdGlvbi5tYXAoZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdGl0bGU6IG8uZ2V0KCdDRGF0ZScpLCBpZDogby5nZXQoJ0lEJykgfTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShyKSB7XG5cbiAgICAgICAgICAgIHZhciBzID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2RkJykuY3VycmVudDtcblxuICAgICAgICAgICAgaWYgKHMuaGFzKCdpZCcpKSB7XG5cbiAgICAgICAgICAgICAgICByLiRlbC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLWxvYWRlcicpO1xuXG4gICAgICAgICAgICAgICAgJC5wb3N0KHtcblxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL2FwaS9leHBvcnQvdHJhbnNmZXJkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICQucGFyYW0oeyBJRDogcy5pZCwgQ0RhdGU6IHMuZ2V0KCd0aXRsZScpIH0pXG5cbiAgICAgICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHIuJGVsLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIikucmVtb3ZlQXR0cignZGF0YS1pY29uJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnc2hvdzptZXNzYWdlJywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZGVmaW5lKCdmYWN0ZGlnZXN0JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ3NjaGVkdWxlJywgJ1JVJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIFNjaGVkdWxlVmlldywgcnUpIHtcblxuICAgIHZhciBmYWN0RGlnZXN0TW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgICAgICBUaXRsZVRvcDogJycsXG4gICAgICAgICAgICBUaXRsZU1pZGRsZTogJycsXG4gICAgICAgICAgICBUaXRsZUJvdHRvbTogJycsXG4gICAgICAgICAgICBQb2ludERhdGVGb3JTZWxlY3Rpb246IG5ldyBEYXRlKCkudG9TdHJpbmcoKVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiAnI2Nhc2UtZmFjdGRpZ2VzdHMtdGVtcGxhdGUnLFxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjaGFuZ2UgI3Nob3ctc2NoZSc6IGZ1bmN0aW9uIGNoYW5nZVNob3dTY2hlKGUpIHtcblxuICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5wcm9wKCdjaGVja2VkJykpIHRoaXMuc2hvd0NoaWxkVmlldygnc2NoZScsIG5ldyBTY2hlZHVsZVZpZXcoeyBtb2RlbDogbmV3IFNjaGVkdWxlTW9kZWwoKSB9KSk7ZWxzZSB0aGlzLmdldFJlZ2lvbignc2NoZScpLmVtcHR5KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnYmx1ciBpbnB1dCc6IGZ1bmN0aW9uIGJsdXJJbnB1dCgpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFJlZ2lvbignc2NoZScpLmhhc1ZpZXcoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdzY2hlJykubW9kZWw7XG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KCQuR2V0RGF0YSh0aGlzLiQoXCIuc2NoZS1jb250YWluZXJcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiLm5leHRcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5uZXh0XCIpLmZpbmQoXCJzcGFuLmxvYWRlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBzY2hlOiAnLnNjaGUtY29udGFpbmVyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gbmV3IGZhY3REaWdlc3RNb2RlbCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRbbmFtZT0nUG9pbnREYXRlRm9yU2VsZWN0aW9uJ11cIikuZWpEYXRlUGlja2VyKHtcbiAgICAgICAgICAgICAgICBsb2NhbGU6IFJlc291cmNlcy5MYW5nLFxuICAgICAgICAgICAgICAgIGJ1dHRvblRleHQ6IFJlc291cmNlcy5Ub2RheSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUodGhpcy5tb2RlbC5nZXQoJ1BvaW50RGF0ZUZvclNlbGVjdGlvbicpKS50b0xvY2FsZURhdGVTdHJpbmcoUmVzb3VyY2VzLkxhbmcpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHMgPSB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRbMF07XG4gICAgICAgICAgICBpZiAocykgdGhpcy4kKFwiI29iakZvckZhY3REaWdlc3RcIikuaHRtbChzLmdldChcImRpc3BsYXlfbmFtZVwiKSArICcmbmJzcDstJm5ic3A7PGk+JyArIHMuZ2V0KFwidHlwZW5hbWVcIikgKyAnPC9pPicpO2Vsc2UgdGhpcy50cmlnZ2VyTWV0aG9kKCdzaG93Om1lc3NhZ2UnLCBSZXNvdXJjZXMubm9zZWxlY3QpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUocikge1xuXG4gICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcIlwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgkLkdldERhdGEodGhpcy4kZWwpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVnaW9uKCdzY2hlJykuaGFzVmlldygpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdzY2hlJykubW9kZWw7XG4gICAgICAgICAgICAgICAgbS5zZXQoJC5HZXREYXRhKHRoaXMuJChcIi5zY2hlLWNvbnRhaW5lclwiKSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChtLnZhbGlkYXRpb25FcnJvciwgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcImlucHV0W25hbWU9J1wiICsgYSArIFwiJ11cIikuY3NzKFwiYm9yZGVyLWNvbG9yXCIsIFwicmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KFwiU2NoZWR1bGluZ1Rhc2tUeXBlXCIsIDIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnU2NoZWR1bGluZ1Rhc2tEYXRhJywgbS50b0pTT04oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByLiRlbC5hZGRDbGFzcyhcImRpc2FibGVkXCIpLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLWxvYWRlcicpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgICAgICB1cmw6IFwiL2FwaS9leHBvcnQvZ2VuZmFjdGRpZ2VzdC9cIiArIHRoaXMub3B0aW9ucy5zZWxlY3RlZFswXS5pZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aGlzLm1vZGVsLnRvSlNPTigpKVxuXG4gICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgICAgICAgICAgICAgci4kZWwucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKS5yZW1vdmVBdHRyKCdkYXRhLWljb24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3Nob3c6bWVzc2FnZScsIHJlc3VsdCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn0pO1xuXG5kZWZpbmUoJ2RvY2RpZ2VzdCcsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdzY2hlZHVsZScsICdnL3RyZWUnLCAnYy9zZWFyY2hQYW5lbCcsICdnbG9iYWwudmlldy5kaWFsb2cnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgU2NoZWR1bGVWaWV3LCB0cmVlVmlldywgc2VhcmNoUGFuZWwsIGRpYWxvZykge1xuXG4gICAgdmFyIGRvY0RpZ2VzdE1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgVGl0bGVUb3A6ICcnLFxuICAgICAgICAgICAgVGl0bGVNaWRkbGU6ICcnLFxuICAgICAgICAgICAgVGl0bGVCb3R0b206ICcnLFxuICAgICAgICAgICAgU2VsZWN0ZWRPYmplY3RzRm9yS2V5UGhyYXNlczogW10sXG4gICAgICAgICAgICBTb3VyY2VzOiBbXVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiAnI2Nhc2UtZG9jZGlnZXN0LXRlbXBsYXRlJyxcblxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIHJlcTogJyNzZWwtcmVxdWVzdCcsXG4gICAgICAgICAgICBrZXlzOiAnLnNlbGVjdGVkLWtleS1vYmonXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgc2NoZTogJy5zY2hlLWNvbnRhaW5lcicsXG4gICAgICAgICAgICBzZDogJyNjaG9vc2UtZGlhbG9nJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubW9kZWwgPSBuZXcgZG9jRGlnZXN0TW9kZWwoeyBTb3VyY2VzOiB0aGlzLmNvbGxlY3Rpb24ucGx1Y2soJ29iamVjdF9pZCcpIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgLy92YXIgcyA9IHRoaXMub3B0aW9ucy5zZWxlY3RlZDtcbiAgICAgICAgICAgIC8vaWYgKHMubGVuZ3RoKVxuICAgICAgICAgICAgLy8gICAgdGhpcy4kKFwiLnNvdXJjZXMtZnJvbS1iYXNrZXRcIikuaHRtbChzLnBsdWNrKFwiZGlzcGxheV9uYW1lXCIpLmpvaW4oJywnKSk7XG4gICAgICAgICAgICAvL2Vsc2VcbiAgICAgICAgICAgIC8vICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnc2hvdzptZXNzYWdlJywgUmVzb3VyY2VzLm5vc2VsZWN0KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICAnY2hhbmdlICNzaG93LXNjaGUnOiBmdW5jdGlvbiBjaGFuZ2VTaG93U2NoZShlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoZS50YXJnZXQpLnByb3AoJ2NoZWNrZWQnKSkgdGhpcy5zaG93Q2hpbGRWaWV3KCdzY2hlJywgbmV3IFNjaGVkdWxlVmlldyh7IG1vZGVsOiBuZXcgU2NoZWR1bGVNb2RlbCgpIH0pKTtlbHNlIHRoaXMuZ2V0UmVnaW9uKCdzY2hlJykuZW1wdHkoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayBpbnB1dFt2YWx1ZT1hXSc6IGZ1bmN0aW9uIGNsaWNrSW5wdXRWYWx1ZUEoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ1NvdXJjZXMnLCB0aGlzLmNvbGxlY3Rpb24ucGx1Y2soJ2lkJykpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkucmVxLmh0bWwoJycpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy9ieSByZXF1ZXN0XG4gICAgICAgICAgICAnY2xpY2sgaW5wdXRbdmFsdWU9Yl0nOiBmdW5jdGlvbiBjbGlja0lucHV0VmFsdWVCKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSZXNvdXJjZXMuc2VsZWN0UmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB0b29sczogW10sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyB0cmVlVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCksIG5vZGU6IHsgY2hlY2tib3g6IGZhbHNlIH0gfSksXG4gICAgICAgICAgICAgICAgICAgIHppbmRleDogMTAwMFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBkaWFsb2dPcHRpb25zLmNvbnRlbnQuY29sbGVjdGlvbi51cmwgPSAnL2FwaS9yZXF1ZXN0JztcbiAgICAgICAgICAgICAgICBkaWFsb2dPcHRpb25zLmNvbnRlbnQuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ05vdGlmeScpLnJlcXVlc3QoJ29uY2U6ZGlhbG9nJywgZGlhbG9nT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlblRvKGRpYWxvZywgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbScsIGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kZWwuZ2V0KCdpc2RvYycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnU291cmNlcycsIFt2Lm1vZGVsLmlkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLnJlcS5odG1sKCcgLSBbIDxiPicgKyB2Lm1vZGVsLmdldCgndGl0bGUnKSArICc8L2I+IF0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy4kZWwuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdibHVyIGlucHV0JzogZnVuY3Rpb24gYmx1cklucHV0KCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVnaW9uKCdzY2hlJykuaGFzVmlldygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gdGhpcy5nZXRDaGlsZFZpZXcoJ3NjaGUnKS5tb2RlbDtcbiAgICAgICAgICAgICAgICAgICAgbS5zZXQoJC5HZXREYXRhKHRoaXMuJChcIi5zY2hlLWNvbnRhaW5lclwiKSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcImlucHV0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYm9yZGVyLWNvbG9yXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIubmV4dFwiKS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiLm5leHRcIikuZmluZChcInNwYW4ubG9hZGVyXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIC5jaG9vc2UnOiBmdW5jdGlvbiBjbGlja0Nob29zZSgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2dPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmVzb3VyY2VzLnNlbGVjdGluZ09iaixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJhcjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnc2VhcmNoT2JqJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZy1mb3JtLS1pbnB1dCBpbnB1dC1kYXRhXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlYXJjaC1uYW1lXCIgdmFsdWU9XCJcIiBjbGFzcz1cImctZm9ybS0taW5wdXRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGtleXdvcmRcIi8+PGkgY2xhc3M9XCJzZWFyY2ggcnRsLTFcIiBuYW1lPVwic2VhcmNoXCI+PC9pPjwvc3Bhbj4nXG4gICAgICAgICAgICAgICAgICAgIH0sIHsgaWQ6ICdmaWx0ZXJCeVR5cGUnLCBjbGFzc05hbWU6ICdmaWx0ZXInIH1dKSxcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbeyBpZDogJ3NhdmUnLCB0aXRsZTogUmVzb3VyY2VzLnNhdmUsIGNsYXNzTmFtZTogJ3JpZ2h0IGJsdWUnIH1dKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3IHNlYXJjaFBhbmVsKHsgcmlnOiB0aGlzLm9wdGlvbnMucmlkLCBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpIH0pLFxuICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDEwMDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy9sZXQgZGlhbG9nID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnTm90aWZ5JykucmVxdWVzdCgnb25jZTpkaWFsb2cnLCBkaWFsb2dPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnc2QnLCBuZXcgZGlhbG9nKGRpYWxvZ09wdGlvbnMpKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oZGlhbG9nLCAnZm9vdGVyOmJ1dHRvbjpjbGljaycsIGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kZWwuaWQgPT09ICdzYXZlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBkaWFsb2dPcHRpb25zLnZpZXcuY29sbGVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdTZWxlY3RlZE9iamVjdHNGb3JLZXlQaHJhc2VzJywgYy5wbHVjaygnaWQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5rZXlzLmh0bWwoYy5wbHVjaygndGl0bGUnKS5qb2luKCc7ICcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnVpLmtleXMuaHRtbChSZXNvdXJjZXMubm9zZWxlY3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShyKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJChcImlucHV0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKFwiYm9yZGVyLWNvbG9yXCIsIFwiXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCQuR2V0RGF0YSh0aGlzLiRlbCkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRSZWdpb24oJ3NjaGUnKS5oYXNWaWV3KCkpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtID0gdGhpcy5nZXRDaGlsZFZpZXcoJ3NjaGUnKS5tb2RlbDtcbiAgICAgICAgICAgICAgICBtLnNldCgkLkdldERhdGEodGhpcy4kKFwiLnNjaGUtY29udGFpbmVyXCIpKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20obS52YWxpZGF0aW9uRXJyb3IsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFtuYW1lPSdcIiArIGEgKyBcIiddXCIpLmNzcyhcImJvcmRlci1jb2xvclwiLCBcInJlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KFwiU2NoZWR1bGluZ1Rhc2tUeXBlXCIsIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnU2NoZWR1bGluZ1Rhc2tEYXRhJywgbS50b0pTT04oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZWwuZ2V0KCdTb3VyY2VzJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwic2hvdzptZXNzYWdlXCIsIFJlc291cmNlcy53YXJuaW5nICsgJzogPGJyLz48c21hbGw+JyArIFJlc291cmNlcy5ub3RzZWxlY3RlZCArIFwiIFwiICsgUmVzb3VyY2VzLnNvdXJjZS50b0xvd2VyQ2FzZSgpICsgJzwvc21hbGw+Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHIuJGVsLmFkZENsYXNzKFwiZGlzYWJsZWRcIikuYXR0cignZGF0YS1pY29uJywgJ2ljb24tbG9hZGVyJyk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG5cbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICAgICAgICAgICAgdXJsOiBcIi9hcGkvZXhwb3J0L2dlbmRvY3NkaWdlc3RcIixcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aGlzLm1vZGVsLnRvSlNPTigpKVxuXG4gICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgICAgICAgICAgICAgci4kZWwucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKS5yZW1vdmVBdHRyKCdkYXRhLWljb24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3Nob3c6bWVzc2FnZScsIHJlc3VsdC5zdGF0dXMgPT09IDUwMCA/IFJlc291cmNlcy53YXJuaW5nICsgJzogPGJyLz48c21hbGw+JyArIHJlc3VsdC5zdGF0dXNUZXh0ICsgJzwvc21hbGw+JyA6IHJlc3VsdCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZGVmaW5lKCdzY2hldGFza3MnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnc2NoZWR1bGUnLCAnYy9TaW1wbGVUYWJsZVZpZXcnLCAnZmFjdGRpZ2VzdCcsICdkb2NkaWdlc3QnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgU2NoZWR1bGVWaWV3LCB0YWJsZVZpZXcsIGZhY3REaWdlc3RWaWV3LCBkb2NEaWdlc3RWaWV3KSB7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiAnI2Nhc2Utc2NoZWR1bGVzLXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIGxpc3Q6ICcubGlzdC10YXNrcycsXG4gICAgICAgICAgICBzY2hlZHVsZTogJy5pdGVtLXNjaGUnLFxuICAgICAgICAgICAgZGlnZXN0OiAnLml0ZW0tZGlnZXN0J1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChtKSB7XG5cbiAgICAgICAgICAgICQuZ2V0KCcvYXBpL2F1dG9leGVjc2NoZWR1bGluZy9pdGVtcy8nICsgbS5pZCArICcvZXhlY3V0ZScpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcInNob3c6bWVzc2FnZVwiLCBSZXNvdXJjZXMuc3VjY2Vzcyk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcihtb2RlbCkge1xuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJzaG93Om1lc3NhZ2U6Y29uZmlybVwiLCB7XG4gICAgICAgICAgICAgICAgdGV4dDogUmVzb3VyY2VzLmFza3lvdXN1cmUgKyAnPGJyLz48c21hbGw+JyArICQuRm9ybWF0KFJlc291cmNlcy5kZWx0ZXh0LCBSZXNvdXJjZXMuc2NoZVRhc2tzLCBtb2RlbC5nZXQoXCJUaXRsZVwiKSkgKyBcIjwvc21hbGw+XCIsXG4gICAgICAgICAgICAgICAgZng6IGZ1bmN0aW9uIGZ4KCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kZXN0cm95KHsgd2FpdDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGN0eDogdGhpc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUobSkge1xuXG4gICAgICAgICAgICB2YXIgdXJsID0gbS5jb2xsZWN0aW9uLnVybCArICcvJyArIG0uaWQgKyAnL2FjdGl2YXRlJztcbiAgICAgICAgICAgIG0uc2V0KCdTdGF0ZScsIDEpO1xuICAgICAgICAgICAgJC5hamF4KHsgbWV0aG9kOiAnUFVUJywgdXJsOiB1cmwsIGRhdGE6ICQucGFyYW0oeyBTdGF0ZTogMSB9KSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKG0pIHtcblxuICAgICAgICAgICAgdmFyIHVybCA9IG0uY29sbGVjdGlvbi51cmwgKyAnLycgKyBtLmlkICsgJy9kZWFjdGl2YXRlJztcbiAgICAgICAgICAgIG0uc2V0KCdTdGF0ZScsIDApO1xuICAgICAgICAgICAgJC5hamF4KHsgbWV0aG9kOiAnUFVUJywgdXJsOiB1cmwsIGRhdGE6ICQucGFyYW0oeyBTdGF0ZTogMCB9KSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaWdlc3Q6IGZ1bmN0aW9uIGRpZ2VzdChtb2RlbCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJlbnQgIT09IG1vZGVsLmlkKSB0aGlzLmdldFJlZ2lvbignc2NoZWR1bGUnKS5lbXB0eSgpO1xuXG4gICAgICAgICAgICBpZiAobW9kZWwuZ2V0KFwiU2NoZWR1bGluZ1Rhc2tUeXBlXCIpID09PSAxKSB0aGlzLnNob3dDaGlsZFZpZXcoJ2RpZ2VzdCcsIG5ldyBkb2NEaWdlc3RWaWV3KHsgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbChKU09OLnBhcnNlKG1vZGVsLmdldCgnRGF0YScpKSksIGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiB9KSk7ZWxzZSB0aGlzLnNob3dDaGlsZFZpZXcoJ2RpZ2VzdCcsIG5ldyBmYWN0RGlnZXN0Vmlldyh7IG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoSlNPTi5wYXJzZShtb2RlbC5nZXQoJ0RhdGEnKSkpLCBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNjaGVkdWxlOiBmdW5jdGlvbiBzY2hlZHVsZShtb2RlbCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJlbnQgIT09IG1vZGVsLmlkKSB0aGlzLmdldFJlZ2lvbignZGlnZXN0JykuZW1wdHkoKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdzY2hlZHVsZScsIG5ldyBTY2hlZHVsZVZpZXcoeyBtb2RlbDogbW9kZWwgfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3VGFibGVSb3dDbWQ6IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3VGFibGVSb3dDbWQocikge1xuICAgICAgICAgICAgdmFyICRlID0gJChldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgdGhpc1skZS5hdHRyKCdkYXRhLWNtZCcpXS5jYWxsKHRoaXMsIHIubW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5jdXJlbnQgPSByLm1vZGVsLmlkO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgc2NoZWR1bGVDb2xsZWN0aW9uKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB2YXIgaGVhZCA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFt7IGlkOiAwLCB0aXRsZTogJycgfSwgeyBpZDogMSwgdGl0bGU6IFJlc291cmNlcy50aXRsZSwgd2lkdGg6ICczMCUnIH0sIHsgaWQ6IDIsIHRpdGxlOiBSZXNvdXJjZXMudHlwZSB9LCB7IGlkOiAzLCB0aXRsZTogUmVzb3VyY2VzLnNlbmQgfSwgeyBpZDogNCwgdGl0bGU6IFJlc291cmNlcy50b3NlbmQgfSwgeyBpZDogNSwgdGl0bGU6IFJlc291cmNlcy5zdGF0dXMgfSwgeyBpZDogNywgdGl0bGU6ICcnIH1dKSxcbiAgICAgICAgICAgICAgICByb3dUZW1wbGF0ZSA9ICc8dGQ+PHNwYW4gZGF0YS1jbWQ9XCJzdGFydFwiIGRhdGEtaWNvbj1cImljb24tbmV4dFwiIHRpdGxlPVwiPCU9IFJlc291cmNlcy5ydW4gJT5cIj48L3NwYW4+PC90ZD48dGQ+PHNwYW4gY2xhc3M9XCJsaW5rXCIgZGF0YS1jbWQ9XCJkaWdlc3RcIj48JT0gVGl0bGUgJT48L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gZGF0YS1pY29uPVwiaWNvbi1jbG9ja1wiIGRhdGEtY21kPVwic2NoZWR1bGVcIj48L3NwYW4+PC90ZD48dGQ+PCU9IFNjaGVkdWxpbmdUYXNrVHlwZT09MT9SZXNvdXJjZXMudHlwZVRhc2sxOlJlc291cmNlcy50eXBlVGFzazIgJT48L3RkPjx0ZD48JT0gTGFzdFN0YXJ0RGF0ZVRpbWU/bmV3IERhdGUoTGFzdFN0YXJ0RGF0ZVRpbWUpLnRvTG9jYWxlU3RyaW5nKCk6XCJcIiAlPjwvdGQ+PHRkPjwlPSBOZXh0U3RhcnREYXRlVGltZT9uZXcgRGF0ZShOZXh0U3RhcnREYXRlVGltZSkudG9Mb2NhbGVTdHJpbmcoKTpcIlwiICU+PC90ZD48dGQ+PCU9IFN0YXRlP1Jlc291cmNlcy5zdGF0ZTE6UmVzb3VyY2VzLnN0YXRlMiAlPiZuYnNwOzwlIGlmKFN0YXRlKXsgJT48c3BhbiBkYXRhLWljb249XCJpY29uLXN0YXR1cy0tZ3JlZW5cIiBkYXRhLWNtZD1cImRpc2FibGVcIiB0aXRsZT1cIjwlPSBSZXNvdXJjZXMudG9zdGF0ZTEgJT5cIj48L3NwYW4+PCUgfSBlbHNlIHsgJT48c3BhbiBkYXRhLWljb249XCJpY29uLXN0YXR1cy0tZ3JleVwiIGRhdGEtY21kPVwiZW5hYmxlXCIgdGl0bGU9XCI8JT0gUmVzb3VyY2VzLnRvc3RhdGUyICU+XCI+PC9zcGFuPjwlIH0gJT48L3RkPjx0ZD48c3BhbiBkYXRhLWNtZD1cImNsZWFyXCIgZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiPjwvc3Bhbj48L3RkPic7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbGlzdCcsIG5ldyB0YWJsZVZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24sIHJvd1RlbXBsYXRlOiByb3dUZW1wbGF0ZSwgaGVhZDogaGVhZCB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuZGVmaW5lKCdjL0Jhc2tldFZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnZ2xvYmFsLm1vZGVsLmRpYWxvZycsICdnbG9iYWwudmlldy5kaWFsb2cnLCAnZ2xvYmFsLmdyaWQuZGF0YUl0ZW1zVmlldyddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBkaWFsb2dNb2RlbCwgZGlhbG9nLCB0YWJsZVZpZXcpIHtcblxuICAgIHJldHVybiBkaWFsb2cuZXh0ZW5kKHtcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcImJhc2tldDphZGRcIiwgdGhpcy5hZGQsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnVybCA9IFwiL2FwaS9DYXJ0L1wiO1xuXG4gICAgICAgICAgICB0aGlzLm1vZGVsID0gbmV3IGRpYWxvZ01vZGVsKHtcbiAgICAgICAgICAgICAgICBzaXplOiAnZnVsbCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdpY29uLWNhc2UnLFxuICAgICAgICAgICAgICAgICAgICBtYW5hZ2U6IFt7IGlkOiAnY2xvc2UnIH1dXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhdXRvT3BlbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5iYXNrZXQsXG5cbiAgICAgICAgICAgICAgICB0b29sYmFyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbeyBpZDogXCJleHBvcnRcIiwgY2xhc3NOYW1lOiBcImV4cG9ydFwiLCB0aXRsZTogUmVzb3VyY2VzLmV4cG9ydCB9LCB7IGlkOiBcImltcG9ydFwiLCBjbGFzc05hbWU6IFwiaW1wb3J0XCIsIHRpdGxlOiBSZXNvdXJjZXMuaW1wb3J0IH0sIHsgaWQ6IFwiZmFjdGRpZ2VzdFwiLCBjbGFzc05hbWU6IFwiZmFjdFwiLCB0aXRsZTogUmVzb3VyY2VzLndpemFyZGRpZ2VzdCArICcgOiAnICsgUmVzb3VyY2VzLmZhY3REaWdlc3QgfSwgeyBpZDogXCJkb2NkaWdlc3RcIiwgY2xhc3NOYW1lOiBcImRvY1wiLCB0aXRsZTogUmVzb3VyY2VzLndpemFyZGRpZ2VzdCArICcgOiAnICsgUmVzb3VyY2VzLmRvY0RpZ2VzdCB9LCB7IGlkOiBcInNjaGV0YXNrc1wiLCBjbGFzc05hbWU6IFwidGFza1wiLCB0aXRsZTogUmVzb3VyY2VzLnNjaGVUYXNrcyB9LCB7IGlkOiBcImNsZWFyXCIsIGNsYXNzTmFtZTogXCJjbGVhclwiLCB0aXRsZTogUmVzb3VyY2VzLmNsZWFyU2VsZWN0ZWQgfSwgeyBpZDogXCJlcmFzZVwiLCBjbGFzc05hbWU6IFwiZXJhc2UgcmlnaHRcIiwgdGl0bGU6IFJlc291cmNlcy5jbGVhckJhc2tldCB9XSksXG5cbiAgICAgICAgICAgICAgICBjb250ZW50OiBuZXcgdGFibGVWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uLCBoaWRlQnV0dG9uOiB0cnVlIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkJlZm9yZVJlbmRlcjogZnVuY3Rpb24gb25CZWZvcmVSZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3QWZ0ZXJMb2FkOiBmdW5jdGlvbiBvbkNoaWxkdmlld0FmdGVyTG9hZChuKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgndGl0bGUnLCBSZXNvdXJjZXMuYmFza2V0ICsgJyAoJyArIG4gKyAnKScpO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCd1cGRhdGU6Y2FzZScsIG4pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3VG9vbGJhckl0ZW1DbGljazogZnVuY3Rpb24gb25DaGlsZHZpZXdUb29sYmFySXRlbUNsaWNrKHIpIHtcblxuICAgICAgICAgICAgdmFyIGFjdCA9IHIubW9kZWwuaWQsXG4gICAgICAgICAgICAgICAgdGFibGUgPSB0aGlzLmdldENoaWxkVmlldygnY29udGVudCcpLmdldENoaWxkVmlldygndGFibGUnKTtcblxuICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbih0aGlzW2FjdF0pKSB0aGlzW2FjdF0oKTtlbHNlIGlmICghdGFibGUubW9kZWxzU2VsZWN0ZWQgJiYgKGFjdCA9PT0gJ2V4cG9ydCcgfHwgYWN0ID09PSAnZmFjdGRpZ2VzdCcpKSB0aGlzLmdldENoaWxkVmlldygnbm90aWZ5Jykuc2hvd05vdGlmeShSZXNvdXJjZXMuc2VsZWN0b2JqKTtlbHNlIHJlcXVpcmUoW2FjdF0sIGZ1bmN0aW9uIChjbWQpIHtcblxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2dWaWV3ID0gbmV3IGRpYWxvZyh7XG5cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHIubW9kZWwuZ2V0KCd0aXRsZScpLFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyBjbWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogdGFibGUuZ2V0Q2hpbGRWaWV3KFwiYm9keVwiKS5jb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHRhYmxlLm1vZGVsc1NlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCksXG5cbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbeyB0aXRsZTogUmVzb3VyY2VzLm5leHQsIGlkOiAnc2F2ZScsIGNsYXNzTmFtZTogJ3JpZ2h0IG5leHQnIH1dKVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVnaW9uKCdhY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLmNvbnRlbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWN0aW9uLWNvbnRhaW5lclwiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJlZ2lvbignYWN0aW9uJywgJy5hY3Rpb24tY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdhY3Rpb24nLCBkaWFsb2dWaWV3KTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdGb290ZXJCdXR0b25DbGljazogZnVuY3Rpb24gb25DaGlsZHZpZXdGb290ZXJCdXR0b25DbGljayhyKSB7XG5cbiAgICAgICAgICAgIHZhciBhID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2FjdGlvbicpLm1vZGVsLmdldCgnY29udGVudCcpO1xuXG4gICAgICAgICAgICB2YXIgZnggPSBhW3IubW9kZWwuaWRdO1xuICAgICAgICAgICAgaWYgKGZ4ICYmIHR5cGVvZiBmeCA9PT0gJ2Z1bmN0aW9uJykgZnguY2FsbChhLCByKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlcmFzZTogZnVuY3Rpb24gZXJhc2UoKSB7XG5cbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2NvbnRlbnQnKS5nZXRDaGlsZFZpZXcoJ3RhYmxlJykuZ2V0Q2hpbGRWaWV3KCdib2R5JykuY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICBub3RpZnkgPSB0aGlzLmdldENoaWxkVmlldygnbm90aWZ5Jyk7XG5cbiAgICAgICAgICAgIGlmIChjLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG5vdGlmeS5zaG93Q29uZmlybShSZXNvdXJjZXMuc3VyZSArICc8YnIvPjxzbWFsbD4nICsgUmVzb3VyY2VzLmNsZWFyYWxsICsgJz88L3NtYWxsPicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSZWdpb24oJ2FjdGlvbicpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgICQuZ2V0KCcvYXBpL0NhcnQvQ2xlYXIvMCcpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmZldGNoKHsgcmVzZXQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5LnNob3dOb3RpZnkoUmVzb3VyY2VzLnNlbGVjdG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdjb250ZW50JykuZ2V0Q2hpbGRWaWV3KCd0YWJsZScpLm1vZGVsc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgIG5vdGlmeSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdub3RpZnknKTtcblxuICAgICAgICAgICAgaWYgKGMgJiYgYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBub3RpZnkuc2hvd0NvbmZpcm0oUmVzb3VyY2VzLnN1cmUgKyAnPGJyLz48c21hbGw+JyArIFJlc291cmNlcy5jb25maXJtT2JqRGVsZXRlLnJlcGxhY2UoJ3swfScsIGMubGVuZ3RoKSArICc8L3NtYWxsPicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSZWdpb24oJ2FjdGlvbicpLmVtcHR5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkcyA9IF8ubWFwKGMsIGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIiwgdXJsOiBcIi9hcGkvQ2FydFwiLCBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IElEczogaWRzIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmZldGNoKHsgcmVzZXQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5LnNob3dOb3RpZnkoUmVzb3VyY2VzLnNlbGVjdG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQobGlzdElEcykge1xuXG4gICAgICAgICAgICB2YXIgY28gPSB0aGlzLmdldENoaWxkVmlldygnY29udGVudCcpLmdldENoaWxkVmlldygndGFibGUnKS5nZXRDaGlsZFZpZXcoJ2JvZHknKS5jb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGlkcyA9IF8uZmlsdGVyKGxpc3RJRHMsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFjby5nZXQoYS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH0sIHRoaXMpLFxuICAgICAgICAgICAgICAgIG0gPSBuZXcgQmFja2JvbmUuTW9kZWwoeyBpZDogbnVsbCwgSURzOiBbXSB9KTtcblxuICAgICAgICAgICAgbS51cmwgPSBcIi9hcGkvQ2FydFwiO1xuICAgICAgICAgICAgaWYgKGlkcy5sZW5ndGgpIG0uc2F2ZSh7IElEczogaWRzIH0sIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vQmFja2JvbmUudHJpZ2dlcihcIm1lc3NhZ2U6c3VjY2Vzc1wiLCB7IHRpdGxlOiBSZXNvdXJjZXMuYWRkZWQsIG1lc3NhZ2U6IFJlc291cmNlcy5vYmplY3RzICsgXCI6IFwiICsgaWRzLmxlbmd0aCB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmZldGNoKHsgcmVzZXQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnTWVzc2FnZVZpZXcnLCBbJ2FwcCcsICdpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChBcHAsIFJlc291cmNlcykge1xuXG4gICAgdmFyIHRlbXBsYXRlTW9kYWxNZXNzYWdlID0gJzxkaXYgY2xhc3M9XCJtZXNzYWdlXCI+PCUgaWYoY2FuY2VsQnRuKSB7ICU+PHNwYW4gY2xhc3M9XCJkcm9wZG93bi1tZW51X2Nsb3NlXCI+PHN2ZyBjbGFzcz1cImljb24gaWNvbi1jbG9zZVwiPjx1c2UgeGxpbms6IGhyZWY9XCIjaWNvbi1jbG9zZVwiPjwvdXNlPjwvc3ZnPjwvc3Bhbj48JSB9ICU+PGI+PCU9IHRpdGxlICU+PC9iPjxwIGNsYXNzPVwibWVzc2FnZS10ZXh0XCI+PCU9IG1lc3NhZ2UgJT48L3A+PGRpdiBjbGFzcz1cInNrLWN1YmUtZ3JpZFwiPjxkaXYgY2xhc3M9XCJzay1jdWJlIHNrLWN1YmUxXCI+PC9kaXY+PGRpdiBjbGFzcz1cInNrLWN1YmUgc2stY3ViZTJcIj48L2Rpdj48ZGl2IGNsYXNzPVwic2stY3ViZSBzay1jdWJlM1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJzay1jdWJlIHNrLWN1YmU0XCI+PC9kaXY+PGRpdiBjbGFzcyA9XCJzay1jdWJlIHNrLWN1YmU1XCI+PC9kaXY+PGRpdiBjbGFzcz1cInNrLWN1YmUgc2stY3ViZTZcIj48L2Rpdj48ZGl2IGNsYXNzID1cInNrLWN1YmUgc2stY3ViZTdcIj48L2Rpdj48ZGl2IGNsYXNzPVwic2stY3ViZSBzay1jdWJlOFwiPjwvZGl2PjxkaXYgY2xhc3MgPVwic2stY3ViZSBzay1jdWJlOVwiPjwvZGl2PjwvZGl2PjwvZGl2PicsXG4gICAgICAgIHRlbXBsYXRlQ29uZmlybSA9ICc8ZGl2IGNsYXNzPVwibWVzc2FnZVwiPjxzcGFuIGNsYXNzPVwiZHJvcGRvd24tbWVudV9jbG9zZVwiPjxzdmcgY2xhc3M9XCJpY29uIGljb24tY2xvc2VcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1jbG9zZVwiPjwvdXNlPjwvc3ZnPjwvc3Bhbj48Yj48JT0gdGl0bGUgJT48L2I+PGRpdiBjbGFzcz1cIm1lc3NhZ2UtdGV4dFwiPjwlPSBtZXNzYWdlICU+PC9kaXY+PGRpdj48YnV0dG9uIGNsYXNzPVwiYnRuLWV4ZWNcIj48JT0gdGV4dEJ0bkV4ZWMgJT48L2J1dHRvbj4mbmJzcDs8YnV0dG9uIGNsYXNzPVwiYnRuLWNhbmNlbFwiPjwlPSBSZXNvdXJjZXMuY2FuY2VsICU+PC9idXR0b24+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgdGVtcGxhdGVJbmZvID0gJzxiPjwlPSB0aXRsZSAlPjwvYj48ZGl2PjwlPSBtZXNzYWdlICU+PC9kaXY+JztcblxuICAgIHZhciBjbGVhciA9IFtcIjg2MDU2NTM0LTBEQ0ItNDhDRi1CMDZELTNFOEQyM0ZENTAwMVwiXTtcblxuICAgIHZhciBtID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGVsOiAkKFwiI21lc3NhZ2UtYXJlYVwiKSxcblxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIFwiY2xpY2sgLmljb24tY2xvc2VcIjogXCJjbG9zZVwiLFxuICAgICAgICAgICAgXCJjbGljayAuYnRuLWV4ZWNcIjogXCJfZXhlY0NvbmZpcm1cIixcbiAgICAgICAgICAgIFwiY2xpY2sgLmJ0bi1jYW5jZWxcIjogXCJjbG9zZVwiXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIEJhY2tib25lLm9uKFwibWVzc2FnZTpoaWRlXCIsIHRoaXMuaGlkZSwgdGhpcyk7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcIm1lc3NhZ2U6bW9kYWxcIiwgdGhpcy5tb2RhbCwgdGhpcyk7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcIm1lc3NhZ2U6d2FybmluZ1wiLCB0aGlzLndhcm5pbmcsIHRoaXMpO1xuICAgICAgICAgICAgQmFja2JvbmUub24oXCJtZXNzYWdlOnN1Y2Nlc3NcIiwgdGhpcy5zdWNjZXNzLCB0aGlzKTtcbiAgICAgICAgICAgIEJhY2tib25lLm9uKFwibWVzc2FnZTpleGVjXCIsIHRoaXMuZXhlYywgdGhpcyk7XG4gICAgICAgICAgICBCYWNrYm9uZS5vbihcIm1lc3NhZ2U6Y29uZmlybVwiLCB0aGlzLmNvbmZpcm0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCgnPGRpdiBpZD1cImluZm9cIj48L2Rpdj48ZGl2IGlkPVwic2hvXCI+PGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPjwvZGl2PjwvZGl2PicpO1xuXG4gICAgICAgICAgICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjaW5mb1wiKS5oaWRlKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgICAgICB0aGlzLiQoXCIjc2hvXCIpLmhpZGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBleGVjOiBmdW5jdGlvbiBleGVjKG8pIHtcbiAgICAgICAgICAgIC8vaWYgKEFwcC5jaGVjayhvLnNpZCkpIHtcbiAgICAgICAgICAgIGlmIChjbGVhci5pbmRleE9mKG8uc2lkKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFJlc291cmNlcy5jb25maXJtT2JqRGVsZXRlLnJlcGxhY2UoXCJ7MH1cIiwgby5hbW91bnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybSh7IHRpdGxlOiBSZXNvdXJjZXMud2FybmluZywgbWVzc2FnZTogbWVzc2FnZSwgZng6IG8uZngsIGN0eDogby5jdHggfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvLmZ4LmNhbGwoby5jdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHRoaXMuc3VjY2Vzcyh7IHRpdGxlOiByZXN1bHQudGl0bGUsIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy99IGVsc2VcbiAgICAgICAgICAgIC8vICAgIHRoaXMuc2hvdyhcIndhcm5pbmdcIiwgeyB0aXRsZTogUmVzb3VyY2VzLmZpYXNjbyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3cobW9kZSwgbykge1xuICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1vZGFsXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghby5jYW5jZWxCdG4pIG8uY2FuY2VsQnRuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5jb250YWluZXJcIikuaHRtbChfLnRlbXBsYXRlKHRlbXBsYXRlTW9kYWxNZXNzYWdlKShvKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIiNzaG9cIikucmVtb3ZlQ2xhc3MoXCJub2JnXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIjc2hvXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbmZpcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtKG8pO2JyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdWNjZXNzXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2VzcyhvKTticmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwid2FybmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhcm5pbmcobyk7YnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBtb2RhbDogZnVuY3Rpb24gbW9kYWwobykge1xuICAgICAgICAgICAgaWYgKCFvKSBvID0geyB0aXRsZTogUmVzb3VyY2VzLndhaXQyLCBtZXNzYWdlOiBSZXNvdXJjZXMubWVzc2FnZSB9O1xuICAgICAgICAgICAgdGhpcy5zaG93KFwibW9kYWxcIiwgbyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgd2FybmluZzogZnVuY3Rpb24gd2FybmluZyhvKSB7XG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3Mobyk7XG4gICAgICAgICAgICB0aGlzLiQoXCIjaW5mbyBiXCIpLmFkZENsYXNzKFwic3RhdGUtZXJyb3JcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhvKSB7XG4gICAgICAgICAgICBpZiAoIW8udGl0bGUpIG8udGl0bGUgPSBSZXNvdXJjZXMuYWxlcnQ7XG4gICAgICAgICAgICB2YXIgZmxhZyA9IHRoaXMuc3RvcmFnZSAhPT0gby5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGZsYWcpIHRoaXMuc3RvcmFnZSA9IG8ubWVzc2FnZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJChcIiNpbmZvXCIpLmlzKFwiOmhpZGRlblwiKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGZsYWcpIHRoaXMuJChcIiNpbmZvXCIpLmh0bWwoXy50ZW1wbGF0ZSh0ZW1wbGF0ZUluZm8pKG8pKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNpbmZvXCIpLnNob3coXCJzbGlkZVwiLCB7IGRpcmVjdGlvbjogXCJyaWdodFwiIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNpbmZvXCIpLmRlbGF5KDcwMDApLmhpZGUoXCJzbGlkZVwiLCB7IGRpcmVjdGlvbjogXCJyaWdodFwiIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI2luZm9cIikuYXBwZW5kKF8udGVtcGxhdGUodGVtcGxhdGVJbmZvKShvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2V4ZWNDb25maXJtOiBmdW5jdGlvbiBfZXhlY0NvbmZpcm0oKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWNDb25maXJtLmNhbGwodGhpcy5jb250ZXh0Q29uZmlybSk7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb25maXJtOiBmdW5jdGlvbiBjb25maXJtKG8pIHtcblxuICAgICAgICAgICAgdmFyICRsID0gJChcImJvZHlcIikuY2hpbGRyZW4oKS5sYXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmluc2VydEFmdGVyKCRsKTtcblxuICAgICAgICAgICAgdGhpcy4kKFwiLmNvbnRhaW5lclwiKS5odG1sKF8udGVtcGxhdGUodGVtcGxhdGVDb25maXJtKSh7XG4gICAgICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXMsXG4gICAgICAgICAgICAgICAgdGl0bGU6IG8udGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogby5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHRleHRCdG5FeGVjOiBvLnRpdGxlRXhlYyB8fCBSZXNvdXJjZXMuZGVsZXRlSXRlbVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB0aGlzLiQoXCIjc2hvXCIpLmFkZENsYXNzKFwibm9iZ1wiKS5zaG93KCk7XG4gICAgICAgICAgICB0aGlzLmV4ZWNDb25maXJtID0gby5meDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dENvbmZpcm0gPSBvLmN0eDtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICB0aGlzLiQoXCIjc2hvXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgbSgpO1xufSk7XG5cbmRlZmluZSgnTW9kZUluZm9WaWV3JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2FjY2VzcyddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBhY2MpIHtcblxuICAgIHZhciBhY2Nlc3MgPSBhY2MuZGF0YS5Qb2ludHM7XG5cbiAgICAvL3RlbXJ0ZW1wbCA9IFwiPHNwYW4gY2xhc3M9J2Ryb3Bkb3duLW1lbnVfY2xvc2UnPjxzdmcgY2xhc3M9J2ljb24gaWNvbi1jbG9zZSBjbG9zZWQnPjx1c2UgeGxpbms6aHJlZj0nI2ljb24tY2xvc2UnPjwvdXNlPjwvc3ZnPjwvc3Bhbj48ZGl2IGNsYXNzPSdUZXh0JyBkYXRhLXNlYz0ndHJ1ZSc+PC9kaXY+PGRpdiBjbGFzcz0nTm9Nb3JlJz48YnV0dG9uIGNsYXNzPSdjbG9zZWQnPjwlPSBSZXNvdXJjZXMuY2xvc2VUZXh0ICU+PC9idXR0b24+PHA+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdOb01vcmUnIC8+Jm5ic3A7PGxhYmVsPjwlPSBSZXNvdXJjZXMubm9Nb3JlVmlldyAlPjwvbGFiZWw+PC9wPjwvZGl2PjxkaXYgY2xhc3M9J1dUJz48L2Rpdj5cIjtcblxuICAgIC8vdmFyIFRlcm1WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIC8vICAgIGVsOiAkKFwiI1Rlcm1zXCIpLFxuICAgIC8vICAgIGV2ZW50czoge1xuICAgIC8vICAgICAgICBcImNsaWNrIC5jbG9zZWRcIjogXCJjbG9zZVwiXG4gICAgLy8gICAgfSxcbiAgICAvLyAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAvLyAgICAgICAgaWYgKHRoaXMuJChcImlucHV0W25hbWU9J05vTW9yZSddXCIpLnByb3AoXCJjaGVja2VkXCIpKVxuICAgIC8vICAgICAgICAgICAgJC5jb29raWUoKHRoaXMub3B0aW9ucy5kYXRhaWQgKyBcIl9cIiArIHRoaXMudHMpLCBcIm5vbW9yZVwiLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgIC8vICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKFwiaW5mbzpoaWRlXCIpO1xuICAgIC8vICAgIH0sXG4gICAgLy8gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG8pIHtcbiAgICAvLyAgICAgICAgdGhpcy5vcHRpb25zID0gbztcbiAgICAvLyAgICAgICAgQmFja2JvbmUub24oXCJ3aW5kb3c6cmVzaXplZW5kXCIsXG4gICAgLy8gICAgICAgICAgICBmdW5jdGlvbiAoKSB7ICQoXCIjVGVybXNcIikuY3NzKHsgXCJoZWlnaHRcIjogJCh3aW5kb3cpLmhlaWdodCgpIC0gMjAwLCBcIndpZHRoXCI6ICQod2luZG93KS53aWR0aCgpIC0gNDAwIH0pLnBvc2l0aW9uKHsgb2Y6ICQod2luZG93KSB9KSB9LCB0aGlzKTtcbiAgICAvLyAgICB9LFxuICAgIC8vICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgIHRoaXMuJGVsLmh0bWwoXy50ZW1wbGF0ZSh0ZW1ydGVtcGwpKHsgUmVzb3VyY2VzOiBSZXNvdXJjZXMgfSkpO1xuICAgIC8vICAgICAgICB0aGlzLiQoXCIuVGV4dFwiKS5hdHRyKFwiZGF0YS1zZWNpZFwiLCB0aGlzLm9wdGlvbnMuZGF0YWlkKTtcbiAgICAvLyAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgLy8gICAgfVxuICAgIC8vfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiBmYWxzZSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7fVxuICAgIH0pO1xufSk7XG5cbmRlZmluZSgnZ2xvYmFsLnZpZXcuaGVhZGVyVmlldycsIFsnYWNjZXNzJywgJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnTWVzc2FnZVZpZXcnLCAnYy9BbGVydHNWaWV3JywgJ2MvRWRnZVZpZXcnLCAnYy9CYXNrZXRWaWV3JywgJ2dsb2JhbC5yYWRpby5kaWFsb2cnXSwgZnVuY3Rpb24gKGFjYywgUmVzb3VyY2VzLCBNZXNzYWdlVmlldywgQWxlcnRzQmFyLCBFZGdlVmlldywgQmFza2V0Vmlldykge1xuXG4gICAgdmFyIGRlbW9JbmZvID0gTW4uT2JqZWN0LmV4dGVuZCh7XG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24udXJsID0gJy9hcGkvY29tbW9uLzAvJyArIHRoaXMub3B0aW9ucy5ndWlkO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGVtcGxhdGU6IGZhbHNlLFxuXG4gICAgICAgIGVsOiBcImhlYWRlclwiLFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICBjYXNlYnRuOiAnLmNhc2UtYmxvY2snLFxuICAgICAgICAgICAgY2FzZW51bTogJy5iYWRnZScsXG4gICAgICAgICAgICBsb2dvOiAnLmxvZ28nLFxuICAgICAgICAgICAgaW5mbzogJy5pbmZvLWJsb2NrJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgICdlZGdlJzogeyBlbDogJyNlZGdlJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgICdhbGVydCc6IHsgZWw6ICcuYWxlcnQtYmxvY2snLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9LFxuICAgICAgICAgICAgJ2Nhc2UnOiAnI2Nhc2Utd2luZG93J1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICBcImNsaWNrICNJbmZvREJcIjogXCJzaG93XCIsXG4gICAgICAgICAgICBcImNsaWNrICNJbmZvVXNlclwiOiBcInNob3dcIixcblxuICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCI6IFwiaGlkZVwiLFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmNhc2VidG4nOiBmdW5jdGlvbiBjbGlja1VpQ2FzZWJ0bigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnY2FzZScpLiRlbC5zaG93KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmxvZ28nOiBmdW5jdGlvbiBjbGlja1VpTG9nbygpIHtcbiAgICAgICAgICAgICAgICBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKCcnLCB7IHRyaWdnZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmluZm8nOiBmdW5jdGlvbiBjbGlja1VpSW5mbygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dEZW1vSW5mbygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShvKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudGlkID0gXCJcIjtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnVpLmNhc2VidG4uZ2V0KDApKSB0aGlzLnNob3dDaGlsZFZpZXcoJ2Nhc2UnLCBuZXcgQmFza2V0VmlldygpKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdhbGVydCcsIG5ldyBBbGVydHNCYXIoKSk7XG5cbiAgICAgICAgICAgIC8vbmV3IE9ubGluZUVkaXRvclZpZXcoKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNEZW1vKSB0aGlzLnNob3dDaGlsZFZpZXcoJ2VkZ2UnLCBuZXcgRWRnZVZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihhY2MuZGF0YS5FZGdlcykgfSkpO2Vsc2UgdGhpcy51aS5jYXNlYnRuLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIGd1aWQgPSAnRkUxOTVFNEEtQ0FBRC00OTg3LUExRTgtMjc4OEYxNzk2Rjk1JztcbiAgICAgICAgICAgIHZhciBkZW1vID0gbmV3IGRlbW9JbmZvKHsgZ3VpZDogZ3VpZCB9KTtcblxuICAgICAgICAgICAgaWYgKGFjYy5kYXRhLlBvaW50cyAmJiBhY2MuZGF0YS5Qb2ludHMuaW5kZXhPZihndWlkKSAhPT0gLTEpIGRlbW8uY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgICAgICAgICAgcmVzZXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGMsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZW1vSW5mb0NvbnRlbnQgPSBvLmRhdGFbMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVtb1RzID0gby5kYXRhWzJdLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobyAmJiBwYXJzZUludChvLmRhdGFbMF0udmFsdWUpICYmICEkLmNvb2tpZShcIkRlbW9Nb2RlX1wiICsgdGhpcy5kZW1vVHMpICYmICQudHJpbSh0aGlzLmRlbW9JbmZvQ29udGVudCkpIHRoaXMuc2hvd0RlbW9JbmZvKCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93RGVtb0luZm86IGZ1bmN0aW9uIHNob3dEZW1vSW5mbygpIHtcblxuICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gXy50ZW1wbGF0ZSgnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIDwlIGlmKGNoZWNrZWQpeyAlPmNoZWNrZWQ9XCJjaGVja2VkXCI8JSB9ICU+IGNsYXNzPVwiZy1mb3JtLS1jaGVja2JveFwiIG5hbWU9XCJkb250c2hvd1wiIGlkPVwiaGlkZW1lbm93XCI+PGxhYmVsIGZvcj1cImhpZGVtZW5vd1wiPjwlLSBSZXNvdXJjZXMubm9Nb3JlVmlldyAlPjwvbGFiZWw+Jykoe1xuICAgICAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICQuY29va2llKFwiRGVtb01vZGVfXCIgKyB0aGlzLmRlbW9UcylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZGlhbG9nID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnTm90aWZ5JykucmVxdWVzdCgnb25jZTpkaWFsb2cnLCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5pbmZvcm1hdGlvbixcbiAgICAgICAgICAgICAgICBjb250ZW50OiAkLnRyaW0odGhpcy5kZW1vSW5mb0NvbnRlbnQpID8gdGhpcy5kZW1vSW5mb0NvbnRlbnQgOiBSZXNvdXJjZXMuTixcbiAgICAgICAgICAgICAgICBmb290ZXI6IFt7IGlkOiAnY2J4JywgdGVtcGxhdGU6IGNvbnRyb2xzIH1dXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhkaWFsb2csICdkaWFsb2c6Y2xvc2VkJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZy5nZXRDaGlsZFZpZXcoJ2Zvb3RlcicpLmNoaWxkcmVuLmZpbmRCeUluZGV4KDApLiQoXCJpbnB1dFtuYW1lPSdkb250c2hvdyddXCIpLnByb3AoXCJjaGVja2VkXCIpKSAkLmNvb2tpZShcIkRlbW9Nb2RlX1wiICsgdGhpcy5kZW1vVHMsIFwibm9tb3JlXCIsIHsgZXhwaXJlczogMzAgfSk7ZWxzZSAkLmNvb2tpZShcIkRlbW9Nb2RlX1wiICsgdGhpcy5kZW1vVHMsICcnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3RoaXMuJChcIi5UZXh0XCIpLmF0dHIoXCJkYXRhLXNlY2lkXCIsIHRoaXMub3B0aW9ucy5kYXRhaWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3VXBkYXRlQ2FzZTogZnVuY3Rpb24gb25DaGlsZHZpZXdVcGRhdGVDYXNlKG51bSkge1xuXG4gICAgICAgICAgICB0aGlzLnVpLmNhc2VudW0udGV4dChudW0pO1xuXG4gICAgICAgICAgICBpZiAobnVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jYXNlYnRuLmFkZENsYXNzKCdhY3Rpb24tLWJsaW5rJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWkuY2FzZWJ0bi5yZW1vdmVDbGFzcygnYWN0aW9uLS1ibGluaycpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgMjAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudGlkKSB0aGlzLiQoXCIjXCIgKyB0aGlzLmN1cnJlbnRpZCkubmV4dChcImRpdlwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyhlKSB7XG5cbiAgICAgICAgICAgIHZhciAkYiA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3NwYW4nKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50aWQgPSAkYi5hdHRyKFwiaWRcIik7XG5cbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmFnZS5pbmRleE9mKHRoaXMuY3VycmVudGlkKSA9PT0gLTEpIHRoaXMuc3RvcmFnZS5wdXNoKHRoaXMuY3VycmVudGlkKTtcblxuICAgICAgICAgICAgJGIubmV4dChcImRpdlwiKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgICAgICBfLmVhY2godGhpcy5zdG9yYWdlLCBmdW5jdGlvbiAobikge1xuXG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IHRoaXMuY3VycmVudGlkKSB0aGlzLiQoXCIjXCIgKyBuKS5uZXh0KFwiZGl2XCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdGZWVkYmFjaycsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImctZGlhbG9nLS1oZWFkZXJcIj5cXG4gICAgICAgIDxkaXYgY2xhc3MgPVwiZy1kaWFsb2ctLXRpdGxlXCIgZGF0YS1pY29uPVwiaWNvbi1hdHRlbnRpb25cIj48JS1SZXNvdXJjZXMuYWxlcnQgJT48L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnLWRpYWxvZy0tbWFuYWdlXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XCJjbG9zZVwiPjwvaT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImctZGlhbG9nLS1jb250YWluZXJcIj5cXG4gICAgICAgIDxkaXYgY2xhc3MgPVwiZy1kaWFsb2ctLWNvbnRlbnRcIj48JT0gaHRtbCAlPjwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImctZGlhbG9nLS1zaWRlYmFyXCI+PC9kaXY+XFxuICAgIDwvZGl2Pic7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctZGlhbG9nLS13cmFwcGVyJyxcblxuICAgICAgICBlbDogJyNmZWVkYmFjay1hbGVydHMtcGFuZWwnLFxuXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRlbXBsYXRlKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgXCJjbGljayAuY2xvc2VcIjogZnVuY3Rpb24gY2xpY2tDbG9zZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB3aW5kb3cuc2VuZHJlc3VsdCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd2luZG93LlNldFJlc3VsdCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd2luZG93LlNldFN1YlJlc3VsdCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd2luZG93LmNhcHRjaGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSAkLnRyaW0odGhpcy4kKFwiaW5wdXRbdHlwZT10ZXh0XVwiKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIHRoaXMuc2VuZCh0ZXh0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLnNob3coKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQocmVzdWx0KSB7XG5cbiAgICAgICAgICAgIHZhciByID0geyByZXN1bHQ6IHJlc3VsdCB9LFxuICAgICAgICAgICAgICAgIHNlbmRkYXRhID0geyBtb2RlbGlkOiB0aGlzLm1vZGVsLmlkLCBtb2RlbHR5cGVpZDogdGhpcy5tb2RlbC5nZXQoXCJ0eXBlaWRcIikgfTtcblxuICAgICAgICAgICAgdmFyIGh1YiA9IFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7IGNsaWVudDoge30gfSk7XG5cbiAgICAgICAgICAgIGh1Yi5zZXJ2ZXIuc2VuZE1lc3NhZ2Uociwgc2VuZGRhdGEubW9kZWxpZCwgc2VuZGRhdGEubW9kZWx0eXBlaWQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5jb2xsZWN0aW9uKSB0aGlzLm1vZGVsLmNvbGxlY3Rpb24ucmVtb3ZlKHRoaXMubW9kZWwpO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdjL0FsZXJ0c1ZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnRmVlZGJhY2snXSwgZnVuY3Rpb24gKFJlc291cmNlcywgZmVlZGJhY2tWaWV3KSB7XG5cbiAgICB2YXIgQWxlcnRDaGFubmVsID0gTW4uT2JqZWN0LmV4dGVuZCh7XG4gICAgICAgIGNoYW5uZWxOYW1lOiAnQWxlJ1xuICAgIH0pO1xuXG4gICAgbmV3IEFsZXJ0Q2hhbm5lbCgpO1xuXG4gICAgdmFyIE1lc3NhZ2VWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuICAgICAgICB0YWdOYW1lOiBcImxpXCIsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8c3Bhbj48JS0gdGl0bGUgJT48L3NwYW4+PGkgY2xhc3M9XCJlcmFzZVwiPjwvaT4nKSxcblxuICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrIHNwYW4nOiAnY2xpY2s6bWVzc2FnZSdcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJjbGljayAuZXJhc2VcIjogZnVuY3Rpb24gY2xpY2tFcmFzZShlKSB7XG5cbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5jb2xsZWN0aW9uLnJlbW92ZSh0aGlzLm1vZGVsKTtcblxuICAgICAgICAgICAgICAgIFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7IGNsaWVudDoge30gfSkuc2VydmVyLnNlbmRNZXNzYWdlKHsgcmVzdWx0OiBudWxsIH0sIHRoaXMubW9kZWwuaWQsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdTdGF0dXMnKSA9PT0gJ3JlZCcpIHRoaXMuJGVsLmFkZENsYXNzKFwiYWxlcnQtcmVkXCIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ1N0YXR1cycpID09PSAnYmx1ZScpIHRoaXMuJGVsLmFkZENsYXNzKFwiYWxlcnQtYmx1ZVwiKTtcblxuICAgICAgICAgICAgLy8g0L7RgtC60YDRi9Cy0LDQtdC8INGB0YDQsNC30YMg0YTQtdC00LHQtdC6XG4gICAgICAgICAgICB2YXIgYXBwID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnb00nKS5yZXF1ZXN0KCdnZXQ6YXBwJyk7XG4gICAgICAgICAgICBpZiAoYXBwICYmIGFwcC5UYXNrcy5pbmRleE9mKHRoaXMubW9kZWwuZ2V0KFwidGFza1VJRFwiKSkgIT09IC0xKSB0aGlzLnRyaWdnZXJNZXRob2QoJ2NsaWNrOm1lc3NhZ2UnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIG1lc3NhZ2VzTGlzdCA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3VsJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1lc3NhZ2VWaWV3LFxuXG4gICAgICAgIGVtcHR5VmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICB0YWdOYW1lOiAnbGknLFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHNwYW4+PCUtIFJlc291cmNlcy5OICU+PC9zcGFuPicpLFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcblxuICAgICAgICAgICAgdmFyIGtpbmQgPSBtLmhhcygna2luZCcpID8gbS5nZXQoXCJraW5kXCIpIDogMCxcbiAgICAgICAgICAgICAgICAvLyAwLSBtZXNzYWdlLCAxLXdhcm5pbmcsIDItZXJyb3JcbiAgICAgICAgICAgIHN0YXRlID0gbS5oYXMoJ3N0YXRlJykgPyBtLmdldChcInN0YXRlXCIpIDogJ2hvdCc7IC8vIGhvdCwgY29sZCwgZnJvemVuXG5cbiAgICAgICAgICAgIHN3aXRjaCAobS5nZXQoXCJ0eXBlaWRcIikpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgIC8vINGB0L7QvtCx0YnQtdC90LjQtSDQvtGCINGB0LjRgtC10LzRiyDQsdC10Lcg0LrQvdC+0L/QvtC6XG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KHsgXCJTdGF0dXNcIjogXCJub25lXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAvLyDRg9GC0L7Rh9C90LXQvdC40LUg0L/QviDQt9Cw0LTQsNGH0LUsINCy0YvQsdC+0YAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAvLyBjYXB0dXJlXG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KHsgXCJTdGF0dXNcIjogXCJyZWRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIC8vINC30LDQv9GA0L7RgSDQv9C+INCV0JPQoNCu0JtcbiAgICAgICAgICAgICAgICAgICAgbS5zZXQoeyBcIlN0YXR1c1wiOiBcImJsdWVcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBtLnNldCh7IFwiU3RhdHVzXCI6IFwibm9uZVwiIH0pO2JyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6bWVzc2FnZSc6ICdjbGljazptZXNzYWdlJ1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ2xpJyxcbiAgICAgICAgY2xhc3NOYW1lOiAndHJheS0taXRlbSBhbGVydC1ibG9jaycsXG5cbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxzcGFuIGNsYXNzPVwiYWxlcnRcIj48L3NwYW4+PGRpdiBjbGFzcz1cImFsZXJ0LS1jb250YWluZXJcIj48ZGl2IGNsYXNzPVwiYWxlcnQtLWhlYWRlclwiPjxpIGNsYXNzPVwiY2xvc2VcIj48L2k+PGRpdj48JT0gUmVzb3VyY2VzLnNlcnZlck1lc3NhZ2UgJT48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiYWxlcnQtLWxpc3RcIj48L2Rpdj48L2Rpdj4nKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICBidG46ICcuYWxlcnQnLFxuICAgICAgICAgICAgaGVhZGVyOiAnLmFsZXJ0LS1oZWFkZXI+ZGl2JyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJy5hbGVydC0tY29udGFpbmVyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIGxpc3Q6ICcuYWxlcnQtLWxpc3QnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjbGljayBpLmNsb3NlJzogZnVuY3Rpb24gY2xpY2tJQ2xvc2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIEB1aS5idG4nOiBmdW5jdGlvbiBjbGlja1VpQnRuKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkuY29udGFpbmVyLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbGlzdCcsIG5ldyBtZXNzYWdlc0xpc3QoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQXR0YWNoOiBmdW5jdGlvbiBvbkF0dGFjaCgpIHtcbiAgICAgICAgICAgIHRoaXMubW9uaXRvcmluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3Q2xpY2tNZXNzYWdlOiBmdW5jdGlvbiBvbkNoaWxkdmlld0NsaWNrTWVzc2FnZShyKSB7XG5cbiAgICAgICAgICAgIGlmIChyLm1vZGVsLmdldChcImh0bWxcIikpIHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5mZWVkYmFjaykgdGhpcy5mZWVkYmFjayA9IG5ldyBmZWVkYmFja1ZpZXcoeyBtb2RlbDogci5tb2RlbCB9KTtlbHNlIHRoaXMuZmVlZGJhY2subW9kZWwgPSByLm1vZGVsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mZWVkYmFjay5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSByLm1vZGVsLmNvbGxlY3Rpb24ucmVtb3ZlKHIubW9kZWwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cygpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoYywgbykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMoKTtcblxuICAgICAgICAgICAgICAgIGlmIChvLmFkZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGlja2VyIDo6IG5ldyBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV0dXJuTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVkQ29sbGVjdGlvbi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb24ubW9kZWxzO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJ0bi5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5jb250YWluZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkuaGVhZGVyLmh0bWwoUmVzb3VyY2VzLmFsZXJ0TWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5idG4ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmhlYWRlci5odG1sKFJlc291cmNlcy5zZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXR1cm5NZXNzYWdlOiBmdW5jdGlvbiByZXR1cm5NZXNzYWdlKCkge1xuXG4gICAgICAgICAgICB2YXIgaHViID0gU0ouaXdjLlNpZ25hbFIuZ2V0SHViUHJveHkoJ1RpY2tlcicsIHsgY2xpZW50OiB7fSB9KTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgIGh1Yi5zZXJ2ZXIucmV0dXJuVmFsdWVTZXQoJ2FsZXJ0RGVsaXZlcnknLCBtLmdldCgnZXFJRCcpLCAnMScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9uaXRvcmluZzogZnVuY3Rpb24gbW9uaXRvcmluZygpIHtcblxuICAgICAgICAgICAgdmFyIGh1YiA9IFNKLml3Yy5TaWduYWxSLmdldEh1YlByb3h5KCdUaWNrZXInLCB7XG5cbiAgICAgICAgICAgICAgICBjbGllbnQ6IHtcblxuICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnRzOiBmdW5jdGlvbiAobWVzc2FnZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCkgdGhpcy5jb2xsZWN0aW9uLmFkZChtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcblxuICAgICAgICAgICAgICAgICAgICBhY2l0aXZlQWxlcnRzOiBmdW5jdGlvbiAoZ3VpZHMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtICYmIGd1aWRzLmluZGV4T2YobS5pZCkgPT09IC0xICYmIG0uZ2V0KFwidHlwZWlkXCIpICE9PSAtMSkgdGhpcy5jb2xsZWN0aW9uLnJlbW92ZShtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICAgICAgaGlkZUFsZXJ0czogZnVuY3Rpb24gKGlkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gdGhpcy5jb2xsZWN0aW9uLmdldChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKG0pO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJEYXRhOiBmdW5jdGlvbiB0cmFuc2ZlckRhdGEoZGF0YSwga2luZCwgd25kKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tib25lLlJhZGlvLmNoYW5uZWwoJ0FsZScpLnJlcXVlc3QoJ2dldDp0cmFuc2ZlcjpkYXRhJywgeyBkYXRhOiBkYXRhLCBraW5kOiBraW5kIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlNSID4gdHJhbnNmZXIgZGF0YVwiLCB7IGRhdGE6IGRhdGEsIGtpbmQ6IGtpbmQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgcGluZzogZnVuY3Rpb24gcGluZyhtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaWNrZXIgOjogcGluZyA+PiAnLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGVudHJ5XG4gICAgICAgICAgICAvL1NKLml3Yy5TaWduYWxSLnN0YXJ0KCkuZG9uZSggZnVuY3Rpb24gKCkge30pO1xuXG4gICAgICAgICAgICB0aGlzLnNoYXJlZENvbGxlY3Rpb24gPSBuZXcgU0ouaXdjLlNoYXJlZERhdGEoXCJBbGVydE1lc3NhZ2VzXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnNoYXJlZENvbGxlY3Rpb24ub25DaGFuZ2VkKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnNldChhKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB2YXIgc2MgPSB0aGlzLnNoYXJlZENvbGxlY3Rpb24uZ2V0KCk7XG5cbiAgICAgICAgICAgIGlmIChzYyA9PT0gbnVsbCB8fCAhc2MubGVuZ3RoKSB0aGlzLnNoYXJlZENvbGxlY3Rpb24uc2V0KHRoaXMuY29sbGVjdGlvbi5tb2RlbHMpO2Vsc2UgaWYgKHNjLmxlbmd0aCkgdGhpcy5jb2xsZWN0aW9uLnNldChzYyk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKioqXHJcblxyXG7Qv9GA0Lgg0YHQvNC10L3QtSDQsdCw0LfRiyDQtNCw0L3QvdGL0YUg0L/QtdGA0LXRhdC+0LTQuNC8INC/0L4g0YPRgNC7OiBodHRwOi8vbG9jYWxob3N0L2xhbmctJTdCMCU3RC9hY2NvdW50L2xvZ2luP3JldHVyblVybD0lMmZsYW5nLXJ1LVJVJTJmZGIxNTklMmZpbnF1aXJ5JTJmaW5xdWlyeVxyXG5cclxu0LvQvtCz0LjQutCwINC/0L4g0LDQtNGA0LXRgdGB0YM6IGpzL0BMb2dpbi9hcHAuanNcclxuXHJcbiovXG5cbmRlZmluZSgnZ2xvYmFsLnZpZXcuY29ubmVjdCcsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdhY2Nlc3MnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgYWNjZXNzKSB7XG5cbiAgICB2YXIgbGlzdEl0ZW0gPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHMoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgR3JvdXBDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoeyBtb2RlbDogbGlzdEl0ZW0gfSksXG4gICAgICAgIEl0ZW0gPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHRhZ05hbWU6IFwib3B0aW9uXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuYXR0cihcInZhbHVlXCIsIHRoaXMubW9kZWwuaWQpO1xuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbChfLnRlbXBsYXRlKFwiPCU9IHRpdGxlICU+XCIpKHRoaXMubW9kZWwudG9KU09OKCkpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgcGFyYW1TZXQgPSB7XG4gICAgICAgIEludGVybmV0OiB7XG4gICAgICAgICAgICAnU3RhcnQnOiB7IFwiY21kXCI6IFwid29ya3NcIiwgXCJ0b1wiOiBcIldvcmtHcm91cHNcIiB9LFxuICAgICAgICAgICAgJ1dvcmtHcm91cHMnOiB7IFwiY21kXCI6IFwicHJvamVjdHNcIiwgXCJ0b1wiOiBcIlByb2plY3RzXCIgfSxcbiAgICAgICAgICAgICdQcm9qZWN0cyc6IHsgXCJjbWRcIjogXCJkYXRhc1wiLCBcInRvXCI6IFwiQ29ubmVjdHNcIiB9LFxuICAgICAgICAgICAgJ0Nvbm5lY3RzJzogeyBcImNtZFwiOiBcImNvbm5lY3RcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIEludHJhbmV0OiB7XG4gICAgICAgICAgICAnU3RhcnQnOiB7IFwiY21kXCI6IFwid29ya3NcIiwgXCJ0b1wiOiBcIldvcmtHcm91cHNcIiB9LFxuICAgICAgICAgICAgJ1dvcmtHcm91cHMnOiB7IFwiY21kXCI6IFwiZGF0YXNcIiwgXCJ0b1wiOiBcIkNvbm5lY3RzXCIgfSxcbiAgICAgICAgICAgICdDb25uZWN0cyc6IHsgXCJjbWRcIjogXCJjb25uZWN0XCIgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0ZW1wQ29ubmVjdCA9IHt9O1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdhdXRob3Jpc2F0aW9uLWJsb2NrJyxcblxuICAgICAgICB0ZW1wbGF0ZTogJyNjb25uZWN0LXRlbXBsYXRlJyxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgICAvL2J0bjogJ2J1dHRvbidcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIFwiY2hhbmdlIHNlbGVjdFwiOiBcImdldERhdGFcIixcbiAgICAgICAgICAgIFwiY2xpY2sgQHVpLmJ0bjpub3QoW2RhdGEtaWNvbj1pY29uLWxvYWRlcl0pXCI6IFwiY29ubmVjdFwiXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBHcm91cENvbGxlY3Rpb24oKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuTmV0VmVyc2lvbiA9IGFjY2Vzcy5kYXRhLk5ldFZlcnNpb24gfHwgXCJJbnRlcm5ldFwiO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5OZXRWZXJzaW9uID09PSBcIkludHJhbmV0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCJsYWJlbDplcSgxKVwiKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI1Byb2plY3RzXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5mZXRjaCgnU3RhcnQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChjKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHBhcmFtU2V0W3RoaXMuTmV0VmVyc2lvbl1bdGhpcy5uYW1lXS50byxcbiAgICAgICAgICAgICAgICAgICAgJG8gPSB0aGlzLiQoJyMnICsgbmFtZSksXG4gICAgICAgICAgICAgICAgICAgIGN2ID0gJC5jb29raWUobmFtZSkgfHwgdGVtcENvbm5lY3RbbmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20oYy5tb2RlbHMsIGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkby5hcHBlbmQobmV3IEl0ZW0oeyBtb2RlbDogbSB9KS5yZW5kZXIoKS5lbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICRvLnZhbChjdik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaChuYW1lLCBjdik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjLmxlbmd0aCkgdGhpcy50cmlnZ2VyTWV0aG9kKCdjb25uZWN0Om1hZGUnKTtcbiAgICAgICAgICAgICAgICAvL3RoaXMudWkuYnRuLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIikucmVtb3ZlQXR0cignZGF0YS1pY29uJyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgLy90aGlzLnRyaWdnZXJNZXRob2QoJ2Nhbjpjb25uZWN0Jyk7XG4gICAgICAgICAgICAgICAgLy90aGlzLnVpLmJ0bi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLnJlbW92ZUF0dHIoJ2RhdGEtaWNvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoZSkge1xuXG4gICAgICAgICAgICB2YXIgdiA9ICQoZS50YXJnZXQpLnZhbCgpLFxuICAgICAgICAgICAgICAgIG5hbWUgPSAkKGUudGFyZ2V0KS5hdHRyKFwiaWRcIik7XG5cbiAgICAgICAgICAgICQuYWpheFNldHVwKHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICgkLnRyaW0odikpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2gobmFtZSwgdik7XG4gICAgICAgICAgICAgICAgJC5jb29raWUobmFtZSwgdiwgeyBleHBpcmVzOiAzMCwgcGF0aDogXCIvXCIgfSk7XG4gICAgICAgICAgICAgICAgdGVtcENvbm5lY3RbbmFtZV0gPSB2O1xuICAgICAgICAgICAgfSBlbHNlIHRoaXMucmVzZXQobmFtZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KG5hbWUpIHtcblxuICAgICAgICAgICAgdGhpcy4kKCcjJyArIG5hbWUpLm5leHRBbGwoXCJzZWxlY3RcIikuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgICQoZSkuZmluZChcIjpub3Qob3B0aW9uW3ZhbHVlPScnXSlcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBmZXRjaDogZnVuY3Rpb24gZmV0Y2gobmFtZSwgdikge1xuXG4gICAgICAgICAgICB2YXIgcCA9IHBhcmFtU2V0W3RoaXMuTmV0VmVyc2lvbl1bbmFtZV07XG5cbiAgICAgICAgICAgIGlmICh2KSBwLml0ZW1pZCA9IHY7XG5cbiAgICAgICAgICAgIHRoaXMuJChcIiNJbmZvXCIpLnRleHQoXCJcIik7XG5cbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcIkNvbm5lY3RzXCIpIHtcblxuICAgICAgICAgICAgICAgIHAud2d0aXRsZSA9IHRoaXMuJChcIiNXb3JrR3JvdXBzIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgcC53Z2lkID0gdGhpcy4kKFwiI1dvcmtHcm91cHNcIikudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBwLnByZ3RpdGxlID0gdGhpcy4kKFwiI1Byb2plY3RzIG9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgcC5wcmdpZCA9IHRoaXMuJChcIiNQcm9qZWN0c1wiKS52YWwoKTtcblxuICAgICAgICAgICAgICAgIHAuZGJ0aXRsZSA9IHRoaXMuJChcIiNDb25uZWN0cyBvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpO1xuICAgICAgICAgICAgICAgIHAuZGJpZCA9IHRoaXMuJChcIiNDb25uZWN0c1wiKS52YWwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy90aGlzLnBhcmFtY29uZWN0ID0gcDtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi51cmwgPSAnL2FwaS9BdXRob3Jpc2U/JyArICQucGFyYW0ocCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVzZXQobmFtZSk7XG5cbiAgICAgICAgICAgIC8vdGhpcy51aS5idG4uYWRkQ2xhc3MoJ2Rpc2FibGVkJykuYXR0cignZGF0YS1pY29uJywgJ2ljb24tbG9hZGVyJyk7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLmNvbGxlY3Rpb24uYXQoMCkuZ2V0KFwidGl0bGVcIikgfHwgXCIvXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwiYXV0aG9yaXplOmVuZFwiLCB1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9Db250ZXh0TWVudVZpZXcnLCBbXSwgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGl0ZW1zVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8JS0gdGl0bGUgJT48ZGl2IGNsYXNzPVwiX2NvbnRhaW5lclwiPjwvZGl2PicpLFxuXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdpdGVtJyxcblxuICAgICAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogeyBlbDogJy5fY29udGFpbmVyJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAnbW91c2VvdmVyJzogZnVuY3Rpb24gbW91c2VvdmVyKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdjaGlsZCcpICYmIHRoaXMubW9kZWwuZ2V0KCdjaGlsZCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjID0gdGhpcy4kKCcuZy1jb250ZXh0LS1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSAtICRjLm9mZnNldCgpLmxlZnQgPCAkYy53aWR0aCgpKSB0aGlzLiQoJy5nLWNvbnRleHQtLWNvbnRhaW5lcicpLmFkZENsYXNzKCdyZXZlcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogJ2NsaWNrOml0ZW0nXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ2ljb24nKSkgdGhpcy4kZWwuYXR0cignZGF0YS1pY29uJywgJ2ljb24tJyArIHRoaXMubW9kZWwuZ2V0KCdpY29uJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdzdGF0dXMnKSkgdGhpcy4kZWwuYWRkQ2xhc3ModGhpcy5tb2RlbC5nZXQoJ3N0YXR1cycpKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnY21kJykpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMubW9kZWwuZ2V0KCdjbWQnKSA9PT0gJ3N0cmluZycpIHRoaXMuJGVsLmF0dHIoJ2RhdGEtY21kJywgdGhpcy5tb2RlbC5nZXQoJ2NtZCcpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMubW9kZWwuZ2V0KCdjbWQnKSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5jbWQgPSB0aGlzLm1vZGVsLmdldCgnY21kJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdjaGlsZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdoYXNraWRzJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnY29udGFpbmVyJywgbmV3IGl0ZW1zVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKHRoaXMubW9kZWwuZ2V0KCdjaGlsZCcpKSB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJCgnLl9jb250YWluZXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrOml0ZW0nOiAnY2xpY2s6aXRlbSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1jb250ZXh0LS1jb250YWluZXInLFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdjbGljazppdGVtJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctY29udGV4dC0tbWVudScsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8ZGl2IGNsYXNzPVwiZy1jb250ZXh0LS1jb250YWluZXJcIj48L2Rpdj4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICBlbDogJy5nLWNvbnRleHQtLWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnQ6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2NvbnRhaW5lcicsIG5ldyBpdGVtc1ZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdtZW51OmNsaWNrOml0ZW0nXG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdjL0VkaXRQYW5lbFZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nXSwgZnVuY3Rpb24gKFJlc291cmNlcykge1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImVkaXQtcGFuZWxcIixcbiAgICAgICAgdGVtcGxhdGU6ICcjZWRpdC1wYW5lbC10ZW1wbGF0ZScsXG4gICAgICAgIHRlbXBsYXRlQ29udGV4dDoge1xuICAgICAgICAgICAgUmVzb3VyY2VzOiBSZXNvdXJjZXNcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJjbGljayBzcGFuOm5vdCguc2VhcmNoKVwiOiBmdW5jdGlvbiBjbGlja1NwYW5Ob3RTZWFyY2goZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiZWRpdC1wYW5lbDphY3Rpb25cIiwgJChlLnRhcmdldCkuY2xvc2VzdChcImxpXCIpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFwia2V5dXAgaW5wdXRbbmFtZT0ncnVicmljLW5hbWUnXVwiOiBmdW5jdGlvbiBrZXl1cElucHV0TmFtZVJ1YnJpY05hbWUoZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMgfHwgISQudHJpbSh0aGlzLiQoXCJpbnB1dFtuYW1lPSdydWJyaWMtbmFtZSddXCIpLnZhbCgpKSkgdGhpcy50cmlnZ2VyKFwiZWRpdC1wYW5lbDphY3Rpb25cIiwgdGhpcy4kKFwiaVtuYW1lPXNlYXJjaF1cIikpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIGkuc2VhcmNoJzogZnVuY3Rpb24gY2xpY2tJU2VhcmNoKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImVkaXQtcGFuZWw6YWN0aW9uXCIsIHRoaXMuJChcImlbbmFtZT1zZWFyY2hdXCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlcmU6IGZ1bmN0aW9uIHJlcmUoKSB7XG4gICAgICAgICAgICB0aGlzLiQoXCJsaTpub3QoW25hbWU9J2FkZCddKVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRDdXJyZW50OiBmdW5jdGlvbiBzZXRDdXJyZW50KG1vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdG1vZGVsID0gbW9kZWw7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rtb2RlbC5pZCAhPT0gXCItMVwiKSB0aGlzLiQoXCJsaVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7ZWxzZSB0aGlzLiQoXCJsaTpub3QoW25hbWU9J2FkZCddKVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0bW9kZWwuaGFzKFwiaXNkb2NcIikgJiYgdGhpcy5zZWxlY3Rtb2RlbC5nZXQoXCJpc2RvY1wiKSkgdGhpcy4kKFwibGlbbmFtZT0nYWRkJ11cIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB2YXIgc3BsID0gdGhpcy5vcHRpb25zLnVudmlzaWJsZSA/IHRoaXMub3B0aW9ucy51bnZpc2libGUuc3BsaXQoXCIsXCIpIDogW107XG5cbiAgICAgICAgICAgIF8uZWFjaChzcGwsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQudHJpbShhKSkgdGhpcy4kKFwiLlwiICsgJC50cmltKGEpKS5oaWRlKCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnL2ZpbGVzL1VwbG9hZEZpbGVWaWV3JywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcblxuICAgIHZhciBGaWxlTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBpZEF0dHJpYnV0ZTogXCJGaWxlVUlEXCIsXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBGaWxlVUlEOiBudWxsLFxuICAgICAgICAgICAgRmlsZVBhdGg6ICcnLFxuICAgICAgICAgICAgQ0RhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIEZpbGVOYW1lOiAnJyxcbiAgICAgICAgICAgIEZpbGVVcmw6ICcnXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnaW1hZ2UtcGF0aCcsXG5cbiAgICAgICAgdGVtcGxhdGU6ICcjZmlsZS11cGxvYWQtdGVtcGxhdGUnLFxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIGZvcm06ICdmb3JtJyxcbiAgICAgICAgICAgIGZpbGU6ICdpbnB1dFtuYW1lID0gZmlsZVRvVXBsb2FkXScsXG4gICAgICAgICAgICBwcm86ICcucHJvZ3Jlc3MnLFxuICAgICAgICAgICAgYmFyOiAnLmJhcicsXG4gICAgICAgICAgICBwZXI6ICcucGVyY2VudCdcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJjaGFuZ2UgQHVpLmZpbGVcIjogZnVuY3Rpb24gY2hhbmdlVWlGaWxlKGUpIHtcblxuICAgICAgICAgICAgICAgIHZhciB2ID0gdGhpcy51aS5maWxlLnZhbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudWkuZmlsZS5wcmV2KCcuaW5wdXQnKS50ZXh0KHYpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCQudHJpbSh2KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWdtID0gdGhpcy51aS5maWxlLnZhbCgpLnNwbGl0KFwiXFxcXFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBzZWdtW3NlZ20ubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwbyA9IG5hbWUuc3BsaXQoJy4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ID0gdGhpcy5jb2xsZWN0aW9uLmZpbmQoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmdldCgnT3JpZ2luYWxGaWxlTmFtZScpLmluZGV4T2YobmFtZSkgIT09IC0xO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvL3ZhciBleHQgPSBbJ2dpZicsICdqcGVnJywgJ2pwZycsICdwbmcnLCAnYm1wJ107XG5cbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoZXh0LmluZGV4T2YocG9bcG8ubGVuZ3RoIC0gMV0udG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuJChcIi5hbmJyLXRvb2x0aXBcIikuaHRtbCgnPHNwYW4gcG9zaXRpb249XCJib3R0b21cIj48L3NwYW4+JyArIFJlc291cmNlcy5lcnJvciArICcgSW52YWxpZCBleHRlbnNpb24gb2YgZmlsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgZXggPSAxO1xuICAgICAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV4KSB0aGlzLnVpLmZvcm0uc3VibWl0KCk7ZWxzZSB0aGlzLiQoXCIuYW5ici10b29sdGlwXCIpLnNob3coKS5kZWxheSg1MDAwKS5mYWRlT3V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZm9ybUFjdGlvbiA9IHRoaXMub3B0aW9ucy5mb3JtQWN0aW9uIHx8IFwiL2FwaS9jb21tb24vdXBsb2FkL1wiO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluZGljYXRvcjogZnVuY3Rpb24gaW5kaWNhdG9yKHYpIHtcblxuICAgICAgICAgICAgdGhpcy51aS5wcm8uc2hvdygpO1xuICAgICAgICAgICAgdGhpcy51aS5iYXIud2lkdGgodik7XG4gICAgICAgICAgICB0aGlzLnVpLnBlci5odG1sKHYpLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMudWkuZm9ybS5hdHRyKFwiYWN0aW9uXCIsIHRoaXMuZm9ybUFjdGlvbik7XG4gICAgICAgICAgICB0aGlzLnVpLmJhci53aWR0aCgwKTtcbiAgICAgICAgICAgIHRoaXMudWkucGVyLmh0bWwoXCIwJVwiKTtcbiAgICAgICAgICAgIHRoaXMudWkuZmlsZS52YWwoJycpO1xuXG4gICAgICAgICAgICB0aGlzLnVpLmZvcm0uYWpheEZvcm0oe1xuXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcignMCUnKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICB1cGxvYWRQcm9ncmVzczogZnVuY3Rpb24gKGV2ZW50LCBwb3NpdGlvbiwgdG90YWwsIHBlcmNlbnRDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcihwZXJjZW50Q29tcGxldGUgKyAnJScpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcblxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3IoJzEwMCUnKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCIuYW5ici10b29sdGlwXCIpLmh0bWwoJzxzcGFuIHBvc2l0aW9uPVwiYm90dG9tXCI+PC9zcGFuPicgKyBSZXNvdXJjZXMuZXJyb3IgKyAnIFNlcnZlciBlcnJyb3IuJykuc2hvdygpLmRlbGF5KDUwMDApLmZhZGVPdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZpbmFsKCk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICh4aHIpIHtcblxuICAgICAgICAgICAgICAgICAgICBfLm1hcCh4aHIucmVzcG9uc2VKU09OLCBmdW5jdGlvbiAocGF0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKCdlcnJvcicpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIi5hbmJyLXRvb2x0aXBcIikuaHRtbCgnPHNwYW4gcG9zaXRpb249XCJib3R0b21cIj48L3NwYW4+JyArIHBhdGgucmVwbGFjZSgnZXJyb3InLCAnJykpLnNob3coKS5kZWxheSg1MDAwKS5mYWRlT3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZpbmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5NZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiLmFuYnItdG9vbHRpcFwiKS5odG1sKCc8c3BhbiBwb3NpdGlvbj1cImJvdHRvbVwiPjwvc3Bhbj4nICsgcGF0aC5NZXNzYWdlKS5zaG93KCkuZGVsYXkoNTAwMCkuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25GaW5hbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlZ20gPSBwYXRoLnNwbGl0KFwiXFwvXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBzZWdtW3NlZ20ubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGxhc3Quc3Vic3RyKGxhc3QuaW5kZXhPZignXycpICsgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVpZCA9IGxhc3Quc3BsaXQoXCJfXCIpWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBuZXcgRmlsZU1vZGVsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlVUlEOiBmdWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVQYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVVcmw6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZU5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT3JpZ2luYWxGaWxlTmFtZTogbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5hZGQobW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLmZpbGUudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwiLmlucHV0XCIpLnRleHQoUmVzb3VyY2VzLnNlbEZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25GaW5hbCgpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25GaW5hbDogZnVuY3Rpb24gb25GaW5hbCgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkuYmFyLndpZHRoKDApO1xuICAgICAgICAgICAgICAgIHRoaXMudWkucGVyLmh0bWwoXCIwJVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnByby5oaWRlKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnL0ltYWdlR2FsbGVyeVZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnZy9maWxlcy9VcGxvYWRGaWxlVmlldyddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCB1cGxvYWRWaWV3KSB7XG5cbiAgICB2YXIgZmlsZU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHsgaWRBdHRyaWJ1dGU6IFwiRmlsZVVJRFwiIH0pO1xuXG4gICAgdmFyIGxpc3RGaWxlcyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnaW1hZ2UtZ2FsbGVyeScsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcblxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxpIGRhdGEtaWNvbj1cImljb24tdHJhc2hcIj48L2k+PGltZyBzcmM9XCI8JS0gRmlsZVVybCAlPlwiIGFsdD1cIlwiIHRpdGxlPVwiPCUtIE9yaWdpbmFsRmlsZU5hbWUgJT5cIiAgLz4nKSxcblxuICAgICAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAnY2xpY2sgaVtkYXRhLWljb249XCJpY29uLXRyYXNoXCJdJzogZnVuY3Rpb24gY2xpY2tJRGF0YUljb25JY29uVHJhc2goKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgQmFja2JvbmUudHJpZ2dlcihcIm1lc3NhZ2U6Y29uZmlybVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmVzb3VyY2VzLmFza3lvdXN1cmUsIG1lc3NhZ2U6IFJlc291cmNlcy5jb25maXJtRGVsZXRlSW1nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZng6IGZ1bmN0aW9uIGZ4KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eDogdGhpc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgJ2NsaWNrIGltZyc6IGZ1bmN0aW9uIGNsaWNrSW1nKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gdGhpcy5tb2RlbC5jb2xsZWN0aW9uLmZpbmRXaGVyZSh7IHNlbGVjdDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0pIG0uc2V0KCdzZWxlY3QnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3NlbGVjdCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NoYW5nZTppdGVtJywgdGhpcy5tb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBtb2RlbEV2ZW50czoge1xuXG4gICAgICAgICAgICAgICAgJ2NoYW5nZTpzZWxlY3QnOiBmdW5jdGlvbiBjaGFuZ2VTZWxlY3QobSwgdikge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2KSB0aGlzLiRlbC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtlbHNlIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldCgnc2VsZWN0JykpIHRoaXMuJGVsLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcbiAgICAgICAgICAgIG0uc2V0KCdzZWxlY3QnLCBtLmdldCgnRmlsZVVybCcpID09PSB0aGlzLm9wdGlvbnMuc2VsZWN0KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NoYW5nZTppdGVtJzogJ2NoYW5nZTppdGVtJ1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnaW1hZ2UtZ2FsbGVyeS13cmFwcGVyJyxcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdiBjbGFzcz1cImltYWdlLXBhdGhcIj48L2Rpdj48ZGl2IGNsYXNzPVwiaW1hZ2UtZ2FsbGVyeVwiPjwvZGl2PicpLFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIGxpc3Q6IHsgZWw6ICcuaW1hZ2UtZ2FsbGVyeScsIHJlcGxhY2VFbGVtZW50OiB0cnVlIH0sXG4gICAgICAgICAgICBwYXRoOiB7IGVsOiAnLmltYWdlLXBhdGgnLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW10sIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogZmlsZU1vZGVsLFxuICAgICAgICAgICAgICAgIGNvbXBhcmF0b3I6IGZ1bmN0aW9uIGNvbXBhcmF0b3IobSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLW5ldyBEYXRlKG0uZ2V0KCdDRGF0ZScpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnVybCA9IFwiL2FwaS9jb21tb24vZmlsZXMvXCI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKCkge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmZldGNoKHsgcmVzZXQ6IHRydWUgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdwYXRoJywgbmV3IHVwbG9hZFZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdsaXN0JywgbmV3IGxpc3RGaWxlcyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgc2VsZWN0OiB0aGlzLm9wdGlvbnMuc2VsZWN0ZWRJbWdQYXRoIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NoYW5nZTppdGVtJzogJ2NoYW5nZTppdGVtJ1xuICAgICAgICB9XG5cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdjL1NpbXBsZVRhYmxlVmlldycsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdjL0NvbnRleHRNZW51VmlldyddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBjb250ZXh0TWVudSkge1xuXG4gICAgLypcclxuICAgICAgIHZhciBoZWFkQ29sbGVjdGlvbiA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFtcclxuICAgICAgICAgICAgICAgIHsgaWQ6IDAsIHRpdGxlOiBSZXNvdXJjZXMudGl0bGUsIHdpZHRoOiAnNjUlJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBpZDogMSwgdGl0bGU6IFJlc291cmNlcy5zdGF0dXMsIHdpZHRoOiAnMTAlJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBpZDogMiwgdGl0bGU6IFJlc291cmNlcy5leGVjdXRpb24sIHdpZHRoOiAnMjUlJyB9XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgdmFyIHJvd1RlbXBsYXRlID0gJzx0ZD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaC08JS0gaWQgJT5cIiBjbGFzcz1cImctZm9ybS0tY2hlY2tib3hcIj48bGFiZWwgZm9yPVwiY2gtPCUtIGlkICU+XCI+PCUtIHRpdGxlICU+PC9sYWJlbD48L3RkPjx0ZD48c3BhbiBjbGFzcz1cImZvbnQtaWNvbiBmb250LWljb24tPCUtIHN0YXR1cyAlPlwiPjwvc3Bhbj48L3RkPjx0ZD48JS0gc3RhdGUgJT48c3BhbiBjbGFzcz1cImFuYnItdG9vbHRpcFwiPjwlLSBkZXRhaWxzICU+PC9zcGFuPjwvdGQ+JztcclxuICAgICAgICAgdmFyIG1lbnVDb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW1xyXG4gICAgICAge1xyXG4gICAgICAgICAgIHRpdGxlOiBSZXNvdXJjZXMucnVuYWdhaW4sIGljb246ICduZXh0JywgJ2RhdGEtaWQnOiBcIkVBOTMyMzczLTM2NDctNDcxQS04N0MxLUREQjU2NjU3RkVCQ1wiLFxyXG4gICAgICAgICAgIGNtZDogZnVuY3Rpb24gKG1vZGVscykge1xyXG4gICAgICAgICAgICAgICAkLmdldCgnL2FwaS9pbnRlcmVzdE9iamVjdHMvaW5wdXQvaWQnICsgbW9kZWxzWzBdLmlkKS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdvTScpLnJlcXVlc3QoJ2xvYWQ6Zm9ybScsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnc2lkZScpLnJlcXVlc3QoJ2dldDpzaWRlYmFyJykudG9nZ2xlRXhwYW5kZWQoKTtcclxuICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSxcclxuICAgICAgIHtcclxuICAgICAgICAgICB0aXRsZTogUmVzb3VyY2VzLmFkZGJhc2tldCwgaWNvbjogJ2Nhc2UnLCAnZGF0YS1pZCc6IFwiQjc3ODc4ODYtQUYwRS00QjVBLTkwNjEtNDlCMTgyMjAwQjhDXCIsXHJcbiAgICAgICAgICAgY21kOiBmdW5jdGlvbiAobW9kZWxzLCBtKSB7XHJcbiAgICAgICAgICAgICAgIEJhY2tib25lLnRyaWdnZXIoXCJiYXNrZXQ6YWRkXCIsIF8ucGx1Y2sobW9kZWxzLCAnaWQnKSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSxcclxuICAgICAgIHtcclxuICAgICAgICAgICB0aXRsZTogUmVzb3VyY2VzLmNoc3RhLCBpY29uOiAnc3RhdHVzJywgJ2RhdGEtaWQnOiBcIjc0NjBFNTZGLTYyQkQtNEM5RC1BOEU1LTVCNjQzNzNDNTEzMVwiLFxyXG4gICAgICAgICAgIGNoaWxkOiBbXHJcbiAgICAgICAgICAgICAgIHsgaWQ6IDEsIGljb246ICdpbndvcmsnLCB0aXRsZTogUmVzb3VyY2VzLndvcmtpbmcsIGNtZDogY2hhbmdlU3RhdHVzIH0sXHJcbiAgICAgICAgICAgICAgIHsgaWQ6IDIsIGljb246ICdmaW5pc2hlZCcsIHRpdGxlOiBSZXNvdXJjZXMuZmYsIGNtZDogY2hhbmdlU3RhdHVzIH0sXHJcbiAgICAgICAgICAgICAgIHsgaWQ6IDMsIGljb246ICdjbG9jaycsIHRpdGxlOiBSZXNvdXJjZXMudG0sIGNtZDogY2hhbmdlU3RhdHVzIH0sXHJcbiAgICAgICAgICAgICAgIHsgaWQ6IDQsIGljb246ICdhcmNoaXZlJywgdGl0bGU6IFJlc291cmNlcy5hciwgY21kOiBjaGFuZ2VTdGF0dXMgfVxyXG4gICAgICAgICAgIF1cclxuICAgICAgIH0pO1xyXG4gICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2xpc3QnLCBuZXcgdGFibGVWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uLCByb3dUZW1wbGF0ZTogcm93VGVtcGxhdGUsIGhlYWQ6IGhlYWRDb2xsZWN0aW9uLCBtZW51Q29sbGVjdGlvbjogbWVudUNvbGxlY3Rpb24gfSkpO1xyXG4gICAgKi9cblxuICAgIHZhciBQQUdFX1NJWkUgPSAzMDtcblxuICAgIHZhciBoZWFkVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RyJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgdGFnTmFtZTogJ3RoJyxcblxuICAgICAgICAgICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFRlbXBsYXRlKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdzdWJUZW1wbGF0ZScpKSByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLm1vZGVsLmdldCgnc3ViVGVtcGxhdGUnKSk7ZWxzZSByZXR1cm4gXy50ZW1wbGF0ZSgnPCUtIHRpdGxlICU+Jyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ3dpZHRoJykpIHRoaXMuJGVsLndpZHRoKHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG5cbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljayBpbnB1dFt0eXBlPWNoZWNrYm94XSB+IGxhYmVsOm5vdCguZGlzYWJsZWQpJzogJ2NsaWNrOmhlYWQ6aW5wdXQnXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBmb290VmlldyA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndHInLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHRkIGNvbHNwYW49XCI8JS0gY29sc3BhbiAlPlwiPjxkaXYgY2xhc3M9XCJwYWdpbmctYm94XCI+PGRpdiBjbGFzcz1cInBhZ2luYXRvclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwYWdpbmF0b3JfcGFnZXNcIj48JS0gdGl0bGVQYWdlcyAlPjogPHNwYW4+PCUtIHRvdGFsUGFnZXMgJT48L3NwYW4+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImNvbnRleHQtbWVudVwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lO3otaW5kZXg6MTAwO1wiPjwvZGl2PjwvdGQ+JyksXG5cbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICB0aXRsZVBhZ2VzOiBSZXNvdXJjZXMuUGFnZXMyXG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIG1lbnU6ICcuY29udGV4dC1tZW51JyxcbiAgICAgICAgICAgIGJveDogJy5wYWdpbmctYm94J1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIG1lbnU6ICdAdWkubWVudSdcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgXCJtb3VzZWVudGVyIEB1aS5tZW51XCI6IGZ1bmN0aW9uIG1vdXNlZW50ZXJVaU1lbnUoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkubWVudS5jbGVhclF1ZXVlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcIm1vdXNlbGVhdmUgQHVpLm1lbnVcIjogZnVuY3Rpb24gbW91c2VsZWF2ZVVpTWVudShlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aS5tZW51LmRlbGF5KDMwMCkuaGlkZSgxMDApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgXCJjbGljayBAdWkuYm94IGFcIjogZnVuY3Rpb24gY2xpY2tVaUJveEEoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJwYWdlOnNlbGVjdFwiLCAkKGUudGFyZ2V0KS50ZXh0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnbWVudTpjbGljazppdGVtJzogJ21lbnU6Y2xpY2s6aXRlbSdcbiAgICAgICAgfSxcblxuICAgICAgICBtb2RlbEV2ZW50czoge1xuXG4gICAgICAgICAgICAnY2hhbmdlOmN1cnJlbnRQYWdlJzogZnVuY3Rpb24gY2hhbmdlQ3VycmVudFBhZ2UobSwgdikge1xuXG4gICAgICAgICAgICAgICAgLy90aGlzLnJlbmRlcigpO1xuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOnRvdGFsUGFnZXMnOiBmdW5jdGlvbiBjaGFuZ2VUb3RhbFBhZ2VzKG0sIHYpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCh2KSA8PSAxKSB0aGlzLnVpLmJveC5oaWRlKCk7ZWxzZSB0aGlzLnVpLmJveC5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLnVpLmJveC5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ21lbnUnLCBuZXcgY29udGV4dE1lbnUoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMubW9kZWw7XG5cbiAgICAgICAgICAgIGlmIChwYXJzZUludChtLmdldCgndG90YWxQYWdlcycpKSA+IDEpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudWkuYm94LnNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQoJy5wYWdpbmF0b3JfcGFnZXM+c3BhbicpLnRleHQobS5nZXQoJ3RvdGFsUGFnZXMnKSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9ICdwYWdpbmF0b3JfJyArIHRoaXMuY2lkO1xuICAgICAgICAgICAgICAgIHRoaXMuJCgnLnBhZ2luYXRvcicpLmF0dHIoJ2lkJywgbmFtZSk7XG4gICAgICAgICAgICAgICAgbmV3IFBhZ2luYXRvcihuYW1lLCBtLmdldCgndG90YWxQYWdlcycpLCBtLmdldCgncGFnZVNpemUnKSwgbS5nZXQoJ2N1cnJlbnRQYWdlJykpO1xuICAgICAgICAgICAgfSBlbHNlIHRoaXMudWkuYm94LmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHJvd3NWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndGJvZHknLFxuXG4gICAgICAgIGVtcHR5VmlldzogTW4uVmlldy5leHRlbmQoe1xuICAgICAgICAgICAgdGFnTmFtZTogJ3RyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8dGQgY29sc3Bhbj1cIjwlLSBjb2xzcGFuICU+XCI+PCUtIHRpdGxlICU+PC90ZD4nKVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgdGFnTmFtZTogJ3RyJyxcblxuICAgICAgICAgICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFRlbXBsYXRlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfLnRlbXBsYXRlKHRoaXMub3B0aW9ucy5yb3dUZW1wbGF0ZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IGZ1bmN0aW9uIHRlbXBsYXRlQ29udGV4dCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvdXRwdXQsIHRoaXMub3B0aW9ucy5yb3dPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICAvLydjbGljayBpbnB1dFt0eXBlPWNoZWNrYm94XSB+IGxhYmVsOm5vdCguZGlzYWJsZWQpJzogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAvL3RoaXMubW9kZWwuc2V0KCdjaGVja2VkJywgIXRoaXMuJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnY2hlY2s6cm93czpmb3I6aGVhZCcpO1xuICAgICAgICAgICAgICAgIC8vfSxcblxuICAgICAgICAgICAgICAgIFwibW91c2VsZWF2ZVwiOiBmdW5jdGlvbiBtb3VzZWxlYXZlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJoaWRlOm1lbnVcIik7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIFwiY2xpY2sgYnV0dG9uLm1lbnVcIjogZnVuY3Rpb24gY2xpY2tCdXR0b25NZW51KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdtZW51OnNob3cnLCB0aGlzLm1vZGVsLCAkKGUudGFyZ2V0KS5jbG9zZXN0KFwiYnV0dG9uXCIpKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgJ2NsaWNrIGEnOiBmdW5jdGlvbiBjbGlja0EoZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICAgICAvLydjbGljayc6ICdjbGljazpyb3c6dGFibGUnLFxuICAgICAgICAgICAgICAgICdjaGFuZ2UgaW5wdXQnOiAnY2hhbmdlOmlucHV0OnJvdycsXG4gICAgICAgICAgICAgICAgJ2NsaWNrICpbZGF0YS1jbWRdJzogJ2NsaWNrOnJvdzpjbWQ6aXRlbSdcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG1vZGVsRXZlbnRzOiB7XG5cbiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnbW9kZWw6Y2hhbmdlZCcsIG0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnY2hlY2tlZCcpKSB0aGlzLiQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIHRoaXMubW9kZWwuZ2V0KCdjaGVja2VkJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pLFxuXG4gICAgICAgIGVtcHR5Vmlld09wdGlvbnM6IGZ1bmN0aW9uIGVtcHR5Vmlld09wdGlvbnMobSkge1xuICAgICAgICAgICAgbS5zZXQoeyAnY29sc3Bhbic6IHRoaXMub3B0aW9ucy5jb2xzcGFuLCB0aXRsZTogUmVzb3VyY2VzLk4gfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3T3B0aW9uczogZnVuY3Rpb24gY2hpbGRWaWV3T3B0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcm93VGVtcGxhdGU6IHRoaXMub3B0aW9ucy5yb3dUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICByb3dPcHRpb25zOiB0aGlzLm9wdGlvbnMucm93T3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjb2xzcGFuOiB0aGlzLm9wdGlvbnMuY29sc3BhblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgLy8nY2xpY2s6cm93OnRhYmxlJzogJ2NsaWNrOnJvdzp0YWJsZScsXG4gICAgICAgICAgICAnY2hhbmdlOmlucHV0OnJvdyc6ICdjaGFuZ2U6aW5wdXQ6cm93JyxcbiAgICAgICAgICAgICdjbGljazpyb3c6Y21kOml0ZW0nOiAnY2xpY2s6cm93OmNtZDppdGVtJyxcbiAgICAgICAgICAgICdtb2RlbDpjaGFuZ2VkJzogJ21vZGVsOmNoYW5nZWQnLFxuICAgICAgICAgICAgJ21lbnU6c2hvdyc6ICdtZW51OnNob3cnLFxuICAgICAgICAgICAgJ2hpZGU6bWVudSc6ICdoaWRlOm1lbnUnLFxuICAgICAgICAgICAgJ2NoZWNrOnJvd3M6Zm9yOmhlYWQnOiAnY2hlY2s6cm93czpmb3I6aGVhZCdcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndGFibGUnLFxuICAgICAgICBjbGFzc05hbWU6ICd0YWJsZSB0YWJsZS1ob3ZlcicsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8dGhlYWQ+PHRyPjwvdHI+PC90aGVhZD48dGJvZHk+PC90Ym9keT48dGZvb3Q+PC90Zm9vdD4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBoZWFkOiB7IGVsOiAndGhlYWQgdHInLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9LFxuICAgICAgICAgICAgYm9keTogeyBlbDogJ3Rib2R5JywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIGZvb3Q6ICd0Zm9vdCdcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGVhZCkgdGhpcy5zaG93Q2hpbGRWaWV3KCdoZWFkJywgbmV3IGhlYWRWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5vcHRpb25zLmhlYWQgfSkpO1xuXG4gICAgICAgICAgICB2YXIgY29sc3BhbiA9ICQodGhpcy5vcHRpb25zLnJvd1RlbXBsYXRlKS5zaXplKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnYm9keScsIG5ldyByb3dzVmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgcm93VGVtcGxhdGU6IHRoaXMub3B0aW9ucy5yb3dUZW1wbGF0ZSwgcm93T3B0aW9uczogdGhpcy5vcHRpb25zLnJvd09wdGlvbnMsIGNvbHNwYW46IGNvbHNwYW4gfSkpO1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2Zvb3QnLCBuZXcgZm9vdFZpZXcoe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IHRoaXMub3B0aW9ucy5tZW51Q29sbGVjdGlvbiB8fCBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLFxuICAgICAgICAgICAgICAgIG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IFBBR0VfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogMCxcbiAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogY29sc3BhbixcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGMsIG8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3RhYmxlOmNvbGxlY3Rpb246dXBkYXRlJywgYywgbyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ3RhYmxlOmNvbGxlY3Rpb246cmVzZXQnLCB0aGlzLmNvbGxlY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVnaW9uKCdoZWFkJykuaGFzVmlldygpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZsYWcgPSB0aGlzLmdldENoaWxkVmlldygnaGVhZCcpLiQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykgdGhpcy5jb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uc2V0KCdjaGVja2VkJywgZmxhZyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwZyA9IHRoaXMuY29sbGVjdGlvbi5nZXQoMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGcpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHBnKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZVNpemUgPSBwZy5nZXQoJ3BhZ2VTaXplJykgfHwgUEFHRV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZSA9IHBnLmdldCgncGFnZScpIHx8IHBhcnNlSW50KHRoaXMuY3VycmVudFBhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlcyA9IE1hdGguY2VpbChwZy5nZXQoJ251bScpIC8gcGFnZVNpemUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB0b3RhbFBhZ2VzID0gMDtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdmb290JykubW9kZWwuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogdG90YWxQYWdlc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ2Zvb3QnKS5yZW5kZXIoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHt9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjaGFuZ2U6aW5wdXQ6cm93JzogJ2NoYW5nZTppbnB1dDpyb3cnLFxuICAgICAgICAgICAgLy8nY2xpY2s6cm93OnRhYmxlJzogJ2NsaWNrOnJvdzp0YWJsZScsXG4gICAgICAgICAgICAnY2xpY2s6cm93OmNtZDppdGVtJzogJ3RhYmxlOnJvdzpjbWQnLFxuICAgICAgICAgICAgJ21vZGVsOmNoYW5nZWQnOiAndGFibGU6cm93Om1vZGVsOmNoYW5nZWQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdQYWdlU2VsZWN0OiBmdW5jdGlvbiBvbkNoaWxkdmlld1BhZ2VTZWxlY3QocGFnZSkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdwYWdlOnNlbGVjdCcsIHBhZ2UsIHRoaXMuY29sbGVjdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3RXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjbGljazpoZWFkOmlucHV0JzogZnVuY3Rpb24gY2xpY2tIZWFkSW5wdXQodikge1xuICAgICAgICAgICAgICAgIHZhciAkaSA9IHYuJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKTtcbiAgICAgICAgICAgICAgICAkaS5wcm9wKCdjaGVja2VkJywgISRpLnByb3AoJ2NoZWNrZWQnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgbS5zZXQoJ2NoZWNrZWQnLCAkaS5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoZWNrOnJvd3M6Zm9yOmhlYWQnOiBmdW5jdGlvbiBjaGVja1Jvd3NGb3JIZWFkKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFJlZ2lvbignaGVhZCcpLmhhc1ZpZXcoKSkgaWYgKHRoaXMuY29sbGVjdGlvbi53aGVyZSh7IGNoZWNrZWQ6IHRydWUgfSkubGVuZ3RoID09PSB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB0aGlzLmdldENoaWxkVmlldygnaGVhZCcpLiQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtlbHNlIHRoaXMuZ2V0Q2hpbGRWaWV3KCdoZWFkJykuJCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdtZW51OmNsaWNrOml0ZW0nOiBmdW5jdGlvbiBtZW51Q2xpY2tJdGVtKHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnZm9vdCcpLmdldENoaWxkVmlldygnbWVudScpLiRlbC5wYXJlbnQoXCJkaXZcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2LmNtZCkgdi5jbWQuY2FsbCh0aGlzLCB0aGlzLm1vZGVsc1NlbGVjdGVkLCB2Lm1vZGVsKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdoaWRlOm1lbnUnOiBmdW5jdGlvbiBoaWRlTWVudSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJG0gPSB0aGlzLmdldENoaWxkVmlldygnZm9vdCcpLmdldENoaWxkVmlldygnbWVudScpLiRlbC5wYXJlbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGlmICgkbS5pcyhcIjp2aXNpYmxlXCIpKSAkbS5kZWxheSgzMDApLmhpZGUoMTAwKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdtZW51OnNob3cnOiBmdW5jdGlvbiBtZW51U2hvdyhtLCAkYikge1xuXG4gICAgICAgICAgICAgICAgdmFyIG1lbnUgPSB0aGlzLmdldENoaWxkVmlldygnZm9vdCcpLmdldENoaWxkVmlldygnbWVudScpLFxuICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy5tb2RlbHNTZWxlY3RlZCB8fCBbXTtcblxuICAgICAgICAgICAgICAgIGlmICghXy5maW5kV2hlcmUoYywgeyBpZDogbS5pZCB9KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1NlbGVjdGVkID0gW21dO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoXCJ0ci51aS1zZWxlY3RlZFwiKS5yZW1vdmVDbGFzcyhcInVpLXNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghbWVudS5jb2xsZWN0aW9uIHx8ICFtZW51LmNvbGxlY3Rpb24ubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgJG0gPSBtZW51LiRlbC5wYXJlbnQoXCJkaXZcIiksXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9ICRiLnBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHBvcy50b3AsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBwb3MubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgZHcgPSAkKHdpbmRvdykud2lkdGgoKSAtICRtLndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAkbS5jbGVhclF1ZXVlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zLmxlZnQgKyAkbS53aWR0aCgpID4gZHcpIGxlZnQgPSBkdyAtICRtLndpZHRoKCkgLSAoJCgnYm9keScpLmhhc0NsYXNzKCdscy1vbicpID8gMTIwIDogNSk7XG5cbiAgICAgICAgICAgICAgICAkbS5jc3MoeyAndG9wJzogdG9wLCAnbGVmdCc6IGxlZnQgfSkuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnbG9iYWwuZ3JpZC5kYXRhSXRlbXNWaWV3JywgWydhcHAnLCAnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdjL0NvbnRleHRNZW51VmlldyddLCBmdW5jdGlvbiAoQXBwLCBSZXNvdXJjZXMsIGNvbnRleHRNZW51KSB7XG5cbiAgICB2YXIgSXRlbU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgaWRBdHRyaWJ1dGU6IFwib2JqZWN0X2lkXCJcbiAgICB9KTtcblxuICAgIHZhciBJdGVtc0NvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgICAgIG1vZGVsOiBJdGVtTW9kZWxcbiAgICB9KTtcblxuICAgIHZhciBwYWdpbmdWaWV3ID0gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ3BhZ2luZy1ib3gnLFxuXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8ZGl2IGNsYXNzPVwicGFnaW5hdG9yXCI+PC9kaXY+PGRpdiBjbGFzcz1cInBhZ2luYXRvcl9wYWdlc1wiPjwlLSBSZXNvdXJjZXMuUGFnZXMyICU+OiA8c3Bhbj48JS0gdG90YWxQYWdlcyAlPjwvc3Bhbj48L2Rpdj4nKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgXCJjbGljayBhXCI6IGZ1bmN0aW9uIGNsaWNrQShlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcInBhZ2U6c2VsZWN0XCIsICQoZS50YXJnZXQpLnRleHQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25BdHRhY2g6IGZ1bmN0aW9uIG9uQXR0YWNoKCkge1xuXG4gICAgICAgICAgICB2YXIgbmFtZSA9ICdwYWdpbmF0b3JfJyArIHRoaXMuY2lkO1xuXG4gICAgICAgICAgICB0aGlzLiQoJy5wYWdpbmF0b3InKS5hdHRyKCdpZCcsIG5hbWUpO1xuXG4gICAgICAgICAgICBuZXcgUGFnaW5hdG9yKG5hbWUsIHRoaXMubW9kZWwuZ2V0KCd0b3RhbFBhZ2VzJyksIHRoaXMubW9kZWwuZ2V0KCdwYWdpbmcnKS5wYWdlU2l6ZSwgdGhpcy5tb2RlbC5nZXQoJ3BhZ2luZycpLmN1cnJlbnRQYWdlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGNvbFZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHRhZ05hbWU6ICd0aCcsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8JS0gZGlzcGxheU5hbWUgJT4nKVxuICAgIH0pO1xuXG4gICAgdmFyIGZvb3RlclZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RyJyxcbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzx0ZCBjb2xzcGFuPVwiPCUtIG51bUNvbHMgJT5cIj48ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51XCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5Om5vbmU7ei1pbmRleDoxMDA7XCI+PC9kaXY+PC90ZD4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBtZW51OiAnLmNvbnRleHQtbWVudSdcbiAgICAgICAgfSxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgbWVudTogJy5jb250ZXh0LW1lbnUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ21lbnUnLCBuZXcgY29udGV4dE1lbnUoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgICAgICBcIm1vdXNlZW50ZXIgLmNvbnRleHQtbWVudVwiOiBmdW5jdGlvbiBtb3VzZWVudGVyQ29udGV4dE1lbnUoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkubWVudS5jbGVhclF1ZXVlKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcIm1vdXNlbGVhdmUgLmNvbnRleHQtbWVudVwiOiBmdW5jdGlvbiBtb3VzZWxlYXZlQ29udGV4dE1lbnUoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkubWVudS5kZWxheSgzMDApLmhpZGUoMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgXCJoaWRlOm1lbnVcIjogJ2hpZGU6bWVudScsXG4gICAgICAgICAgICAnbWVudTpjbGljazppdGVtJzogJ21lbnU6Y2xpY2s6aXRlbSdcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGhlYWRWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndHInLFxuXG4gICAgICAgIGNoaWxkVmlldzogY29sVmlldyxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGRWaWV3KG5ldyBjb2xWaWV3KHsgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbCh7IGRpc3BsYXlOYW1lOiBcIuKEllwiIH0pIH0pLCAwKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGRWaWV3KG5ldyBjb2xWaWV3KHsgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbCh7IGRpc3BsYXlOYW1lOiBcIlwiIH0pIH0pKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHJvd1ZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RyJyxcblxuICAgICAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLm9wdGlvbnMuYm9keVRlbXBsYXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdtb3VzZWxlYXZlJzogJ2hpZGU6bWVudScsXG4gICAgICAgICAgICAnY29udGV4dG1lbnUgdGQnOiAnbWVudTpzaG93JyxcbiAgICAgICAgICAgICdjbGljayBidXR0b24uYnRuLWxpbmsnOiAnbWVudTpzaG93JyxcbiAgICAgICAgICAgICdjbGljayB0ZCc6ICdyb3c6Y29sOnRyaWdnZXInLFxuICAgICAgICAgICAgJ2NsaWNrIGEnOiB7XG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdjbGljazpsaW5rJyxcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5kYXRhKFwiaWRcIiwgdGhpcy5tb2RlbC5pZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgXCJjaGFuZ2U6U3RhdGVcIjogZnVuY3Rpb24gY2hhbmdlU3RhdGUobSwgdikge1xuICAgICAgICAgICAgICAgIHRoaXMuJChcInRkW2RhdGEtbmFtZT0nc3RhdGUnXVwiKS50ZXh0KHYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBib2R5VmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3Rib2R5JyxcblxuICAgICAgICBjaGlsZFZpZXc6IHJvd1ZpZXcsXG5cbiAgICAgICAgZW1wdHlWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgICB0YWdOYW1lOiAndHInLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnaW5mbycsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHRkIGNvbHNwYW49XCIxMjBcIj4nICsgUmVzb3VyY2VzLm5vZGF0YSArICc8L3RkPicpXG4gICAgICAgIH0pLFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwiY2hhbmdlOmNvbGxlY3Rpb25cIiwgdGhpcy5jb2xsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG1vZGVsLCBpbmRleCkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSgpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3RhdHVzc2V0ID0gW1wiXCIsIFwiZ3JlZW5cIiwgXCJ5ZWxsb3dcIiwgXCJyZWRcIiwgXCJncmV5XCJdLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZXNldCA9IFtcIlwiLCBSZXNvdXJjZXMud29ya2luZywgUmVzb3VyY2VzLmZmLCBSZXNvdXJjZXMudG0sIFJlc291cmNlcy5hcl0sXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UgPSBwYXJzZUludCh0aGlzLm9wdGlvbnMucGFnaW5hdGlvbi5jdXJyZW50UGFnZSkgKiB0aGlzLm9wdGlvbnMucGFnaW5hdGlvbi5wYWdlU2l6ZSAtIHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uLnBhZ2VTaXplICsgMTtcblxuICAgICAgICAgICAgICAgIG1vZGVsLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIFwiTnVtXCI6IGluZGV4ICsgcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgU3RhdHVzSWNvbjogc3RhdHVzc2V0W21vZGVsLmdldChcInN0YXR1c1wiKV0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZXNldFttb2RlbC5nZXQoXCJzdGF0ZVwiKV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHsgYm9keVRlbXBsYXRlOiB0aGlzLm9wdGlvbnMuYm9keVRlbXBsYXRlIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25BdHRhY2g6IGZ1bmN0aW9uIG9uQXR0YWNoKCkge1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5zZWxlY3RhYmxlKHtcbiAgICAgICAgICAgICAgICBjYW5jZWw6IFwiYSwgYnV0dG9uLmJ0bi1saW5rLCBzcGFuXCIsXG4gICAgICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoXCJ0ci51aS1zZWxlY3RlZFwiKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2godGhpcy5jb2xsZWN0aW9uLmdldCgkKGUpLmRhdGEoXCJpZFwiKSkpO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcInN0b3A6c2VsZWN0YWJsZVwiLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnbWVudTpzaG93JzogJ21lbnU6c2hvdycsXG4gICAgICAgICAgICAncm93OmNvbDp0cmlnZ2VyJzogJ3Jvdzpjb2w6dHJpZ2dlcicsXG4gICAgICAgICAgICAnY2xpY2s6bGluayc6ICdjbGljazpsaW5rJ1xuXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciB0YWJsZVZpZXcgPSBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgdGFnTmFtZTogJ3RhYmxlJyxcblxuICAgICAgICBjbGFzc05hbWU6ICd0YWJsZSBpbnF1aXJ5IHRhYmxlLWhvdmVyIGxpc3QnLFxuXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8dGhlYWQ+PC90aGVhZD48dGJvZHk+PC90Ym9keT48dGZvb3Q+PC90Zm9vdD4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG5cbiAgICAgICAgICAgIGhlYWQ6ICd0aGVhZCcsXG5cbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBlbDogJ3Rib2R5JyxcbiAgICAgICAgICAgICAgICByZXBsYWNlRWxlbWVudDogdHJ1ZVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZm9vdGVyOiAndGZvb3QnXG4gICAgICAgIH0sXG5cbiAgICAgICAgY29sbGVjdGlvbkV2ZW50czoge1xuXG4gICAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoY29sbGVjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0aW9uLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJvZHlUZW1wbGF0ZSA9IFwiPHRkPjwlLSBOdW0gJT48L3RkPlwiO1xuXG4gICAgICAgICAgICAgICAgdmFyIHIgPSBjb2xsZWN0aW9uLmF0KDApO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gci5oYXMoJ2ZlZWQnKSA/IG5ldyBCYWNrYm9uZS5Nb2RlbChyLmdldCgnZmVlZCcpKSA6IHIsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb24gPSBtb2RlbC5nZXQoJ3BhZ2luYXRpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZCA9IF8uZmlsdGVyKG1vZGVsLmdldChcImhlYWRcIiksIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuaXNWaXNpYmxlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzeXN0ZW1OYW1lID0gZS5zeXN0ZW1OYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHRoaXMub3B0aW9ucy5wYXRoIHx8IEJhY2tib25lLmhpc3RvcnkuZnJhZ21lbnQgfHwgJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzeXN0ZW1OYW1lID09PSBcImRpc3BsYXlfbmFtZVwiIHx8IHN5c3RlbU5hbWUgPT09IFwidGl0bGVcIikgYm9keVRlbXBsYXRlICs9IFwiPHRkIGRhdGEtbmFtZT0nXCIgKyBzeXN0ZW1OYW1lICsgXCInPjwlIGlmKGhyZWYpeyAlPjxhIGhyZWY9JyNcIiArIHBhdGggKyBcIi88JS0gb2JqZWN0X2lkICU+Jz48JS0gXCIgKyBzeXN0ZW1OYW1lICsgXCIgJT48L2E+PCUgfWVsc2V7ICU+PCUtIFwiICsgc3lzdGVtTmFtZSArIFwiICU+PCUgfSAlPjwvdGQ+XCI7ZWxzZSBpZiAoc3lzdGVtTmFtZSA9PT0gXCJzdGF0dXNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlUZW1wbGF0ZSArPSBcIjx0ZCBkYXRhLW5hbWU9J1wiICsgc3lzdGVtTmFtZSArIFwiJz48c3BhbiBjbGFzcz0nc3RhdHVzLWljb24gPCUtIFN0YXR1c0ljb24gJT4nPjwvc3Bhbj48JSBpZihkb3NzaWVyKXsgJT48c3BhbiBkYXRhLWljb249J2ljb24tbm90ZSc+PC9zcGFuPjwlIH0gJT48L3RkPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzeXN0ZW1OYW1lID09PSAnY3JlYXRlZGRhdGUnIHx8IHN5c3RlbU5hbWUgPT09ICdjZGF0ZScgfHwgc3lzdGVtTmFtZSA9PT0gJ2pvYmNkYXRlJykgYm9keVRlbXBsYXRlICs9IFwiPHRkIGRhdGEtbmFtZT0nXCIgKyBzeXN0ZW1OYW1lICsgXCInPjwlLSBEYXRlLnBhcnNlKFwiICsgc3lzdGVtTmFtZSArIFwiKT8gbmV3IERhdGUoXCIgKyBzeXN0ZW1OYW1lICsgXCIpLnRvTG9jYWxlU3RyaW5nKFJlc291cmNlcy5MYW5nKSA6ICcnICAlPjwvdGQ+XCI7ZWxzZSBib2R5VGVtcGxhdGUgKz0gXCI8dGQgZGF0YS1uYW1lPSdcIiArIHN5c3RlbU5hbWUgKyBcIic+PCUtIFwiICsgc3lzdGVtTmFtZSArIFwiICU+PC90ZD5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmlzVmlzaWJsZTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmhpZGVCdXR0b24pIGJvZHlUZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz0nY29udHJvbHMnPjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuLWxpbmsgZy1mb3JtLS1jb250ZXh0Jz48c3ZnPjx1c2UgeGxpbms6aHJlZj0nI2ljb24tYnVyZ2VyLW1lbnUnPjwvdXNlPjwvc3ZnPjwvYnV0dG9uPjwvdGQ+XCI7ZWxzZSBib2R5VGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9J2NvbnRyb2xzJz48L3RkPlwiO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdoZWFkJywgbmV3IGhlYWRWaWV3KHsgY29sbGVjdGlvbjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oaGVhZCkgfSkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdib2R5JywgbmV3IGJvZHlWaWV3KHsgY29sbGVjdGlvbjogbmV3IEl0ZW1zQ29sbGVjdGlvbigkLnByZXBhcmUobW9kZWwuZ2V0KCdpdGVtcycpKSksIHBhZ2luYXRpb246IHBhZ2luYXRpb24sIGJvZHlUZW1wbGF0ZTogYm9keVRlbXBsYXRlIH0pKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnZm9vdGVyJywgbmV3IGZvb3RlclZpZXcoeyBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHsgbnVtQ29sczogaGVhZC5sZW5ndGggKyAyIH0pLCBjb2xsZWN0aW9uOiB0aGlzLm9wdGlvbnMubWVudUNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKFwibGlzdDppbml0XCIsIHBhZ2luYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAncm93OmNvbDp0cmlnZ2VyJzogJ3Jvdzpjb2w6dHJpZ2dlcicsXG4gICAgICAgICAgICAnY2hhbmdlOmNvbGxlY3Rpb24nOiAnY2hhbmdlOmNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgJ2NsaWNrOmxpbmsnOiAnY2xpY2s6bGluaydcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdFdmVudHM6IHtcblxuICAgICAgICAgICAgJ21lbnU6Y2xpY2s6aXRlbSc6IGZ1bmN0aW9uIG1lbnVDbGlja0l0ZW0odikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ2Zvb3RlcicpLmdldENoaWxkVmlldygnbWVudScpLiRlbC5wYXJlbnQoXCJkaXZcIikuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHYuY21kKSB2LmNtZC5jYWxsKHRoaXMsIHRoaXMubW9kZWxzU2VsZWN0ZWQsIHYubW9kZWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2hpZGU6bWVudSc6IGZ1bmN0aW9uIGhpZGVNZW51KCkge1xuXG4gICAgICAgICAgICAgICAgdmFyICRtID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2Zvb3RlcicpLmdldENoaWxkVmlldygnbWVudScpLiRlbC5wYXJlbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRtLmlzKFwiOnZpc2libGVcIikpICRtLmRlbGF5KDMwMCkuaGlkZSgxMDApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ21lbnU6c2hvdyc6IGZ1bmN0aW9uIG1lbnVTaG93KHYpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtID0gdi5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgbWVudSA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdmb290ZXInKS5nZXRDaGlsZFZpZXcoJ21lbnUnKSxcbiAgICAgICAgICAgICAgICAgICAgYyA9IHRoaXMubW9kZWxzU2VsZWN0ZWQgfHwgW107XG5cbiAgICAgICAgICAgICAgICBpZiAoIV8uZmluZFdoZXJlKGMsIHsgaWQ6IG0uaWQgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbHNTZWxlY3RlZCA9IFttXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kKFwidHIudWktc2VsZWN0ZWRcIikucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2LiRlbC5hZGRDbGFzcyhcInVpLXNlbGVjdGVkXCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFtZW51LmNvbGxlY3Rpb24gfHwgIW1lbnUuY29sbGVjdGlvbi5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZhciAkbSA9IG1lbnUuJGVsLnBhcmVudChcImRpdlwiKSxcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ3RkJykucG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gcG9zLnRvcCArIGV2ZW50Lm9mZnNldFkgKyAkKCcud29ya2JlbmNoLS1jb250ZW50Jykuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBwb3MubGVmdCArIGV2ZW50Lm9mZnNldFgsXG4gICAgICAgICAgICAgICAgICAgIGR3ID0gJCh3aW5kb3cpLndpZHRoKCkgLSAkbS53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgJG0uY2xlYXJRdWV1ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvcy5sZWZ0ICsgJG0ud2lkdGgoKSA+IGR3KSBsZWZ0ID0gZHcgLSAkbS53aWR0aCgpIC0gNjA7XG5cbiAgICAgICAgICAgICAgICAkbS5jc3MoeyAndG9wJzogdG9wLCAnbGVmdCc6IGxlZnQgfSkuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnc3RvcDpzZWxlY3RhYmxlJzogZnVuY3Rpb24gc3RvcFNlbGVjdGFibGUobW9kZWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1zID0gXy5jb21wYWN0KG1vZGVscyk7XG4gICAgICAgICAgICAgICAgaWYgKG1zLmxlbmd0aCkgdGhpcy5tb2RlbHNTZWxlY3RlZCA9IG1zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKCc8dGFibGU+PC90YWJsZT48ZGl2IGNsYXNzPVwicGFnaW5nLWJveFwiPjwvZGl2PicpLFxuXG4gICAgICAgIHJlZ2lvbnM6IHtcbiAgICAgICAgICAgIHRhYmxlOiB7XG4gICAgICAgICAgICAgICAgZWw6ICd0YWJsZScsXG4gICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYWdpbmc6IHtcbiAgICAgICAgICAgICAgICBlbDogJy5wYWdpbmctYm94JyxcbiAgICAgICAgICAgICAgICByZXBsYWNlRWxlbWVudDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCd0YWJsZScsIG5ldyB0YWJsZVZpZXcodGhpcy5vcHRpb25zKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdMaXN0SW5pdDogZnVuY3Rpb24gb25DaGlsZHZpZXdMaXN0SW5pdChwYWdpbmcpIHtcblxuICAgICAgICAgICAgdmFyIHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwocGFnaW5nLnRvdGFsSXRlbXMgLyBwYWdpbmcucGFnZVNpemUpO1xuXG4gICAgICAgICAgICBpZiAodG90YWxQYWdlcyA+IDEpIHRoaXMuc2hvd0NoaWxkVmlldygncGFnaW5nJywgbmV3IHBhZ2luZ1ZpZXcoeyBtb2RlbDogbmV3IEJhY2tib25lLk1vZGVsKHsgdG90YWxQYWdlczogdG90YWxQYWdlcywgcGFnaW5nOiBwYWdpbmcgfSkgfSkpO2Vsc2UgdGhpcy5nZXRSZWdpb24oJ3BhZ2luZycpLmVtcHR5KCk7XG5cbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZChcImFmdGVyOmxvYWRcIiwgcGFnaW5nLnRvdGFsSXRlbXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3UGFnZVNlbGVjdDogZnVuY3Rpb24gb25DaGlsZHZpZXdQYWdlU2VsZWN0KG51bSkge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnVybCA9ICQubWVyZ2VVcmxQYXJhbSh0aGlzLmNvbGxlY3Rpb24udXJsLCB7IHBhZ2U6IG51bSB9KTtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAncm93OmNvbDp0cmlnZ2VyJzogJ3Jvdzpjb2w6dHJpZ2dlcicsXG4gICAgICAgICAgICAnY2xpY2s6bGluayc6ICdjbGljazpsaW5rJyxcbiAgICAgICAgICAgICdjaGFuZ2U6Y29sbGVjdGlvbic6ICdjaGFuZ2U6Y29sbGVjdGlvbicsXG4gICAgICAgICAgICAnYWN0aW9uOmZyb206bWVudSc6ICdhY3Rpb246ZnJvbTptZW51J1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZGVmaW5lKCdnbG9iYWwudmlldy5kcm9wRG93bicsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbiddLCBmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XG5cbiAgICAvKlxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciAtIGN1cnJlbnQgYWx3YXlzXHJcbiAgICAgICovXG5cbiAgICB2YXIgZHJvcERvd25JdGVtVmlldyA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdpdGVtJyxcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPCUtIHRpdGxlICU+PGRpdiBjbGFzcz1cIm1hbmFnZVwiPjwvZGl2PicpLFxuXG4gICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2snOiAnY2xpY2s6aXRlbScsXG4gICAgICAgICAgICAnY2xpY2sgLm1hbmFnZSBzcGFuJzogJ2NsaWNrOmNtZCdcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnaWNvbicpKSB0aGlzLiRlbC5hdHRyKCdkYXRhLWljb24nLCB0aGlzLm1vZGVsLmdldCgnaWNvbicpKTtlbHNlIHRoaXMuJGVsLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLWJsYW5rJyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnY21kJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCd0b29scycsIHRoaXMubW9kZWwuZ2V0KCdjbWQnKS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIF8uZWFjaCh0aGlzLm1vZGVsLmdldCgnY21kJyksIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJCgnLm1hbmFnZScpLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCInICsgYyArICdcIj48L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBkcm9wRG93bkl0ZW1zVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1kcm9wZG93bi0tY29udGFpbmVyJyxcblxuICAgICAgICBjaGlsZFZpZXc6IGRyb3BEb3duSXRlbVZpZXcsXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwibW91c2VlbnRlclwiOiBmdW5jdGlvbiBtb3VzZWVudGVyKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmNsZWFyUXVldWUoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFwibW91c2VsZWF2ZVwiOiBmdW5jdGlvbiBtb3VzZWxlYXZlKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuZGVsYXkoMTAwMCkuc2xpZGVVcCgxNTAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdjb250YWluZXI6bW91c2VsZWF2ZScpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljazpjbWQnOiAnY2xpY2s6Y21kJyxcbiAgICAgICAgICAgICdjbGljazppdGVtJzogJ2NsaWNrOml0ZW0nXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1kcm9wZG93bi0tbWVudScsXG5cbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzxkaXYgY2xhc3M9XCJnLWRyb3Bkb3duLS1wbGFjZWhvbGRlclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJnLWRyb3Bkb3duLS1jb250YWluZXJcIj48L2Rpdj4nKSxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICcuZy1kcm9wZG93bi0tcGxhY2Vob2xkZXInXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaW9uczoge1xuXG4gICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICBlbDogJy5nLWRyb3Bkb3duLS1jb250YWluZXInLCByZXBsYWNlRWxlbWVudDogdHJ1ZVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgY3VycmVudDogJ0B1aS5wbGFjZWhvbGRlcidcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBuZXcgQmFja2JvbmUuTW9kZWwoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB0aGlzLnNob3dDaGlsZFZpZXcoJ2N1cnJlbnQnLCBuZXcgZHJvcERvd25JdGVtVmlldyh7IG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoeyB0aXRsZTogJy4uLicsIGlkOiBudWxsIH0pIH0pKTtlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBuZXcgZHJvcERvd25JdGVtVmlldyh7IG1vZGVsOiB0aGlzLmNvbGxlY3Rpb24uYXQoMCkgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnY3VycmVudCcsIHYpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJlbnQodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYWRkQ2xhc3MnKSkgdGhpcy4kZWwuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFkZENsYXNzKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdjb250YWluZXInLCBuZXcgZHJvcERvd25JdGVtc1ZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLnBsYWNlaG9sZGVyLmh0bWwodGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0aW9uICYmIHRoaXMuY29sbGVjdGlvbi5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IG5ldyBkcm9wRG93bkl0ZW1WaWV3KHsgbW9kZWw6IHRoaXMuY29sbGVjdGlvbi5hdCgwKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdjdXJyZW50Jywgdik7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zZXRDdXJyZW50KHYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNob3dDaGlsZFZpZXcoJ2N1cnJlbnQnLCBuZXcgZHJvcERvd25JdGVtVmlldyh7IG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwoeyB0aXRsZTogJy4uLicsIGlkOiBudWxsIH0pIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbkF0dGFjaDogZnVuY3Rpb24gb25BdHRhY2goKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxlY3Rpb24gJiYgdGhpcy5jb2xsZWN0aW9uLmxlbmd0aCkgdGhpcy5zZXRDdXJyZW50KHRoaXMub3B0aW9ucy5jdXJyZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIFwiY2xpY2sgLmctZHJvcGRvd24tLXBsYWNlaG9sZGVyXCI6ICdleHBhbmQnXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljazpjbWQnOiAnZHJvcGRvd246Y2xpY2s6Y21kJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld0V2ZW50czoge1xuXG4gICAgICAgICAgICAnY29udGFpbmVyOm1vdXNlbGVhdmUnOiBmdW5jdGlvbiBjb250YWluZXJNb3VzZWxlYXZlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCgnLmctZHJvcGRvd24tLXBsYWNlaG9sZGVyJykucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6IGZ1bmN0aW9uIGNsaWNrSXRlbSh2aWV3KSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlldy5tb2RlbC5pZCAhPT0gdGhpcy5jdXJyZW50LmlkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8g0YTRg9C90LrRhtC40Y8g0LIg0LzQvtC00LXQu9C4XG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3Lm1vZGVsLmhhcygnZm4nKSkgdmlldy5tb2RlbC5nZXQoJ2ZuJykuY2FsbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudCh2aWV3KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRDaGlsZFZpZXcoJ2NvbnRhaW5lcicpKSB0aGlzLmdldENoaWxkVmlldygnY29udGFpbmVyJykuJGVsLnNsaWRlVXAoMTUwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQoJy5nLWRyb3Bkb3duLS1wbGFjZWhvbGRlcicpLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLmV4cGFuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGV4cGFuZDogZnVuY3Rpb24gZXhwYW5kKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCAmJiAhdGhpcy4kZWwuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKSkgdGhpcy4kKCcuZy1kcm9wZG93bi0tcGxhY2Vob2xkZXInKS50b2dnbGVDbGFzcygnZXhwYW5kZWQnKS5uZXh0KCcuZy1kcm9wZG93bi0tY29udGFpbmVyJykuY2xlYXJRdWV1ZSgpLnNsaWRlVG9nZ2xlKDE1MCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0Q3VycmVudDogZnVuY3Rpb24gc2V0Q3VycmVudCh2KSB7XG5cbiAgICAgICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2NvbnRhaW5lcicpLFxuICAgICAgICAgICAgICAgIGN2ID0gdGhpcy5nZXRDaGlsZFZpZXcoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYS4kZWwucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiB2ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2KSkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnkgaWQgaXRlbVxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci5jb2xsZWN0aW9uLmdldCh2KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHYgPSBjb250YWluZXIuY2hpbGRyZW4uZmluZEJ5TW9kZWwobSk7ZWxzZSByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2Lm1vZGVsO1xuICAgICAgICAgICAgICAgIHYuJGVsLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN2Lm1vZGVsLmlkICE9PSB2Lm1vZGVsLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGN2Lm1vZGVsID0gdi5tb2RlbDtcbiAgICAgICAgICAgICAgICAgICAgY3YucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoXCJkcm9wZG93bjpzZWxlY3RcIiwgdi5tb2RlbCwgdGhpcy5vcHRpb25zLm5hbWUpO1xuXG4gICAgICAgICAgICAvL3RoaXMudHJpZ2dlck1ldGhvZChcImRyb3Bkb3duOnNlbGVjdFwiLCB2KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdnbG9iYWwubW9kZWwuZGlhbG9nJywgW10sIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzOiBmdW5jdGlvbiBkZWZhdWx0cygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b09wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWw6IGZhbHNlLCAvLyDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4gIFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogbnVsbCwgLy8g0LLQu9C+0LbQtdC90L3QsNGPINCyINC60L7QvdGC0LXQvdGCINCy0YzRjtGF0LAgKGluaXRpYWxpemVkKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2RlZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGVmJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWF4JywgICAgICAgICAgLy8gbWF4IHBhcmVudCByZWxhdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZWQnLCAgICAgICAgICAvLyBtZWRpdW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluJywgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JpZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bGwnICAgICAgICAgIC8vIGZ1bGxzY3JlZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3llbGxvdycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dyZWVuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmx1ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZvbGRlcicsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aW5kZXg6IDAsIC8vIHotaW5kZXggcHJvcCBjc3NcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlOiBmYWxzZSwgLy8gY3Vyc29yOiBtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZTogLy8g0LjQutC+0L3QutC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC+0LrQvdC+0LxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3sgaWQ6ICdjbG9zZScgfSwgeyBpZDogJ3NpemUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLydtZW51JyAgICAvLyDQtNC+0LHQsNCy0LvRj9C10YLRgdGPINC10YHQu9C4IGNvbnRleHQubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFyOiBudWxsLCAvLyDQv9GA0LDQstCw0Y8g0L/QsNC90LXQu9GMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbnVsbCwgLy8g0YHQvtC00LXRgNC20LjQvNC+0LUg0L7QutC90LBcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCksIC8vINC/0LDQvdC10LvRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LJcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCksIC8vINC60L7QvdGC0LXQutGB0YLQvdC+0LUg0LzQtdC90Y5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29udGV4dDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLCAvLyDQutC90L7Qv9C60Lgg0LIg0L3QuNC20L3QtdC5INC/0LDQvdC10LvQuFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZ2xvYmFsLnZpZXcuZGlhbG9nJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC5tb2RlbC5kaWFsb2cnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgZGlhbG9nTW9kZWwpIHtcblxuICAgIHZhciBaX0lOREVYID0gOTAwMDtcblxuICAgIHZhciBmb290ZXJWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdnLWRpYWxvZy0tZm9vdGVyJyxcblxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuXG4gICAgICAgICAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCd0ZW1wbGF0ZScpKSByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLm1vZGVsLmdldCgndGVtcGxhdGUnKSk7ZWxzZSByZXR1cm4gXy50ZW1wbGF0ZSgnPGJ1dHRvbiBuYW1lPVwiPCUtIGlkICU+XCIgY2xhc3M9XCJnLWZvcm0tLWJ1dHRvbiBmbGF0IDwlLSBjbGFzc05hbWUgJT5cIj48JS0gdGl0bGUgJT48L2J1dHRvbj4nKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgICdjbGljayBpbnB1dFt0eXBlPWNoZWNrYm94XSc6IGZ1bmN0aW9uIGNsaWNrSW5wdXRUeXBlQ2hlY2tib3goZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnc2VsZWN0ZWQnLCAkKGUudGFyZ2V0KS5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIGJ1dHRvbjpub3QoLmRpc2FibGVkKSc6ICdmb290ZXI6YnV0dG9uOmNsaWNrJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgICAgICdjaGFuZ2U6c2VsZWN0ZWQnOiBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZChtLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdzZWxlY3RlZCcpKSB0aGlzLiQoJ2lucHV0W3R5cGUgPSBjaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgdGhpcy5tb2RlbC5nZXQoJ3NlbGVjdGVkJykpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZXh0OiBmdW5jdGlvbiB0ZW1wbGF0ZUNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmlld2lkOiB0aGlzLmNpZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcblxuICAgICAgICAgICAgaWYgKCFtLmhhcygnY2xhc3NOYW1lJykpIG0uc2V0KCdjbGFzc05hbWUnLCAnJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25Gb290ZXJCdXR0b25DbGljazogZnVuY3Rpb24gb25Gb290ZXJCdXR0b25DbGljayhyKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NvbnRlbnQ6cmVmbGVjdCcsIHIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnZm9vdGVyOmJ1dHRvbjpjbGljayc6ICdmb290ZXI6YnV0dG9uOmNsaWNrJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdG9vbHNWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndWwnLFxuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICB0YWdOYW1lOiAnbGknLFxuXG4gICAgICAgICAgICBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ3RlbXBsYXRlJykpIHJldHVybiBfLnRlbXBsYXRlKHRoaXMubW9kZWwuZ2V0KCd0ZW1wbGF0ZScpKTtlbHNlIHJldHVybiBfLnRlbXBsYXRlKCc8c3BhbiBuYW1lPVwiPCUtIGlkICU+XCIgdGl0bGU9XCI8JS0gY2FwdGlvbiAlPlwiIHRvb2xiYXItaWNvbj1cIjwlLSBpY29uICU+XCIgY2xhc3M9XCI8JS0gY2xhc3NOYW1lICU+XCI+PGk+PCUtIHRpdGxlICU+PC9pPjwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIDpub3QoLmRpc2FibGVkKSc6ICd0b29sYmFyOml0ZW06Y2xpY2snLFxuICAgICAgICAgICAgICAgICdpbnB1dCBpbnB1dCc6ICd0b29sYmFyOmlucHV0OmtleXVwJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcygnY2xhc3NOYW1lJykpIHRoaXMubW9kZWwuc2V0KCdjbGFzc05hbWUnLCB0aGlzLm1vZGVsLmlkKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tb2RlbC5oYXMoJ2ljb24nKSkgdGhpcy5tb2RlbC5zZXQoJ2ljb24nLCB0aGlzLm1vZGVsLmdldCgnY2xhc3NOYW1lJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcygndGl0bGUnKSkgdGhpcy5tb2RlbC5zZXQoJ3RpdGxlJywgJycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcygnY2FwdGlvbicpKSB0aGlzLm1vZGVsLnNldCgnY2FwdGlvbicsIHRoaXMubW9kZWwuZ2V0KCd0aXRsZScpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ2Rpc2FibGVkJykpIHRoaXMuJGVsLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIG9uVG9vbGJhckl0ZW1DbGljazogZnVuY3Rpb24gb25Ub29sYmFySXRlbUNsaWNrKHIpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnY29udGVudDpyZWZsZWN0Jywgcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25Ub29sYmFySW5wdXRLZXl1cDogZnVuY3Rpb24gb25Ub29sYmFySW5wdXRLZXl1cChyKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2NvbnRlbnQ6cmVmbGVjdCcsIHIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAndG9vbGJhcjppdGVtOmNsaWNrJzogJ3Rvb2xiYXI6aXRlbTpjbGljaycsXG4gICAgICAgICAgICAndG9vbGJhcjppbnB1dDprZXl1cCc6ICd0b29sYmFyOmlucHV0OmtleXVwJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGMpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgndG9vbGJhcjp1cGRhdGUnLCBjKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge31cblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgYnV0dG9uc1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ3JvdycsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ctZm9ybS0tYnV0dG9uJyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdidXR0b24nLFxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJzwlLSB0aXRsZSAlPicpLFxuXG4gICAgICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdjbGFzc05hbWUnKSkgdGhpcy4kZWwuYWRkQ2xhc3ModGhpcy5tb2RlbC5nZXQoJ2NsYXNzTmFtZScpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogJ2NsaWNrOmJ1dHRvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljazpidXR0b24nOiAnY2xpY2s6YnV0dG9uJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbm90aWZ5VmlldyA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICBjbGFzc05hbWU6ICdnLWRpYWxvZy0tcHJvbXQnLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHNwYW4+PC9zcGFuPjxkaXY+PC9kaXY+JyksXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgYnV0dG9uczogeyBlbDogJ2RpdicsIHJlcGxhY2VFbGVtZW50OiB0cnVlIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnYnV0dG9ucycsIG5ldyBidXR0b25zVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCkgfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ2hpbGR2aWV3Q2xpY2tCdXR0b246IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q2xpY2tCdXR0b24oYikge1xuXG4gICAgICAgICAgICBpZiAoYi5tb2RlbC5pZCA9PT0gJ2RlbGV0ZScgJiYgdGhpcy5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kZWwuc2xpZGVVcCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dOb3RpZnk6IGZ1bmN0aW9uIHNob3dOb3RpZnkodGV4dCkge1xuXG4gICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnYnV0dG9ucycpLmNvbGxlY3Rpb24ucmVzZXQoW3sgaWQ6ICdvaycsIHRpdGxlOiAnT2snLCBjbGFzc05hbWU6ICdibHVlIHNtYWxsIGZsYXQnIH1dKTtcbiAgICAgICAgICAgIHRoaXMuJCgnc3BhbicpLmh0bWwodGV4dCk7XG4gICAgICAgICAgICB0aGlzLiRlbC5zbGlkZURvd24oMTUwKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnbm90aWNlOnNob3c6bWVzc2FnZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dDb25maXJtOiBmdW5jdGlvbiBzaG93Q29uZmlybSh0ZXh0LCBmeCwgY3R4KSB7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdidXR0b25zJykuY29sbGVjdGlvbi5yZXNldChbeyBpZDogJ2RlbGV0ZScsIHRpdGxlOiBSZXNvdXJjZXMuZGVsLCBjbGFzc05hbWU6ICdyaWdodHNtYWxsIGZsYXQgYmx1ZScgfSwgeyBpZDogJ2NhbmNlbCcsIHRpdGxlOiBSZXNvdXJjZXMuY2FuY2VsLCBjbGFzc05hbWU6ICdsZWZ0IHNtYWxsIGZsYXQnIH1dKTtcblxuICAgICAgICAgICAgdGhpcy4kKCdzcGFuJykuaHRtbCh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmeDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGN0eDtcbiAgICAgICAgICAgIHRoaXMuJGVsLnNsaWRlRG93bigxNTApO1xuXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ25vdGljZTpzaG93Om1lc3NhZ2UnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrOmJ1dHRvbic6ICdub3RpY2U6Y2xpY2s6YnV0dG9uJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbWFuYWdlVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1kaWFsb2ctLW1hbmFnZScsXG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIHRhZ05hbWU6ICdpJyxcblxuICAgICAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUoJycpLFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayc6ICdtYW5hZ2U6aXRlbTpjbGljaydcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcyh0aGlzLm1vZGVsLmlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ21hbmFnZTppdGVtOmNsaWNrJzogJ21hbmFnZTppdGVtOmNsaWNrJ1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnZy1kaWFsb2ctLXdyYXBwZXInLFxuICAgICAgICB0ZW1wbGF0ZTogJyNkaWFsb2ctd2luZG93LXRlbXBsYXRlJyxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgaGVhZGVyOiAnLmctZGlhbG9nLS1oZWFkZXInLFxuICAgICAgICAgICAgdGl0bGU6ICcuZy1kaWFsb2ctLXRpdGxlJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcuZy1kaWFsb2ctLWNvbnRlbnQnLFxuICAgICAgICAgICAgYmxvY2tlcjogJy5nLWRpYWxvZy0tYmxvY2tlcidcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBub3RpZnk6IHsgZWw6ICcuZy1kaWFsb2ctLXByb210JywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIHRvb2xiYXI6ICcuZy10b29sYmFyJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdAdWkuY29udGVudCcsXG4gICAgICAgICAgICBzaWRlYmFyOiAnLmctZGlhbG9nLS1zaWRlYmFyJyxcbiAgICAgICAgICAgIGZvb3RlcjogeyBlbDogJy5nLWRpYWxvZy0tZm9vdGVyJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIG1hbmFnZTogeyBlbDogJy5nLWRpYWxvZy0tbWFuYWdlJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLm1vZGVsKSB0aGlzLm1vZGVsID0gbmV3IGRpYWxvZ01vZGVsKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW9kZWxFdmVudHM6IHtcblxuICAgICAgICAgICAgJ2NoYW5nZTpjb250ZW50JzogZnVuY3Rpb24gY2hhbmdlQ29udGVudChtLCB2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRSZWdpb24oJ2NvbnRlbnQnKS5zaG93KHYpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTp0aXRsZSc6IGZ1bmN0aW9uIGNoYW5nZVRpdGxlKG0sIHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnRpdGxlLmh0bWwodik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOmljb24nOiBmdW5jdGlvbiBjaGFuZ2VJY29uKG0sIHYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLnRpdGxlLmF0dHIoJ2RhdGEtaWNvbicsICdpY29uLScgKyB2KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjaGFuZ2U6c2hvd0NvbnRleHQnOiBmdW5jdGlvbiBjaGFuZ2VTaG93Q29udGV4dChtLCB2KSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCdjb250ZXh0Jywgdik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOnNpemUnOiBmdW5jdGlvbiBjaGFuZ2VTaXplKG0sIHYpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLiRlbC5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy4kZWwucG9zaXRpb24oKS5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy4kZWwud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLiRlbC5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYXR0cignc2l6ZScsIHYpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHYgPT09ICdtYXgnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuY3NzKHsgbGVmdDogMCwgdG9wOiA0NSwgd2lkdGg6ICcnLCBoZWlnaHQ6ICcnLCB0cmFuc2Zvcm06ICdpbml0aWFsJyB9KS5kcmFnZ2FibGUoKS5kcmFnZ2FibGUoXCJkZXN0cm95XCIpLnJlc2l6YWJsZSgpLnJlc2l6YWJsZShcImRlc3Ryb3lcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHRoaXMubW9kZWwucHJldmlvdXNBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHAubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdERyYWdBbmRSZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ3NpemUnLCB0aGlzLm1vZGVsLmdldCgnc2l6ZScpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ2Zvb3RlcicsICEhdGhpcy5tb2RlbC5nZXQoJ2Zvb3RlcicpLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCd0b29sYmFyJywgISF0aGlzLm1vZGVsLmdldCgndG9vbGJhcicpLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCdtb2RhbCcsICEhdGhpcy5tb2RlbC5nZXQoJ21vZGFsJykpO1xuICAgICAgICAgICAgdGhpcy4kZWwuYXR0cignY29udGV4dCcsIHRoaXMubW9kZWwuZ2V0KCdzaG93Q29udGV4dCcpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ2hlYWRlcicsIHRoaXMubW9kZWwuZ2V0KCdjb2xvcicpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCd6aW5kZXgnKSkgdGhpcy4kZWwuY3NzKCd6SW5kZXgnLCBaX0lOREVYICsgdGhpcy5tb2RlbC5nZXQoJ3ppbmRleCcpKTtcblxuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLm1vZGVsLmdldCgnc2l6ZScpO1xuXG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gJ2Z1bGwnKSB0aGlzLl9pbml0RHJhZ0FuZFJlc2l6ZSgpO2Vsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCdoZWFkZXInKS5tYW5hZ2UgPSBbeyBpZDogJ2Nsb3NlJyB9XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdtYW5hZ2UnLCBuZXcgbWFuYWdlVmlldyh7IGNvbGxlY3Rpb246IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKHRoaXMubW9kZWwuZ2V0KCdoZWFkZXInKS5tYW5hZ2UpIH0pKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnbm90aWZ5JywgbmV3IG5vdGlmeVZpZXcoKSk7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3Rvb2xiYXInLCBuZXcgdG9vbHNWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5tb2RlbC5nZXQoJ3Rvb2xiYXInKSB9KSk7XG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ2Zvb3RlcicsIG5ldyBmb290ZXJWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5tb2RlbC5nZXQoJ2Zvb3RlcicpIH0pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdjb250ZW50JykpIHRoaXMuc2hvd0NoaWxkVmlldygnY29udGVudCcsIHRoaXMubW9kZWwuZ2V0KCdjb250ZW50JykpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5oYXMoJ3NpZGViYXInKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ3NpZGViYXInLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3NpZGViYXInLCB0aGlzLm1vZGVsLmdldCgnc2lkZWJhcicpKTtcbiAgICAgICAgICAgIH0gZWxzZSB0aGlzLiRlbC5hdHRyKCdzaWRlYmFyJywgZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQXR0YWNoOiBmdW5jdGlvbiBvbkF0dGFjaCgpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCdzaXplJykgIT09ICdmdWxsJykge1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbiA9ICQoJ21haW4nKSxcbiAgICAgICAgICAgICAgICAgICAgY3YgPSB0aGlzLiRlbCxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gd2luLmhlaWdodCgpIC8gMiAtIGN2LmhlaWdodCgpIC8gMjtcblxuICAgICAgICAgICAgICAgIGN2LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogdG9wIDwgNDQgPyA0NCA6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogd2luLndpZHRoKCkgLyAyIC0gY3Yud2lkdGgoKSAvIDJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5tb2RlbC5nZXQoJ2F1dG9PcGVuJykpIHRoaXMuJGVsLmhpZGUoKTtlbHNlIHRoaXMuJGVsLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdFdmVudHM6IHtcblxuICAgICAgICAgICAgJ3Nob3c6bWVzc2FnZSc6IGZ1bmN0aW9uIHNob3dNZXNzYWdlKHRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygnbm90aWZ5Jykuc2hvd05vdGlmeSh0ZXh0KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdzaG93Om1lc3NhZ2U6Y29uZmlybSc6IGZ1bmN0aW9uIHNob3dNZXNzYWdlQ29uZmlybShvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ25vdGlmeScpLnNob3dDb25maXJtKG8udGV4dCwgby5meCwgby5jdHgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ25vdGljZTpzaG93Om1lc3NhZ2UnOiBmdW5jdGlvbiBub3RpY2VTaG93TWVzc2FnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJsb2NrZXIuc2hvdygpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ25vdGljZTpjbGljazpidXR0b24nOiBmdW5jdGlvbiBub3RpY2VDbGlja0J1dHRvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmJsb2NrZXIuaGlkZSgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ21hbmFnZTppdGVtOmNsaWNrJzogZnVuY3Rpb24gbWFuYWdlSXRlbUNsaWNrKGkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2kubW9kZWwuaWRdKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY29udGVudDpyZWZsZWN0JzogZnVuY3Rpb24gY29udGVudFJlZmxlY3Qocikge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENoaWxkVmlldygnY29udGVudCcpLFxuICAgICAgICAgICAgICAgICAgICBmeCA9IGNvbnRlbnRbci5tb2RlbC5pZF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZnggJiYgdHlwZW9mIGZ4ID09PSAnZnVuY3Rpb24nKSBmeC5jYWxsKGNvbnRlbnQsIHIpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ3Rvb2xiYXI6dXBkYXRlJzogZnVuY3Rpb24gdG9vbGJhclVwZGF0ZShjKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCd0b29sYmFyJywgISFjLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hpbGRWaWV3VHJpZ2dlcnM6IHtcblxuICAgICAgICAgICAgJ3Rvb2xiYXI6aXRlbTpjbGljayc6ICd0b29sYmFyOml0ZW06Y2xpY2snLFxuXG4gICAgICAgICAgICAndG9vbGJhcjppbnB1dDprZXl1cCc6ICd0b29sYmFyOmlucHV0OmtleXVwJyxcblxuICAgICAgICAgICAgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbSc6ICdjb250YWluZXI6c2VsZWN0Oml0ZW0nLFxuXG4gICAgICAgICAgICAnZm9vdGVyOmJ1dHRvbjpjbGljayc6ICdmb290ZXI6YnV0dG9uOmNsaWNrJyxcblxuICAgICAgICAgICAgJ2FmdGVyOmxvYWQnOiAnYWZ0ZXI6bG9hZCdcbiAgICAgICAgfSxcblxuICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnZGlhbG9nOmNsb3NlZCcpO1xuICAgICAgICAgICAgQmFja2JvbmUuUmFkaW8uY2hhbm5lbCgnTm90aWZ5JykucmVxdWVzdCgnaGlkZTpvdmVybGF5Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3NpemUnLCB0aGlzLm1vZGVsLmdldCgnc2l6ZScpID09PSAnbWF4JyA/ICdkZWYnIDogJ21heCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1lbnU6IGZ1bmN0aW9uIG1lbnUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdzaG93Q29udGV4dCcsICF0aGlzLm1vZGVsLmdldCgnc2hvd0NvbnRleHQnKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXREcmFnQW5kUmVzaXplOiBmdW5jdGlvbiBfaW5pdERyYWdBbmRSZXNpemUoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLnJlc2l6YWJsZSh7XG5cbiAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoZSwgdSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnY29udGVudCcpICYmIF8uaXNGdW5jdGlvbih0aGlzLm1vZGVsLmdldCgnY29udGVudCcpKSkgdGhpcy5tb2RlbC5nZXQoJ2NvbnRlbnQnKS50cmlnZ2VyTWV0aG9kKCdjb250YWluZXI6cmVzaXplOnN0b3AnLCB0aGlzLmdldFJlZ2lvbignY29udGVudCcpLiRlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuXG4gICAgICAgICAgICB9KS5kcmFnZ2FibGUoeyBoYW5kbGU6IHRoaXMudWkuaGVhZGVyLCBoZWxwZXI6IFwib3JpZ2luYWxcIiwgY29udGFpbm1lbnQ6IFwibWFpblwiIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5jc3MoJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuZGVmaW5lKCdjL0lucHV0Rm9ybVZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnZ2xvYmFsLmJlaGF2aW9ycy5pbnB1dCddLCBmdW5jdGlvbiAoUmVzb3VyY2VzLCBpbnB1dEJlaGF2aW9yKSB7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJcIiB2YWx1ZT1cIlwiIGNsYXNzPVwiZy1mb3JtLS1pbnB1dFwiIHBsYWNlaG9sZGVyPVwiPCU9IFJlc291cmNlcy5uYW1lVmlkZ2V0ICU+XCI+PGxhYmVsIGZvcj1cImlucHV0XCI+PCU9IFJlc291cmNlcy5uYW1lVmlkZ2V0ICU+PC9sYWJlbD48aSBjbGFzcz1cImFkZCBydGwtMVwiPjwvaT48aSBjbGFzcz1cImNsZWFyIHJ0bC0yXCI+PC9pPic7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGJlaGF2aW9yczogW2lucHV0QmVoYXZpb3JdLFxuXG4gICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZy1mb3JtLS1pbnB1dCcsXG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRlbXBsYXRlKSxcbiAgICAgICAgdGVtcGxhdGVDb250ZXh0OiB7XG4gICAgICAgICAgICBSZXNvdXJjZXM6IFJlc291cmNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgJ2NsaWNrIC5jbGVhcic6IGZ1bmN0aW9uIGNsaWNrQ2xlYXIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kKCdpbnB1dCcpLnZhbCgnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljayAuYWRkJzogJ2lucHV0OmNsaWNrOmFkZCdcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmRlZmluZSgnYy9FZGl0TGlzdFZpZXcnLCBbXSwgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGxpc3RJdGVtVGVtcGxhdGUgPSBcIjxzcGFuPjwlPSB0aXRsZSAlPjwvc3Bhbj48c3BhbiBjbGFzcz0nY21kJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3ZpZXcnIGRhdGEtaWNvbj0naWNvbi1leWUnPjwvYnV0dG9uPlwiICsgXCI8JSBpZighSXNTeXN0ZW0peyAlPjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nZWRpdCcgZGF0YS1pY29uPSdpY29uLXBlbic+PC9idXR0b24+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbGVhcicgZGF0YS1pY29uPSdpY29uLWNsb3NlLWwnPjwvYnV0dG9uPjwlIH0gJT48L3NwYW4+XCI7XG5cbiAgICB2YXIgbGlzdEl0ZW1FZGl0VGVtcGxhdGUgPSBcIjxpbnB1dCB0eXBlPSd0ZXh0JyB2YWx1ZT0nPCUtIHRpdGxlICU+JyAvPjxzcGFuIGNsYXNzPSdjbWQgZWRpdC12aWV3Jz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2NhbmNlbCcgZGF0YS1pY29uPSdpY29uLXJvdW5kLWRlbCc+PC9idXR0b24+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdzYXZlJyBkYXRhLWljb249J2ljb24tcm91bmQtY2hlY2snPjwvYnV0dG9uPjwvc3Bhbj5cIjtcblxuICAgIHZhciBsaXN0VmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2xhc3NOYW1lOiAnbGlzdC1jbWQtcGFuZWwnLFxuXG4gICAgICAgIGNoaWxkVmlldzogTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdpdGVtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKGxpc3RJdGVtVGVtcGxhdGUpLFxuXG4gICAgICAgICAgICB0cmlnZ2Vyczoge1xuICAgICAgICAgICAgICAgICdjbGljayc6ICdjbGljazppdGVtJyxcbiAgICAgICAgICAgICAgICAnY2xpY2sgLnZpZXcnOiAnbGlzdDppdGVtOnZpZXcnLFxuICAgICAgICAgICAgICAgICdjbGljayAuY2xlYXInOiAnbGlzdDppdGVtOmNsZWFyJyxcbiAgICAgICAgICAgICAgICAnY2xpY2sgLnNhdmUnOiAnbGlzdDppdGVtOnNhdmUnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgICAgICdjbGljayAuZWRpdCc6IGZ1bmN0aW9uIGNsaWNrRWRpdChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBfLnRlbXBsYXRlKGxpc3RJdGVtRWRpdFRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgJ2NsaWNrIC5jYW5jZWwnOiBmdW5jdGlvbiBjbGlja0NhbmNlbChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBfLnRlbXBsYXRlKGxpc3RJdGVtVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBcImNsaWNrIGlucHV0XCI6IGZ1bmN0aW9uIGNsaWNrSW5wdXQoZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb25MaXN0SXRlbVNhdmU6IGZ1bmN0aW9uIG9uTGlzdEl0ZW1TYXZlKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCQudHJpbSh0aGlzLiQoJ2lucHV0JykudmFsKCkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiB0aGlzLiQoJ2lucHV0JykudmFsKClcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBmW3RoaXMub3B0aW9ucy50aXRsZUF0dHJpYnV0ZV0gPSB0aGlzLiQoJ2lucHV0JykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoZik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IF8udGVtcGxhdGUobGlzdEl0ZW1UZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJCgnaW5wdXQnKS52YWwodGhpcy5tb2RlbC5nZXQoJ3RpdGxlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcblxuICAgICAgICAgICAgaWYgKCFtLmhhcygnSXNTeXN0ZW0nKSkgbS5zZXQoJ0lzU3lzdGVtJywgZmFsc2UpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgbS5zZXQoJ3RpdGxlJywgbS5nZXQodGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlKSk7XG5cbiAgICAgICAgICAgICAgICBtLm9uKCdjaGFuZ2U6JyArIHRoaXMub3B0aW9ucy50aXRsZUF0dHJpYnV0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtLnNldCgndGl0bGUnLCBtLmdldCh0aGlzLm9wdGlvbnMudGl0bGVBdHRyaWJ1dGUpKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aXRsZUF0dHJpYnV0ZTogdGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdjbGljazppdGVtJyxcbiAgICAgICAgICAgICdsaXN0Oml0ZW06dmlldyc6ICdsaXN0Oml0ZW06dmlldycsXG4gICAgICAgICAgICAnbGlzdDppdGVtOmNsZWFyJzogJ2xpc3Q6aXRlbTpjbGVhcicsXG4gICAgICAgICAgICAnbGlzdDppdGVtOnNhdmUnOiAnbGlzdDppdGVtOnNhdmUnXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdj48L2Rpdj4nKSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICBsaXN0OiB7IGVsOiAnZGl2JywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6aXRlbSc6ICdjbGljazppdGVtJyxcbiAgICAgICAgICAgICdsaXN0Oml0ZW06dmlldyc6ICdsaXN0Oml0ZW06dmlldycsXG4gICAgICAgICAgICAnbGlzdDppdGVtOmNsZWFyJzogJ2xpc3Q6aXRlbTpjbGVhcicsXG4gICAgICAgICAgICAnbGlzdDppdGVtOnNhdmUnOiAnbGlzdDppdGVtOnNhdmUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgIFwiY2xpY2sgLmFkZC1idG5cIjogZnVuY3Rpb24gY2xpY2tBZGRCdG4oZSkge1xuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNhZGQtY29sbGVjdGlvblwiKS5jc3MoeyBcImJvcmRlci1jb2xvclwiOiBcIlwiIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIE5hbWUgPSAkLnRyaW0odGhpcy4kKFwiI2FkZC1jb2xsZWN0aW9uXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgICAgIGlmIChOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcIiNhZGQtY29sbGVjdGlvblwiKS52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNZXRob2QoJ2xpc3Q6YWRkJywgTmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJChcIiNhZGQtY29sbGVjdGlvblwiKS5jc3MoeyBcImJvcmRlci1jb2xvclwiOiBcInJlZFwiIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICB0aGlzLmdldFJlZ2lvbignbGlzdCcpLnNob3cobmV3IGxpc3RWaWV3KHsgY29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9uLCB0aXRsZUF0dHJpYnV0ZTogdGhpcy5vcHRpb25zLnRpdGxlQXR0cmlidXRlIH0pKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9UYWJzVmlldycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdGFic1ZpZXcgPSBNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoe1xuICAgICAgICB0YWdOYW1lOiAndWwnLFxuICAgICAgICBjbGFzc05hbWU6ICduYXYgbmF2LXRhYnMnLFxuICAgICAgICBjaGlsZFZpZXc6IE1uLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICAgIHRhZ05hbWU6ICdsaScsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGEgaHJlZj1cIiM8JS0gaWQgJT5cIj48JS0gdGl0bGUgJT4mbmJzcDs8c3BhbiBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgbWluLXdpZHRoOiAyMnB4O1wiPjwlLSB0b3RhbD9cIihcIit0b3RhbCtcIilcIjpcIlwiICU+PC9zcGFuPjwvYT4nKSxcbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrJzogJ2NsaWNrOml0ZW0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmhhcygnYWN0aXZlJykgJiYgdGhpcy5tb2RlbC5nZXQoJ2FjdGl2ZScpKSB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7ZWxzZSB0aGlzLiRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW9kZWxFdmVudHM6IHtcbiAgICAgICAgICAgICAgICAnY2hhbmdlOmFjdGl2ZSc6IGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiBjaGlsZFZpZXdPcHRpb25zKG0pIHtcbiAgICAgICAgICAgIGlmICghbS5oYXMoJ3RvdGFsJykpIG0uc2V0KCd0b3RhbCcsIG51bGwpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPHVsPjwvdWw+PGRpdj48L2Rpdj4nKSxcbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgdGFiczogeyBlbDogJ3VsJywgcmVwbGFjZUVsZW1lbnQ6IHRydWUgfSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHsgZWw6ICdkaXYnLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdDbGlja0l0ZW06IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q2xpY2tJdGVtKHYpIHtcblxuICAgICAgICAgICAgdmFyIG8gPSB2Lm1vZGVsLmNvbGxlY3Rpb24uZmluZFdoZXJlKHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgaWYgKG8pIG8uc2V0KCdhY3RpdmUnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmICghdi5tb2RlbC5oYXMoJ2FjdGl2ZScpIHx8ICF2Lm1vZGVsLmdldCgnYWNpdHZlJykpIHtcbiAgICAgICAgICAgICAgICB2Lm1vZGVsLnNldCgnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q29udGVudCh2Lm1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzaG93Q29udGVudDogZnVuY3Rpb24gc2hvd0NvbnRlbnQobSkge1xuICAgICAgICAgICAgdmFyIHYgPSBtLmdldCgndmlldycpO1xuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdjb250ZW50JywgbmV3IHYobS5nZXQoJ29wdGlvbnMnKSkpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hMb2FkQ29udGVudCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaExvYWRDb250ZW50OiBmdW5jdGlvbiBmaW5pc2hMb2FkQ29udGVudCgpIHtcbiAgICAgICAgICAgIC8vIFxuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygndGFicycsIG5ldyB0YWJzVmlldyh7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiB9KSk7XG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuY29sbGVjdGlvbi5maW5kV2hlcmUoeyBhY3RpdmU6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAoYSkgdGhpcy5zaG93Q29udGVudChhKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5kZWZpbmUoJ2dsb2JhbC5yZXF1ZXN0LnBhcmFtJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJywgJ2dsb2JhbC5iZWhhdmlvcnMuaW5wdXQnLCAnZ2xvYmFsLnZpZXcuZHJvcERvd24nLCAnZ2xvYmFsLnZpZXcuZGlhbG9nJywgJ2Mvc2VhcmNoUGFuZWwnLCAnZy90cmVlJywgJ1JVJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMsIElucHV0QmVoYXZpb3IsIERyb3BEb3duTGlzdCwgZGlhbG9nVmlldywgc2VhcmNoUGFuZWwsIHRyZWVWaWV3KSB7XG5cbiAgICAvKioqL1xuICAgIC8qXHJcbiAgICAgICAgICBUT0RPOiDQtdGB0LvQuCDQsiDQv9Cw0YDQsNC80LXRgtGA0LDRhSDQstGL0LHQvtGA0LAg0L7QsdGK0LXQutGC0LAg0L3QtSDQt9Cw0LTQsNC9IHJpZCBvciBkYmFzZSwg0LIg0L7QutC90LUg0LLRi9Cx0L7RgNCwINC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7QutCw0LfQsNGC0Ywg0LjQvdGC0LXRgNGE0LXQudGBINCy0YvQsdC+0YDQsCDQsdCw0LfRi1xyXG4gICAgKi9cbiAgICAvKioqL1xuXG4gICAgdmFyIHBhcmFtVGVtcGxhdGVEYXRlID0gJzxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPVwiXCIgbmFtZT1cIjwlLSBOYW1lICU+XCIgLz48bGFiZWw+PCUtIENhcHRpb24gJT48L2xhYmVsPjxzdmcgY2xhc3M9XCJzdmctaWNvbi0tYmlnXCI+PHVzZSB4bGluazpocmVmPVwiI2NhbGVuZGFyLWljb25cIj48L3VzZT48L3N2Zz48aSBjbGFzcz1cImhlbHAgcnRsLTFcIj48L2k+PHNwYW4gY2xhc3M9XCJnLXRpcCBib3R0b21cIj48a2JkPjwva2JkPjxzcGFuPjwlLSBEZXNjcmlwdGlvbiAlPjwvc3Bhbj48L3NwYW4+JyxcbiAgICAgICAgcGFyYW1UZW1wbGF0ZSA9ICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImctZm9ybS0taW5wdXQgPCUtIERpc3BsYXlWYWx1ZT9cXCdmaWxsZWRcXCc6XFwnXFwnICU+XCIgcGxhY2Vob2xkZXI9XCI8JS0gQ2FwdGlvbiAlPlwiIHZhbHVlPVwiPCUtIERpc3BsYXlWYWx1ZT9EaXNwbGF5VmFsdWU6VmFsdWUuam9pbihcIixcIikgJT5cIiBuYW1lPVwiPCUtIE5hbWUgJT5cIiAvPjxsYWJlbD48JS0gQ2FwdGlvbiAlPjwvbGFiZWw+PGkgY2xhc3M9XCJoZWxwIHJ0bC0xXCI+PC9pPjxzcGFuIGNsYXNzPVwiZy10aXAgYm90dG9tXCI+PGtiZD48L2tiZD48c3Bhbj48JS0gRGVzY3JpcHRpb24gJT48L3NwYW4+PC9zcGFuPicsXG4gICAgICAgIHBhcmFtVGVtcGxhdGVDaG9vc2UgPSAnPGRpdiBjbGFzcz1cImRpYWxvZ1wiPjwvZGl2PjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZy1mb3JtLS1pbnB1dCA8JS0gRGlzcGxheVZhbHVlP1xcJ2ZpbGxlZFxcJzpcXCdcXCcgJT5cIiBwbGFjZWhvbGRlcj1cIjwlLSBDYXB0aW9uICU+XCIgdmFsdWU9XCI8JS0gRGlzcGxheVZhbHVlP0Rpc3BsYXlWYWx1ZTpWYWx1ZS5qb2luKFwiLFwiKSAlPlwiIG5hbWU9XCI8JS0gTmFtZSAlPlwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIiAvPjxsYWJlbD48JS0gQ2FwdGlvbiAlPjwvbGFiZWw+PGkgY2xhc3M9XCJydGwtMiBtb3JlIGFkZFwiPjwvaT48aSBjbGFzcz1cInJ0bC0zIGNsZWFyXCI+PC9pPjxpIGNsYXNzPVwiaGVscCBydGwtMVwiPjwvaT48c3BhbiBjbGFzcz1cImctdGlwIGJvdHRvbVwiPjxrYmQ+PC9rYmQ+PHNwYW4+PCUtIERlc2NyaXB0aW9uICU+PC9zcGFuPjwvc3Bhbj4nLFxuICAgICAgICBwYXJhbVRlbXBsYXRlVGV4dCA9ICc8bGFiZWw+PCUtIENhcHRpb24gJT48L2xhYmVsPjxpIGNsYXNzPVwiaGVscCBydGwtMSB0ZXh0YXJlYVwiPjwvaT48c3BhbiBjbGFzcz1cImctdGlwIGJvdHRvbSB0ZXh0YXJlYVwiPjxrYmQ+PC9rYmQ+PHNwYW4+PCUtIERlc2NyaXB0aW9uICU+PC9zcGFuPjwvc3Bhbj48dGV4dGFyZWEgY2xhc3M9XCJnLWZvcm0tLXRleHRhcmVhIDwlLSBEaXNwbGF5VmFsdWU/XFwnZmlsbGVkXFwnOlxcJ1xcJyAlPlwiIG5hbWU9XCI8JS0gTmFtZSAlPlwiIHBsYWNlaG9sZGVyPVwiPCUtIENhcHRpb24gJT5cIj48JS0gRGlzcGxheVZhbHVlP0Rpc3BsYXlWYWx1ZTpWYWx1ZS5qb2luKFwiLFwiKSAlPjwvdGV4dGFyZWE+JyxcbiAgICAgICAgcGFyYW1UZW1wbGF0ZUJvb2wgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiaWQ8JS0gTmFtZSAlPlwiIGNsYXNzPVwiZy1mb3JtLS1jaGVja2JveFwiIG5hbWU9XCI8JS0gTmFtZSAlPlwiIDwlIGlmKFZhbHVlWzBdPT09XCJUcnVlXCIpeyAlPmNoZWNrZWQ9XCJjaGVja2VkXCI8JSB9ICU+IC8+PGxhYmVsIGZvcj1cImlkPCUtIE5hbWUgJT5cIiBjbGFzcz1cImJvb2wtdHlwZS1sYWJlbFwiPjwlLSBDYXB0aW9uICU+PC9sYWJlbD48aSBjbGFzcz1cImhlbHAgcnRsLTFcIj48L2k+PHNwYW4gY2xhc3M9XCJnLXRpcCBib3R0b21cIj48a2JkPjwva2JkPjxzcGFuPjwlLSBEZXNjcmlwdGlvbiAlPjwvc3Bhbj48L3NwYW4+JyxcbiAgICAgICAgcGFyYW1UZW1wbGF0ZURpYyA9ICc8bGFiZWw+PCUtIENhcHRpb24gJT48L2xhYmVsPjxpIGNsYXNzPVwiaGVscCBydGwtMVwiPjwvaT48c3BhbiBjbGFzcz1cImctdGlwIGJvdHRvbVwiPjxrYmQ+PC9rYmQ+PHNwYW4+PCUtIERlc2NyaXB0aW9uICU+PC9zcGFuPjwvc3Bhbj48ZGl2PjwvZGl2Pic7XG5cbiAgICB2YXIgcGFyYW1Nb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGRlZmF1bHRzOiBmdW5jdGlvbiBkZWZhdWx0cygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgTmFtZTogJycsXG4gICAgICAgICAgICAgICAgRGlzcGxheVZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICBQYXJhbWV0clR5cGU6ICcnLFxuICAgICAgICAgICAgICAgIENhcHRpb246ICcnLFxuICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICBWYWx1ZTogW10sXG5cbiAgICAgICAgICAgICAgICBNZXRhRW50aXR5OiAnJywgLy8g0L/QsNGA0LDQvNC10YLRgCDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINGB0L/RgNCw0LLQvtGH0L3QuNC60L7QslxuXG4gICAgICAgICAgICAgICAgSXNNdWx0aVZhbHVlczogZmFsc2UsIC8vINC80L3QvtC20LXRgdGC0LLQtdC90L3Ri9C5INCy0YvQsdC+0YAgSXNNdWx0aVZhbHVlcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBTdGlja1VybDogJycsXG4gICAgICAgICAgICAgICAgTm9DYXNoOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoYXR0cikge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IFtdLFxuICAgICAgICAgICAgICAgIGRwID0gJ15bXFxcXGRdKyQnO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0ZXN0KHMsIHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcyA9PT0gXCJcIiB8fCBuZXcgUmVnRXhwKHApLnRlc3Qocyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXQoJ1BhcmFtZXRyVHlwZScpLnRvTG93ZXJDYXNlKCkgPT09ICdpbnQnICYmICF0ZXN0KGF0dHIuVmFsdWVbMF0sIGRwKSkgb3V0cHV0LnB1c2goYXR0cik7XG5cbiAgICAgICAgICAgIGlmIChvdXRwdXQubGVuZ3RoKSByZXR1cm4gb3V0cHV0O2Vsc2UgdGhpcy50cmlnZ2VyKCd2YWxpZCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGJlaGF2aW9yczoge1xuICAgICAgICAgICAgaW5wdXQ6IElucHV0QmVoYXZpb3JcbiAgICAgICAgfSxcblxuICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ctZm9ybS0taW5wdXQnLFxuXG4gICAgICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcblxuICAgICAgICAgICAgdmFyIHBhcmFtVHlwZSA9IHRoaXMubW9kZWwuZ2V0KFwiUGFyYW1ldHJUeXBlXCIpID8gdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIikudG9Mb3dlckNhc2UoKSA6ICcnO1xuXG4gICAgICAgICAgICBpZiAoW1wiaWRsaXN0XCIsIFwidHlwZVwiLCBcInJ1YnJpY1wiLCBcIm9iamVjdFwiXS5pbmRleE9mKHBhcmFtVHlwZSkgIT09IC0xKSByZXR1cm4gXy50ZW1wbGF0ZShwYXJhbVRlbXBsYXRlQ2hvb3NlKTtlbHNlIGlmIChwYXJhbVR5cGUgPT09ICdib29sJykgcmV0dXJuIF8udGVtcGxhdGUocGFyYW1UZW1wbGF0ZUJvb2wpO2Vsc2UgaWYgKHBhcmFtVHlwZSA9PT0gJ3RleHQnKSByZXR1cm4gXy50ZW1wbGF0ZShwYXJhbVRlbXBsYXRlVGV4dCk7ZWxzZSBpZiAocGFyYW1UeXBlID09PSAnZGF0ZXRpbWUnKSByZXR1cm4gXy50ZW1wbGF0ZShwYXJhbVRlbXBsYXRlRGF0ZSk7ZWxzZSBpZiAocGFyYW1UeXBlID09PSAnZGljdGlvbmFyeScpIHJldHVybiBfLnRlbXBsYXRlKHBhcmFtVGVtcGxhdGVEaWMpO2Vsc2UgcmV0dXJuIF8udGVtcGxhdGUocGFyYW1UZW1wbGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIHRleHQ6ICd0ZXh0YXJlYScsXG4gICAgICAgICAgICBpbnB1dDogJ2lucHV0JyxcbiAgICAgICAgICAgIGNsZWFyOiAnaS5jbGVhcidcbiAgICAgICAgfSxcblxuICAgICAgICBjb2xsZWN0aW9uRXZlbnRzOiB7XG5cbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGMsIG8pIHtcblxuICAgICAgICAgICAgICAgIGlmIChvLmFkZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjLnBsdWNrKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsLmxlbmd0aCkgdmFsID0gdGhpcy5tb2RlbC5nZXQoJ1ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoeyBcIkRpc3BsYXlWYWx1ZVwiOiBjLnBsdWNrKCd0aXRsZScpLmpvaW4oJzsgJyksIFwiVmFsdWVcIjogdmFsIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBtb2RlbEV2ZW50czoge1xuXG4gICAgICAgICAgICBpbnZhbGlkOiBmdW5jdGlvbiBpbnZhbGlkKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkudGV4dC5hZGRDbGFzcygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmlucHV0LmFkZENsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdmFsaWQ6IGZ1bmN0aW9uIHZhbGlkKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudWkudGV4dC5yZW1vdmVDbGFzcygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmlucHV0LnJlbW92ZUNsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTpEaXNwbGF5VmFsdWUnOiBmdW5jdGlvbiBjaGFuZ2VEaXNwbGF5VmFsdWUobSwgdikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5pbnB1dC52YWwodik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2hhbmdlOlZhbHVlJzogZnVuY3Rpb24gY2hhbmdlVmFsdWUobSwgdikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51aS5jbGVhci5zaG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBldmVudHM6IHtcblxuICAgICAgICAgICAgJ2NsaWNrIGxhYmVsLmJvb2wtdHlwZS1sYWJlbCc6IGZ1bmN0aW9uIGNsaWNrTGFiZWxCb29sVHlwZUxhYmVsKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiQoJ2lucHV0JykuaXMoJzpjaGVja2VkJykpIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFsnVHJ1ZSddKTtlbHNlIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFsnRmFsc2UnXSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAna2V5dXAgaW5wdXRbdHlwZT10ZXh0XSwgdGV4dGFyZWEsIGlucHV0W2NsYXNzIT1lamRhdGVwaWNrZXJdJzogZnVuY3Rpb24ga2V5dXBJbnB1dFR5cGVUZXh0VGV4dGFyZWFJbnB1dENsYXNzRWpkYXRlcGlja2VyKGUpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFskLnRyaW0oJChlLnRhcmdldCkudmFsKCkpXSwgeyB2YWxpZGF0ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIFwiY2xpY2sgLm1vcmVcIjogZnVuY3Rpb24gY2xpY2tNb3JlKCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0S2V5SGVhZGVyKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoWydPYmplY3QnLCAnSWRMaXN0J10uaW5kZXhPZih0aGlzLm1vZGVsLmdldChcIlBhcmFtZXRyVHlwZVwiKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vINC00LXRgNC10LLQvlxuXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5UeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVxdWVzdFNlbGVjdGVkOiBSZXNvdXJjZXMuc2VsZWN0UmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVlc3Q6IFJlc291cmNlcy5zZWxlY3RSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgUnVicmljOiBSZXNvdXJjZXMuc2VsZWN0UnVicmljLFxuICAgICAgICAgICAgICAgICAgICAgICAgUnVicmljVG9vbHM6IFt7IGlkOiAnYWRkJywgY2FwdGlvbjogUmVzb3VyY2VzLmFkZCB9LCB7IGlkOiAncmVuYW1lJywgY2FwdGlvbjogUmVzb3VyY2VzLnJlbmFtZSB9LCB7IGlkOiAnY2xlYXInLCBjYXB0aW9uOiBSZXNvdXJjZXMuZGVsZXRlSXRlbSB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZWFyY2hPYmonLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImctZm9ybS0taW5wdXQgaW5wdXQtZGF0YVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzZWFyY2gtbmFtZVwiIHZhbHVlPVwiXCIgY2xhc3M9XCJnLWZvcm0tLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBrZXl3b3JkXCIvPjxpIGNsYXNzPVwic2VhcmNoIHJ0bC0xXCIgbmFtZT1cInNlYXJjaFwiPjwvaT48L3NwYW4+J1xuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGU6IFJlc291cmNlcy5zZWxlY3RUcmVlXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyZWUgPSBuZXcgdHJlZVZpZXcoeyBjb2xsZWN0aW9uOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpLCBzZWxlY3RlZDogdGhpcy5tb2RlbC5nZXQoJ1ZhbHVlJyksIG5vZGU6IHsgY2hlY2tib3g6IGZhbHNlIH0gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IG5ldyBkaWFsb2dWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB3aW5UeXBlW3RoaXMubW9kZWwuZ2V0KFwiUGFyYW1ldHJUeXBlXCIpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogeyBtYW5hZ2U6IFt7IGlkOiAnY2xvc2UnIH1dIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHdpblR5cGVbdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIikgKyAnVG9vbHMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRyZWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJlZS5jb2xsZWN0aW9uLnVybCA9IHRoaXMubW9kZWwuZ2V0KCd1cmwnKSB8fCAnL2FwaS8nICsgdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIHRyZWUuY29sbGVjdGlvbi5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odHJlZSwgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbScsIGZ1bmN0aW9uICh2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCh2Lm1vZGVsLmlkKSA+PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoJ0lzTXVsdGlWYWx1ZXMnKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5hZGQodi5tb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmFkZCh2Lm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyDQstGL0LHQvtGAINC+0LHRitC10LrRgtCwKNC+0LIpXG5cbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nID0gbmV3IGRpYWxvZ1ZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5zZWxPYmosXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZ2VhcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21lZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IHsgbWFuYWdlOiBbeyBpZDogJ2Nsb3NlJyB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhcjogbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW3sgaWQ6ICdmaWx0ZXJCeVR5cGUnLCBjbGFzc05hbWU6ICdmaWx0ZXInIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NlYXJjaE9iaicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2VhcmNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZy1mb3JtLS1pbnB1dCBpbnB1dC1kYXRhXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlYXJjaC1uYW1lXCIgdmFsdWU9XCJcIiBjbGFzcz1cImctZm9ybS0taW5wdXRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGtleXdvcmRcIi8+PGkgY2xhc3M9XCJzZWFyY2ggcnRsLTFcIiBuYW1lPVwic2VhcmNoXCI+PC9pPjwvc3Bhbj4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBuZXcgc2VhcmNoUGFuZWwoeyByaWQ6IHRoaXMub3B0aW9ucy5yaWQsIGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgSXNNdWx0aVZhbHVlczogdGhpcy5tb2RlbC5nZXQoXCJQYXJhbWV0clR5cGVcIikgPT09ICdJZExpc3QnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbihbeyBpZDogJ2Nsb3NlJywgdGl0bGU6IFJlc291cmNlcy5hcHBseSwgY2xhc3NOYW1lOiAnYmx1ZSByaWdodCcgfV0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oZGlhbG9nLCAnZm9vdGVyOmJ1dHRvbjpjbGljaycsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlZ2lvbigpKSB0aGlzLmFkZFJlZ2lvbignZGlhbG9nJywgJy5kaWFsb2cnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVnaW9uKCdkaWFsb2cnKS5zaG93KGRpYWxvZyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBcImNsaWNrIEB1aS5jbGVhclwiOiBmdW5jdGlvbiBjbGlja1VpQ2xlYXIoZSkge1xuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsgXCJEaXNwbGF5VmFsdWVcIjogXCJcIiwgXCJWYWx1ZVwiOiBbXSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jb2xsZWN0aW9uKSB0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZWwpIHRoaXMubW9kZWwgPSBuZXcgcGFyYW1Nb2RlbCh0aGlzLm9wdGlvbnMuYXR0cmlidXRlcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXQoXCJOYW1lXCIpLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgdGhpcy5tb2RlbC5zZXQoXCJOYW1lXCIsIHRoaXMubW9kZWwuZ2V0KFwiTmFtZVwiKS5yZXBsYWNlKC8jL2csIFwiXCIpKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmhhcyhcIlBhcmFtZXRyVHlwZVwiKSkgdGhpcy5tb2RlbC5zZXQoXCJQYXJhbWV0clR5cGVcIiwgJycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbiBvblJlbmRlcigpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2V0S2V5SGVhZGVyKCk7XG5cbiAgICAgICAgICAgIHZhciBwYXJhbVR5cGUgPSB0aGlzLm1vZGVsLmdldChcIlBhcmFtZXRyVHlwZVwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJ18nICsgcGFyYW1UeXBlXSkgdGhpc1snXycgKyBwYXJhbVR5cGVdKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGlsZHZpZXdEcm9wZG93blNlbGVjdDogZnVuY3Rpb24gb25DaGlsZHZpZXdEcm9wZG93blNlbGVjdChtLCBuKSB7XG5cbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdWYWx1ZScsIFttLmlkXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldEtleUhlYWRlcjogZnVuY3Rpb24gX3NldEtleUhlYWRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yaWQgfHwgdGhpcy5vcHRpb25zLmRiYXNlKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yaWQpIG8uUklEID0gdGhpcy5vcHRpb25zLnJpZDtlbHNlIG8uZGIgPSAnZGInICsgdGhpcy5vcHRpb25zLmRiYXNlO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXkgPSAkLm1lcmdlVXJsUGFyYW0oJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXksIG8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJlcXVpcmUoWydiZGlkJ10sIGZ1bmN0aW9uIChkYmFzZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYmFzZSkgJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXkgPSAkLm1lcmdlVXJsUGFyYW0oJC5hamF4U2V0dGluZ3MuaGVhZGVycy5rZXksIHsgZGI6ICdkYicgKyBkYmFzZSB9KTtlbHNlIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiDQtdGB0LvQuCDQsiDQv9Cw0YDQsNC80LXRgtGA0LDRhSDQstGL0LHQvtGA0LAg0L7QsdGK0LXQutGC0LAg0L3QtSDQt9Cw0LTQsNC9IHJpZCwg0LIg0L7QutC90LUg0LLRi9Cx0L7RgNCwINC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7QutCw0LfQsNGC0Ywg0LjQvdGC0LXRgNGE0LXQudGBINCy0YvQsdC+0YDQsCDQsdCw0LfRi1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9kaWN0aW9uYXJ5OiBmdW5jdGlvbiBfZGljdGlvbmFyeSgpIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRSZWdpb24oJ2RkbScsICdkaXYnKTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnZGRtJywgbmV3IERyb3BEb3duTGlzdCh7IGNvbGxlY3Rpb246IGNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICBjb2xsZWN0aW9uLnVybCA9ICcvYXBpL01vZGVsRGljSXRlbXM/ZGljPScgKyB0aGlzLm1vZGVsLmdldCgnTWV0YUVudGl0eScpO1xuICAgICAgICAgICAgY29sbGVjdGlvbi5mZXRjaCh7XG4gICAgICAgICAgICAgICAgcmVzZXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdkZG0nKS5zZXRDdXJyZW50KHRoaXMubW9kZWwuZ2V0KFwiVmFsdWVcIilbMF0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy5nZXRDaGlsZFZpZXcoJ2RkbScpLCAnZHJvcGRvd246c2VsZWN0JywgZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IFZhbHVlOiBbbS5pZF0gfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZGF0ZXRpbWU6IGZ1bmN0aW9uIF9kYXRldGltZSgpIHtcblxuICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2RhdGUtcG9zaXRpb24nKTtcblxuICAgICAgICAgICAgLy92YXIgdmFsdWUgPSAkLnBhcnNlRGF0ZSh0aGlzLm1vZGVsLmdldChcIlZhbHVlXCIpWzBdKTsgLy9Wb2xrb3YgMjAxNy0xMC0yNiAtINC70L7QutCw0LvQuNC30L7QstGL0LLQsNGC0Ywg0LTQsNGC0YMg0L3QtSDRgtGA0LXQsdGD0LXRgtGB0Y9cbiAgICAgICAgICAgIC8vVm9sa292IDIwMTctMTAtMjYgLSDQsiDQvNC+0LTQtdC70Lgg0LTQsNGC0LAg0LLRgdC10LPQtNCwINC/0YDQtdC00YHRgtCw0LLQu9C10L3QsCDQsiBJU08t0YTQvtGA0LzQsNGC0LVcbiAgICAgICAgICAgIC8vdGhpcy5tb2RlbC5zZXQoeyBWYWx1ZTogWyQuVG9JU08odmFsdWUpXSB9KTtcblxuICAgICAgICAgICAgdmFyIGRhdGVPYmogPSB0aGlzLiQoXCJpbnB1dFwiKS5lakRhdGVQaWNrZXIoe1xuXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIC8vd2lkdGg6IFwiODAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjM2cHhcIixcbiAgICAgICAgICAgICAgICAvL1ZvbGtvdiAyMDE3LTEwLTI2INCy0LDQttC90L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMIERhdGUgLSDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDQv9C+0LvRg9Cw0LXQvCDQsiBVVEMsINC/0L7RgdC60L7Qu9GM0LrRgyDQvtC90LAg0L/RgNC40YjQu9CwINC90LDQvCDQsiBVVEMgXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKHRoaXMubW9kZWwuZ2V0KFwiVmFsdWVcIilbMF0pLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogUmVzb3VyY2VzLkxhbmcsXG4gICAgICAgICAgICAgICAgYnV0dG9uVGV4dDogUmVzb3VyY2VzLlRvZGF5LFxuICAgICAgICAgICAgICAgIHNob3dQb3B1cEJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgd2F0ZXJtYXJrVGV4dDogdGhpcy5tb2RlbC5nZXQoJ0NhcHRpb24nKSwgLy9SZXNvdXJjZXMuZm9ybWF0RGF0ZSxcblxuICAgICAgICAgICAgICAgIGZvY3VzT3V0OiBmdW5jdGlvbiAoYXJncykge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJChcImlucHV0XCIpLmRhdGEoXCJlakRhdGVQaWNrZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSxcblxuICAgICAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9Wb2xrb3YgMjAxNy0xMC0yNiDQktCw0LbQvdC+INGD0LHRgNCw0YLRjCDRhNCw0LrRgtC+0YAg0LLRgNC10LzQtdC90LgsINC30LTQtdGB0Ywg0L7QvSDQvdC1INGC0YDQtdCx0YPQtdGC0YHRjyAo0L/QsNGA0LDQvNC10YLRgCDQv9GA0LjQvdC40LzQsNC10YIg0YLQvtC70YzQutC+INCU0LDRgtGDKVxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZUxvY2FsID0gYXJncy5kYXRlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IFZhbHVlOiBbJC5Ub0lTT0RhdGVPbmx5KGRhdGVMb2NhbCldIH0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy4kKFwiaW5wdXRcIikuYWRkQ2xhc3MoXCJlamRhdGVwaWNrZXJcIik7XG5cbiAgICAgICAgICAgIHRoaXMuJCgnLnN2Zy1pY29uLS1iaWcnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiQoXCJpbnB1dFwiKS5lakRhdGVQaWNrZXIoXCJzaG93XCIpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnYy9zZWFyY2hQYW5lbCcsIFsnaTE4biFubHMvcmVzb3VyY2VzLm1pbicsICdjL1NpbXBsZVRhYmxlVmlldycsICdnL3RyZWUnXSwgZnVuY3Rpb24gKFJlc291cmNlcywgdGFibGVTZWFyY2gsIHRyZWVWaWV3KSB7XG5cbiAgICB2YXIgbGlzdFNlbGVjdGVkVmlldyA9IE1uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgY2hpbGRWaWV3OiBNbi5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2l0ZW0nLFxuXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPCUtIHRpdGxlICU+PHNwYW4gZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiPjwvc3Bhbj4nKSxcbiAgICAgICAgICAgIHRyaWdnZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NsaWNrIHNwYW5bZGF0YS1pY29uPVwiaWNvbi10cmFzaFwiXSc6ICdyZW1vdmU6c2VsZWN0ZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAncmVtb3ZlOnNlbGVjdGVkJzogJ3JlbW92ZTpzZWxlY3RlZCdcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTW4uVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGNsYXNzTmFtZTogJ2Nob2lzZS1wYW5lbCcsXG5cbiAgICAgICAgdGVtcGxhdGU6ICcjY2hvaXNlLXBhbmVsLWxpc3QtdGVtcGxhdGUnLFxuICAgICAgICB0ZW1wbGF0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIFJlc291cmNlczogUmVzb3VyY2VzXG4gICAgICAgIH0sXG5cbiAgICAgICAgdWk6IHtcbiAgICAgICAgICAgIHR0OiAnI3R5cGVzLXRyZWUnXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaW9uczoge1xuICAgICAgICAgICAgcmVzdWx0OiAnLnJlc3VsdC1saXN0JyxcbiAgICAgICAgICAgIHNlbGVjdDogJy5zZWxlY3QtbGlzdCcsXG4gICAgICAgICAgICB0cmVlOiAnQHVpLnR0J1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmlkKSB0aGlzLnRyZWVPcHRpb25zID0geyBwYXRoOiAnL2FwaS9UcmVlL0J5V2lkZ2V0US8nICsgdGhpcy5vcHRpb25zLnJpZCB9O1xuXG4gICAgICAgICAgICB0aGlzLnR5cGVpZCA9IDEwMDAxO1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hWYWwgPSAnJztcbiAgICAgICAgfSxcblxuICAgICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHZhciBjID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIGMudXJsID0gXCIvYXBpL0xpc3QvP3BhZ2U9MSZ0ZXh0PSZ0eXBlaWQ9MTAwMDFcIjtcblxuICAgICAgICAgICAgdGhpcy5zaG93Q2hpbGRWaWV3KCdyZXN1bHQnLCBuZXcgdGFibGVTZWFyY2goe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IGMsXG4gICAgICAgICAgICAgICAgcm93VGVtcGxhdGU6IFwiPHRkPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J2NoXzwlLSBpZCAlPicgY2xhc3M9J2ctZm9ybS0tY2hlY2tib3gnPjxsYWJlbCBmb3I9J2NoXzwlLSBpZCAlPic+PHNwYW4+PCU9IG51bSAlPi48L3NwYW4+PHNwYW4+PCUtIHRpdGxlICU+PC9zcGFuPjwvbGFiZWw+PC90ZD48dGQ+PCUtIHR5cGUgJT48L3RkPlwiLFxuICAgICAgICAgICAgICAgIGhlYWQ6IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKFt7IGlkOiAwLCB0aXRsZTogUmVzb3VyY2VzLnRpdGxlLCB3aWR0aDogJzcwJScgfSwgeyBpZDogMSwgdGl0bGU6IFJlc291cmNlcy50eXBlLCB3aWR0aDogJzMwJScgfV0pXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5jb2xsZWN0aW9uLm9uKCdyZXNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygncmVzdWx0JykuJGVsLmhpZGVJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygncmVzdWx0JykuY29sbGVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZFZpZXcoJ3Jlc3VsdCcpLiRlbC5oaWRlSW5kaWNhdG9yKCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygnc2VsZWN0JywgbmV3IGxpc3RTZWxlY3RlZFZpZXcoeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24gfSkpO1xuXG4gICAgICAgICAgICB2YXIgdGMgPSBuZXcgQmFja2JvbmUuQ29sbGVjdGlvbigpO1xuICAgICAgICAgICAgdGMudXJsID0gdGhpcy50cmVlT3B0aW9ucyA/IHRoaXMudHJlZU9wdGlvbnMucGF0aCB8fCAnL2FwaS9UeXBlJyA6ICcvYXBpL1R5cGUnO1xuXG4gICAgICAgICAgICB0aGlzLnNob3dDaGlsZFZpZXcoJ3RyZWUnLCBuZXcgdHJlZVZpZXcoeyBjb2xsZWN0aW9uOiB0Yywgbm9kZTogeyBjaGVja2JveDogZmFsc2UsIGxldmVsT3BlbjogNCB9IH0pKTtcblxuICAgICAgICAgICAgdGMuZmV0Y2goeyByZXNldDogdHJ1ZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld0NvbnRhaW5lclNlbGVjdEl0ZW06IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q29udGFpbmVyU2VsZWN0SXRlbSh2KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGVpZCA9IHYubW9kZWwuaWQ7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcblxuICAgICAgICAgICAgdGhpcy5zZWFyY2hWYWwgPSAnJztcbiAgICAgICAgICAgIHRoaXMudHlwZWlkID0gMTAwMDE7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5jb2xsZWN0aW9uO1xuICAgICAgICAgICAgYy51cmwgPSAkLm1lcmdlVXJsUGFyYW0oYy51cmwsIHsgdGV4dDogdGhpcy5zZWFyY2hWYWwsIHBhZ2U6IDEsIHR5cGVpZDogdGhpcy50eXBlaWQgfSk7XG4gICAgICAgICAgICBjLnJlc2V0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2gobSkge1xuXG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5jb2xsZWN0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLmdldENoaWxkVmlldygncmVzdWx0JykuY3VycmVudFBhZ2UgPSAxO1xuXG4gICAgICAgICAgICBjLnVybCA9ICQubWVyZ2VVcmxQYXJhbShjLnVybCwgeyBwYWdlOiAxLCB0eXBlaWQ6IHRoaXMudHlwZWlkLCB0ZXh0OiB0aGlzLnNlYXJjaFZhbCB9KTtcblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdub3RpY2U6c2hvdzptZXNzYWdlJyk7XG5cbiAgICAgICAgICAgIGMuZmV0Y2goe1xuICAgICAgICAgICAgICAgIHJlc2V0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdub3RpY2U6Y2xpY2s6YnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyTWV0aG9kKCdub3RpY2U6Y2xpY2s6YnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmlsdGVyQnlUeXBlOiBmdW5jdGlvbiBmaWx0ZXJCeVR5cGUodikge1xuICAgICAgICAgICAgdGhpcy51aS50dC50b2dnbGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWFyY2hPYmo6IGZ1bmN0aW9uIHNlYXJjaE9iaihyKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFyIHRleHQgPSByLiQoXCJpbnB1dFtuYW1lPSdzZWFyY2gtbmFtZSddXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgIGZsYWcgPSBldmVudC5rZXlDb2RlID8gZXZlbnQua2V5Q29kZSA9PT0gMTMgJiYgJC50cmltKHRleHQpIDogJChldmVudC50YXJnZXQpLmhhc0NsYXNzKCdzZWFyY2gnKTtcblxuICAgICAgICAgICAgaWYgKGZsYWcgJiYgdGV4dC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVmFsID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld0V2ZW50czoge1xuXG4gICAgICAgICAgICAncGFnZTpzZWxlY3QnOiBmdW5jdGlvbiBwYWdlU2VsZWN0KG4pIHtcblxuICAgICAgICAgICAgICAgIHZhciByID0gdGhpcy5nZXRDaGlsZFZpZXcoJ3Jlc3VsdCcpLFxuICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy5nZXRDaGlsZFZpZXcoJ3Jlc3VsdCcpLmNvbGxlY3Rpb247XG5cbiAgICAgICAgICAgICAgICByLmN1cnJlbnRQYWdlID0gbjtcbiAgICAgICAgICAgICAgICBjLnVybCA9ICQubWVyZ2VVcmxQYXJhbShjLnVybCwgeyBwYWdlOiBuIH0pO1xuXG4gICAgICAgICAgICAgICAgYy5mZXRjaCh7IHJlc2V0OiB0cnVlIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTppbnB1dDpyb3cnOiBmdW5jdGlvbiBjaGFuZ2VJbnB1dFJvdyh2KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGkgPSB2LiQoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVpLnR0LmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIGlmICgkaS5wcm9wKCdjaGVja2VkJykpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLklzTXVsdGlWYWx1ZXMpIHRoaXMuY29sbGVjdGlvbi5hZGQodi5tb2RlbCk7ZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5nZXRDaGlsZFZpZXcoJ2JvZHknKS5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYubW9kZWwuaWQgIT09IGEubW9kZWwuaWQpIGEuJCgnaW5wdXQnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLmFkZCh2Lm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHYubW9kZWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ3JlbW92ZTpzZWxlY3RlZCc6IGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKHIpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRWaWV3KCdyZXN1bHQnKS5nZXRDaGlsZFZpZXcoJ2JvZHknKS5jaGlsZHJlbi5maW5kQnlNb2RlbChyLm1vZGVsKS4kKCdpbnB1dCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHIubW9kZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZy90cmVlJywgWydpMThuIW5scy9yZXNvdXJjZXMubWluJ10sIGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcblxuICAgIC8vIHRoaXMub3B0aW9ucy5zZWxlY3RlZCAgLSAg0LzQsNGB0YHQuNCyINCy0YvQsdGA0LDQvdGL0YUg0LzQvtC00LXQu9C10LlcbiAgICAvLyB0aGlzLm9wdGlvbnMubm9kZSA9IHtjaGVja2JveDogdHJ1ZSwgaWNvbjogW2ZvbGRlciwgZmlsZV0sIGxldmVsT3BlbjogTn0gLSAg0L7QsdGK0LXQutGCINC+0L/RhtC40Lkg0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0YPQt9C70LBcbiAgICAvLyB0aGlzLm9wdGlvbnMuYnJhbmNoID0ge3BpZDogMH0g0L/QvtC60LDQt9GL0LLQsNC10LzQsNGPINCy0LXRgtC60LBcblxuICAgIHZhciBub2RlQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICAgICAgbW9kZWw6IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhcmVudGlkOiAnJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgcGFyZW50czogW10sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IDAsXG4gICAgICAgICAgICAgICAgY2RhdGU6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIHZhciBUcmVlTm9kZSA9IE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAnbGknLFxuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZSgnPGRpdj48aSBjbGFzcz1cImV4cGFuZGVyXCIgPCUtIG5vZGVzP1wiXCI6XCJkaXNhYmxlZFwiICU+PjwvaT48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJub2RlXzwlLSBpZCAlPlwiPjxsYWJlbCBmb3I9XCJub2RlXzwlLSBpZCAlPlwiPjwvbGFiZWw+JyArICc8c3BhbiB0cmVlLWljb249XCI8JS0gbm9kZXM/KGlkPT09XCItMVwiP1wicm9vdFwiOlwiZm9sZGVyXCIpOlwiZmlsZVwiICU+XCI+PCUgaWYoaWNvbnVybCl7ICU+PGltZyBzcmM9XCI8JS0gaWNvbnVybCAlPlwiIGFsdD1cIlwiIC8+Jm5ic3A7PCUgfSAlPjwlLSB0aXRsZSAlPjwvc3Bhbj4nICsgJzxidXR0b24gZGF0YS12YWx1ZT1cIm9rXCI+PC9idXR0b24+PGJ1dHRvbiBkYXRhLXZhbHVlPVwiY2FuY2VsXCI+PC9idXR0b24+JyArICc8L2Rpdj48dWw+PC91bD4nKSxcblxuICAgICAgICB1aToge1xuICAgICAgICAgICAgc3BhbjogJ3NwYW4nLFxuICAgICAgICAgICAgY2FuY2VsOiAnYnV0dG9uW2RhdGEtdmFsdWU9XCJjYW5jZWxcIl0nLFxuICAgICAgICAgICAgc2F2ZTogJ2J1dHRvbltkYXRhLXZhbHVlPVwib2tcIl0nLFxuICAgICAgICAgICAgZXhwYW5kZXI6ICdpLmV4cGFuZGVyJyxcbiAgICAgICAgICAgIGNoYm94OiAnaW5wdXRbdHlwZT1jaGVja2JveF0nLFxuICAgICAgICAgICAgbGFiZWw6ICdpbnB1dFt0eXBlPWNoZWNrYm94XStsYWJlbCdcbiAgICAgICAgfSxcblxuICAgICAgICByZWdpb25zOiB7XG4gICAgICAgICAgICB0cmVlOiB7IGVsOiAndWwnLCByZXBsYWNlRWxlbWVudDogdHJ1ZSB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICAgICdjbGljayBAdWkuc3Bhbic6ICdjb250YWluZXI6c2VsZWN0Oml0ZW0nXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjbGljayBAdWkuY2hib3gnOiBmdW5jdGlvbiBjbGlja1VpQ2hib3goZSkge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3NlbGVjdGVkJywgdGhpcy51aS5jaGJveC5wcm9wKCdjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlck1ldGhvZCgnY2xpY2s6c2VsZWN0OmlucHV0JywgdGhpcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnY2xpY2sgQHVpLmNhbmNlbCc6IGZ1bmN0aW9uIGNsaWNrVWlDYW5jZWwoKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgnaXNFZGl0JywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVsLmlkKSB0aGlzLm1vZGVsLmNvbGxlY3Rpb24ucmVtb3ZlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NsaWNrIEB1aS5zYXZlJzogZnVuY3Rpb24gY2xpY2tVaVNhdmUoZSkge1xuXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGlmICgkLnRyaW0odGhpcy51aS5zcGFuLnRleHQoKSkpIHRoaXMubW9kZWwuc2F2ZSh7IHRpdGxlOiB0aGlzLnVpLnNwYW4udGV4dCgpIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ2lzRWRpdCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICdjbGljayAuZXhwYW5kZXInOiBmdW5jdGlvbiBjbGlja0V4cGFuZGVyKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2RpdicpLnRvZ2dsZUNsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1vZGVsRXZlbnRzOiB7XG5cbiAgICAgICAgICAgICdjaGFuZ2U6bm9kZXMnOiBmdW5jdGlvbiBjaGFuZ2VOb2RlcyhtLCBub2Rlcykge1xuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVzICYmIG5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLmV4cGFuZGVyLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLnNwYW4uYXR0cigndHJlZS1pY29uJywgJ2ZvbGRlcicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWkuZXhwYW5kZXIuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS5zcGFuLmF0dHIoJ3RyZWUtaWNvbicsICdmaWxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2NoYW5nZTppc0VkaXQnOiBmdW5jdGlvbiBjaGFuZ2VJc0VkaXQobSwgdikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHYpIHRoaXMudWkuc3Bhbi5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtlbHNlIHRoaXMudWkuc3Bhbi5yZW1vdmVBdHRyKCdjb250ZW50ZWRpdGFibGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQgJiYgdGhpcy5vcHRpb25zLnBhcmVudC5pZCA9PT0gdGhpcy5tb2RlbC5nZXQoJ3BhcmVudGlkJykpIHtcblxuICAgICAgICAgICAgICAgIHZhciBwID0gdGhpcy5vcHRpb25zLnBhcmVudC5nZXQoJ3BhcmVudHMnKSB8fCBbXTtcblxuICAgICAgICAgICAgICAgIHAucHVzaChwYXJzZUludCh0aGlzLm9wdGlvbnMucGFyZW50LmlkKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCgncGFyZW50cycsIF8udW5pcShwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ub2RlKSB0aGlzLm9wdGlvbnMubm9kZSA9IHtcbiAgICAgICAgICAgICAgICBjaGVja2JveDogdHJ1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdzZWxlY3RlZCcpKSB0aGlzLiQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIHRoaXMubW9kZWwuZ2V0KCdzZWxlY3RlZCcpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdub2RlcycpKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBvcGVuIG5vZGVzXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubm9kZS5sZXZlbE9wZW4pIHRoaXMuJCgnZGl2JykuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7ZWxzZSBpZiAodGhpcy5tb2RlbC5nZXQoJ2xldmVsJykgPCB0aGlzLm9wdGlvbnMubm9kZS5sZXZlbE9wZW4pIHRoaXMuJCgnZGl2JykuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdHJlZVZpZXcgPSBuZXcgVHJlZVZpZXcoeyBwYXJlbnQ6IHRoaXMubW9kZWwsIGNvbGxlY3Rpb246IHRoaXMubW9kZWwuZ2V0KCdub2RlcycpLCB1cmw6IHRoaXMub3B0aW9ucy51cmwsIG5vZGU6IHRoaXMub3B0aW9ucy5ub2RlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NoaWxkVmlldygndHJlZScsIHRyZWVWaWV3KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubm9kZS5jaGVja2JveCkgdGhpcy4kKCdpbnB1dFt0eXBlPWNoZWNrYm94XSB+IGxhYmVsJykuaGlkZSgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZWwuaGFzKCdpc0VkaXQnKSkgdGhpcy5tb2RlbC5zZXQoJ2lzRWRpdCcsIGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93QWRkVGVtcGxhdGU6IGZ1bmN0aW9uIHNob3dBZGRUZW1wbGF0ZSgpIHtcblxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ2lzRWRpdCcsIGZhbHNlKTtcblxuICAgICAgICAgICAgdmFyIG0gPSBuZXcgQmFja2JvbmUuTW9kZWwoeyBpZDogbnVsbCwgdGl0bGU6IFJlc291cmNlcy50aXRsZSwgcGFyZW50aWQ6IHRoaXMubW9kZWwuaWQsIGNkYXRlOiAwLCBub2RlczogbnVsbCwgaWNvbnVybDogbnVsbCB9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaGFzKCdub2RlcycpKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmdldCgnbm9kZXMnKS5hZGQobSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oW21dKTtcbiAgICAgICAgICAgICAgICBjby51cmwgPSB0aGlzLm1vZGVsLmNvbGxlY3Rpb24udXJsO1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsgbm9kZXM6IGNvLCBjaGlsZHJlbjogMSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5tb2RlbC50cmlnZ2VyKCdjaGFuZ2U6bm9kZXMnKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIG0uc2V0KCdpc0VkaXQnLCB0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGlsZFZpZXdUcmlnZ2Vyczoge1xuICAgICAgICAgICAgJ2NsaWNrOnNlbGVjdDppbnB1dCc6ICdjbGljazpzZWxlY3Q6aW5wdXQnLFxuICAgICAgICAgICAgJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbSc6ICdjb250YWluZXI6c2VsZWN0Oml0ZW0nXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgdmFyIFRyZWVWaWV3ID0gTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndWwnLFxuICAgICAgICBjbGFzc05hbWU6ICdnLXRyZWUnLFxuICAgICAgICBjaGlsZFZpZXc6IFRyZWVOb2RlLFxuXG4gICAgICAgIGNoaWxkVmlld09wdGlvbnM6IGZ1bmN0aW9uIGNoaWxkVmlld09wdGlvbnMoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLm9wdGlvbnMucGFyZW50LFxuICAgICAgICAgICAgICAgIHVybDogdGhpcy5vcHRpb25zLnVybCxcbiAgICAgICAgICAgICAgICBub2RlOiB0aGlzLm9wdGlvbnMubm9kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24uY29tcGFyYXRvciA9ICdjZGF0ZSc7XG5cbiAgICAgICAgICAgIHRoaXMuYnJhbmNoID0gdGhpcy5vcHRpb25zLmJyYW5jaCB8fCB7IHBpZDogMCB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbGxlY3Rpb25FdmVudHM6IHtcblxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wYXJlbnQuc2V0KHsgY2hpbGRyZW46IHRoaXMuY29sbGVjdGlvbi5sZW5ndGggfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB0aGlzLm9wdGlvbnMucGFyZW50LnNldCh7IG5vZGVzOiBudWxsIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmhpZGVJbmRpY2F0b3IoKTtcblxuICAgICAgICAgICAgICAgIHZhciB3aWxsID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KG0uZ2V0KCdwYXJlbnRpZCcpKSA9PT0gMCkgbS5zZXQoJ2xldmVsJywgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RlZCkgbS5zZXQoJ3NlbGVjdGVkJywgdGhpcy5vcHRpb25zLnNlbGVjdGVkLmluZGV4T2YocGFyc2VJbnQobS5pZCkpICE9PSAtMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5jb2xsZWN0aW9uLndoZXJlKHsgcGFyZW50aWQ6IG0uaWQgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjbyA9IG5ldyBCYWNrYm9uZS5Db2xsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY28udXJsID0gdGhpcy5jb2xsZWN0aW9uLnVybDtcblxuICAgICAgICAgICAgICAgICAgICBjby5hZGQoXy5tYXAobm9kZXMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnNldCgnbGV2ZWwnLCBtLmdldCgnbGV2ZWwnKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5jb2xsZWN0aW9uID0gY287XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIG0uc2V0KCdub2RlcycsIGNvLmxlbmd0aCA/IGNvIDogbS5oYXMoJ2lzZG9jJykgPyBudWxsIDogW10pO1xuICAgICAgICAgICAgICAgICAgICB3aWxsLmFkZChub2Rlcyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24ucmVtb3ZlKHdpbGwubW9kZWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoaWxkdmlld0NvbnRhaW5lclNlbGVjdEl0ZW06IGZ1bmN0aW9uIG9uQ2hpbGR2aWV3Q29udGFpbmVyU2VsZWN0SXRlbSh2KSB7XG5cbiAgICAgICAgICAgIHRoaXMuJCgnZGl2LmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHYuJCgnZGl2OmZpcnN0JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoaWxkVmlld1RyaWdnZXJzOiB7XG4gICAgICAgICAgICAnY2xpY2s6c2VsZWN0OmlucHV0JzogJ2NsaWNrOnNlbGVjdDppbnB1dCcsXG4gICAgICAgICAgICAnY29udGFpbmVyOnNlbGVjdDppdGVtJzogJ2NvbnRhaW5lcjpzZWxlY3Q6aXRlbSdcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gVHJlZVZpZXc7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmRlZmluZSgnZy9lalJURVZpZXcnLCBbJ2kxOG4hbmxzL3Jlc291cmNlcy5taW4nLCAnZy9JbWFnZUdhbGxlcnlWaWV3JywgJ1JVJywgJ3N5bmNmdXNpb24nXSwgZnVuY3Rpb24gKFJlc291cmNlcywgR2FsbGVyeSkge1xuXG4gICAgcmV0dXJuIE1uLlZpZXcuZXh0ZW5kKHtcblxuICAgICAgICB0YWdOYW1lOiAndGV4dGFyZWEnLFxuICAgICAgICB0ZW1wbGF0ZTogZmFsc2UsXG5cbiAgICAgICAgb25BdHRhY2g6IGZ1bmN0aW9uIG9uQXR0YWNoKCkge1xuXG4gICAgICAgICAgICB0aGlzLmVqUlRFID0gdGhpcy4kZWwuZWpSVEUoe1xuICAgICAgICAgICAgICAgIGVuYWJsZVJUTDogISF0aGlzLm9wdGlvbnMuZW5hYmxlUlRMLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLm9wdGlvbnMudmFsdWUsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogUmVzb3VyY2VzLkxhbmcsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMub3B0aW9ucy53aWR0aCB8fCBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMub3B0aW9ucy5oZWlnaHQgfHwgXCI0NTBweFwiLFxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogXCIyMDBweFwiLFxuICAgICAgICAgICAgICAgIHNob3dGb290ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd0h0bWxTb3VyY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgLy9pc1Jlc3BvbnNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvb2xzTGlzdDogWy8qXCJ2aWV3XCIsKi9cImZvbnRcIiwgXCJzdHlsZVwiLCBcImFsaWdubWVudFwiLCBcImN1c3RvbVRvb2xzXCIsIFwibGlua3NcIiwgXCJjbGlwYm9hcmRcIiwgXCJkb0FjdGlvblwiLCAvKlwiaW5kZW50aW5nXCIsKi9cImxpc3RzXCIsIFwibWVkaWFcIiwgXCJ0YWJsZXNcIiwgXCJjYXNpbmdcIiwgXCJjbGVhclwiXSxcbiAgICAgICAgICAgICAgICB0b29sczoge1xuICAgICAgICAgICAgICAgICAgICAvL2Zvcm1hdFN0eWxlOiBbXCJmb3JtYXRcIl0sXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdDpbXCJmaW5kQW5kUmVwbGFjZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgZm9udDogW1wiZm9udFNpemVcIiwgXCJmb250Q29sb3JcIiwgXCJiYWNrZ3JvdW5kQ29sb3JcIl0sXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBbXCJib2xkXCIsIFwiaXRhbGljXCIsIFwidW5kZXJsaW5lXCIsIFwic3RyaWtldGhyb3VnaFwiXSxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25tZW50OiBbXCJqdXN0aWZ5TGVmdFwiLCBcImp1c3RpZnlDZW50ZXJcIiwgXCJqdXN0aWZ5UmlnaHRcIiwgXCJqdXN0aWZ5RnVsbFwiXSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdHM6IFtcInVub3JkZXJlZExpc3RcIiwgXCJvcmRlcmVkTGlzdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkOiBbXCJjdXRcIiwgXCJjb3B5XCIsIFwicGFzdGVcIl0sXG4gICAgICAgICAgICAgICAgICAgIGRvQWN0aW9uOiBbXCJ1bmRvXCIsIFwicmVkb1wiXSxcbiAgICAgICAgICAgICAgICAgICAgLy9pbmRlbnRpbmc6IFtcIm91dGRlbnRcIiwgXCJpbmRlbnRcIl0sXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyOiBbXCJjbGVhckZvcm1hdFwiLCBcImNsZWFyQWxsXCJdLFxuICAgICAgICAgICAgICAgICAgICBsaW5rczogW1wiY3JlYXRlTGlua1wiLCBcInJlbW92ZUxpbmtcIl0sXG4gICAgICAgICAgICAgICAgICAgIC8vaW1hZ2VzOiBbXCJpbWFnZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWE6IFtcInZpZGVvXCJdLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZXM6IFtcImNyZWF0ZVRhYmxlXCIsIFwiYWRkUm93QWJvdmVcIiwgXCJhZGRSb3dCZWxvd1wiLCBcImFkZENvbHVtbkxlZnRcIiwgXCJhZGRDb2x1bW5SaWdodFwiLCBcImRlbGV0ZVJvd1wiLCBcImRlbGV0ZUNvbHVtblwiLCBcImRlbGV0ZVRhYmxlXCJdLFxuICAgICAgICAgICAgICAgICAgICAvL2VmZmVjdHM6IFtcInN1cGVyc2NyaXB0XCIsIFwic3Vic2NyaXB0XCJdLFxuICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFtcInVwcGVyQ2FzZVwiLCBcImxvd2VyQ2FzZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgLy92aWV3OiBbXCJmdWxsU2NyZWVuXCJdLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21Ub29sczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiZ2FsbGVyeVdpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogUmVzb3VyY2VzLmdhbGxlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzczogXCJlLXJ0ZS10b29sYmFyLWljb24gaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2dhbGxlcnktd2luZG93JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ljb24tc291cmNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJlc291cmNlcy5nYWxsZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3IEdhbGxlcnkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYWNrYm9uZS5SYWRpby5jaGFubmVsKCdOb3RpZnknKS5yZXF1ZXN0KCdvbmNlOmRpYWxvZycsIGRtKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oZG0uY29udGVudCwgJ2NoYW5nZTppdGVtJywgZnVuY3Rpb24gKG1vZGVsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9ICc8aW1nIHNyYz1cIicgKyBtb2RlbC5nZXQoJ0ZpbGVVcmwnKSArICdcIiBhbHQ9XCInICsgbW9kZWwuZ2V0KCdPcmlnaW5hbEZpbGVOYW1lJykgKyAnXCIgLz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVqUlRFLmV4ZWN1dGVDb21tYW5kKFwiaW5zZXJ0aHRtbFwiLCBpbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy97XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBuYW1lOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRvb2x0aXA6IFJlc291cmNlcy5hZGRPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjc3M6ICdlLXJ0ZS10b29sYmFyLWljb24gbGluay1vYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgdmFyIHRleHQgPSB0aGlzLmVqUlRFLmdldFRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB2YXIgbW9kZWwgPSBuZXcgQmFja2JvbmUuTW9kZWwoeyBQYXJhbWV0clR5cGU6IFwiT2JqZWN0XCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgQmFja2JvbmUudHJpZ2dlcihcImNob2ljZTp2aWV3XCIsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBtb2RlbC5vbihcImNob2ljZTpjbG9zZVwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgbyA9IGMuYXQoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGlmIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB2YXIgb2lkID0gby5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHRoaXMuZWpSVEUuZXhlY3V0ZUNvbW1hbmQoXCJpbnNlcnRodG1sXCIsIFwiPHNwYW4gZGF0YS1va25kPSczJyBkYXRhLW9pZD0nXCIgKyBvaWQgKyBcIicgY2xhc3M9J01hcmsnIHRpdGxlPSdcIiArIG8uZ2V0KFwidGl0bGVcIikgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5kYXRhKFwiZWpSVEVcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZml4OiBmdW5jdGlvbiBmaXgoKSB7XG4gICAgICAgICAgICAvLyDQutC+0YHRgtGL0LvRjCDQtNC70Y8gZWpSVEUgLSDRgNC10LTQsNC60YLQvtGAINC90LUg0L/RgNCw0LLQuNC70YzQvdC+INCy0YvRh9C40YHQu9GP0LXRgiDRgNCw0LfQvNC10YDRiyDQvtCx0LvQsNGB0YLQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuFxuICAgICAgICAgICAgLy8g0YDQsNCx0L7RgtCw0LXRgiDQutC+0LPQtNCwINGA0LXQtNCw0LrRgtC+0YAg0LLQuNC00LXQvVxuICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyJdfQ==
